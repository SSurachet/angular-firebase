(self.webpackChunkangular_firebase=self.webpackChunkangular_firebase||[]).push([[179],{384:(gh,mh,io)=>{"use strict";function oe(n){return"function"==typeof n}function ba(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ds=ba(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function wa(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Et{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(oe(r))try{r()}catch(s){e=s instanceof Ds?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Al(s)}catch(o){e=null!=e?e:[],o instanceof Ds?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ds(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Al(e);else{if(e instanceof Et){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&wa(t,e)}remove(e){const{_finalizers:t}=this;t&&wa(t,e),e instanceof Et&&e._removeParent(this)}}Et.EMPTY=(()=>{const n=new Et;return n.closed=!0,n})();const Da=Et.EMPTY;function so(n){return n instanceof Et||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function Al(n){oe(n)?n():n.unsubscribe()}const Pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},hi={setTimeout(n,e,...t){const{delegate:r}=hi;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=hi;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function ar(n){hi.setTimeout(()=>{const{onUnhandledError:e}=Pn;if(!e)throw n;e(n)})}function Tr(){}const Ea=Sl("C",void 0,void 0);function Sl(n,e,t){return{kind:n,value:e,error:t}}let L=null;function ae(n){if(Pn.useDeprecatedSynchronousErrorHandling){const e=!L;if(e&&(L={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=L;if(L=null,t)throw r}}else n()}class Ne extends Et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,so(e)&&e.add(this)):this.destination=WH}static create(e,t,r){return new _h(e,t,r)}next(e){this.isStopped?km(function Rm(n){return Sl("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?km(function Ta(n){return Sl("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?km(Ea,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ye=Function.prototype.bind;function Fn(n,e){return ye.call(n,e)}class oo{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){yh(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){yh(r)}else yh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){yh(t)}}}class _h extends Ne{constructor(e,t,r){let i;if(super(),oe(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&Pn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fn(e.next,s),error:e.error&&Fn(e.error,s),complete:e.complete&&Fn(e.complete,s)}):i=e}this.destination=new oo(i)}}function yh(n){Pn.useDeprecatedSynchronousErrorHandling?function Ie(n){Pn.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=n)}(n):ar(n)}function km(n,e){const{onStoppedNotification:t}=Pn;t&&hi.setTimeout(()=>t(n,e))}const WH={closed:!0,next:Tr,error:function GH(n){throw n},complete:Tr},Pm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Bi(n){return n}let Me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function zH(n){return n&&n instanceof Ne||function qH(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}(n)&&so(n)}(t)?t:new _h(t,r,i);return ae(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=VI(r))((i,s)=>{const o=new _h({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Pm](){return this}pipe(...t){return function LI(n){return 0===n.length?Bi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=VI(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function VI(n){var e;return null!==(e=null!=n?n:Pn.Promise)&&void 0!==e?e:Promise}const KH=ba(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let We=(()=>{class n extends Me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new BI(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new KH}next(t){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ae(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Da:(this.currentObservers=null,s.push(t),new Et(()=>{this.currentObservers=null,wa(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Me;return t.source=this,t}}return n.create=(e,t)=>new BI(e,t),n})();class BI extends We{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Da}}function UI(n){return oe(null==n?void 0:n.lift)}function at(n){return e=>{if(UI(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function qe(n,e,t,r,i){return new YH(n,e,t,r,i)}class YH extends Ne{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Y(n,e){return at((t,r)=>{let i=0;t.subscribe(qe(r,s=>{r.next(n.call(e,s,i++))}))})}function HI(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function ao(n){return this instanceof ao?(this.v=n,this):new ao(n)}function ZH(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ao?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function XH(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function GI(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const Lm=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function WI(n){return oe(null==n?void 0:n.then)}function qI(n){return oe(n[Pm])}function zI(n){return Symbol.asyncIterator&&oe(null==n?void 0:n[Symbol.asyncIterator])}function KI(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const YI=function t$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function JI(n){return oe(null==n?void 0:n[YI])}function QI(n){return ZH(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ao(t.read());if(i)return yield ao(void 0);yield yield ao(r)}}finally{t.releaseLock()}})}function ZI(n){return oe(null==n?void 0:n.getReader)}function Dn(n){if(n instanceof Me)return n;if(null!=n){if(qI(n))return function n$(n){return new Me(e=>{const t=n[Pm]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Lm(n))return function r$(n){return new Me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(WI(n))return function i$(n){return new Me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ar)})}(n);if(zI(n))return XI(n);if(JI(n))return function s$(n){return new Me(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ZI(n))return function o$(n){return XI(QI(n))}(n)}throw KI(n)}function XI(n){return new Me(e=>{(function a$(n,e){var t,r,i,s;return function JH(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=XH(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ui(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Tt(n,e,t=1/0){return oe(e)?Tt((r,i)=>Y((s,o)=>e(r,s,i,o))(Dn(n(r,i))),t):("number"==typeof e&&(t=e),at((r,i)=>function u$(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=m=>l<r?p(m):u.push(m),p=m=>{s&&e.next(m),l++;let y=!1;Dn(t(m,c++)).subscribe(qe(e,b=>{null==i||i(b),s?f(b):e.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;u.length&&l<r;){const b=u.shift();o?Ui(e,o,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(qe(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function Nl(n=1/0){return Tt(Bi,n)}const Hr=new Me(n=>n.complete());function eA(n){return n&&oe(n.schedule)}function Vm(n){return n[n.length-1]}function vh(n){return oe(Vm(n))?n.pop():void 0}function Ml(n){return eA(Vm(n))?n.pop():void 0}function bh(n,e=0){return at((t,r)=>{t.subscribe(qe(r,i=>Ui(r,n,()=>r.next(i),e),()=>Ui(r,n,()=>r.complete(),e),i=>Ui(r,n,()=>r.error(i),e)))})}function wh(n,e=0){return at((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function tA(n,e){if(!n)throw new Error("Iterable cannot be null");return new Me(t=>{Ui(t,e,()=>{const r=n[Symbol.asyncIterator]();Ui(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Rt(n,e){return e?function m$(n,e){if(null!=n){if(qI(n))return function d$(n,e){return Dn(n).pipe(wh(e),bh(e))}(n,e);if(Lm(n))return function f$(n,e){return new Me(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(WI(n))return function h$(n,e){return Dn(n).pipe(wh(e),bh(e))}(n,e);if(zI(n))return tA(n,e);if(JI(n))return function p$(n,e){return new Me(t=>{let r;return Ui(t,e,()=>{r=n[YI](),Ui(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>oe(null==r?void 0:r.return)&&r.return()})}(n,e);if(ZI(n))return function g$(n,e){return tA(QI(n),e)}(n,e)}throw KI(n)}(n,e):Dn(n)}function Bm(...n){const e=Ml(n),t=function c$(n,e){return"number"==typeof Vm(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Dn(r[0]):Nl(t)(Rt(r,e)):Hr}function ut(n){return n<=0?()=>Hr:at((e,t)=>{let r=0;e.subscribe(qe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Um(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(ut(1)).subscribe(()=>n())}function Le(n){for(let e in n)if(n[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function jm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Re(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Re).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Hm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const y$=Le({__forward_ref__:Le});function Te(n){return n.__forward_ref__=Te,n.toString=function(){return Re(this())},n}function ne(n){return nA(n)?n():n}function nA(n){return"function"==typeof n&&n.hasOwnProperty(y$)&&n.__forward_ref__===Te}class ve extends Error{constructor(e,t){super(function $m(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Z(n){return"string"==typeof n?n:null==n?"":String(n)}function Ln(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Z(n)}function Dh(n,e){const t=e?` in ${e}`:"";throw new ve(-201,`No provider for ${Ln(n)} found${t}`)}function lr(n,e){null==n&&function ze(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ce(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gm(n){return rA(n,Eh)||rA(n,sA)}function rA(n,e){return n.hasOwnProperty(e)?n[e]:null}function iA(n){return n&&(n.hasOwnProperty(Wm)||n.hasOwnProperty(C$))?n[Wm]:null}const Eh=Le({\u0275prov:Le}),Wm=Le({\u0275inj:Le}),sA=Le({ngInjectableDef:Le}),C$=Le({ngInjectorDef:Le});var J=(()=>((J=J||{})[J.Default=0]="Default",J[J.Host=1]="Host",J[J.Self=2]="Self",J[J.SkipSelf=4]="SkipSelf",J[J.Optional=8]="Optional",J))();let qm;function Es(n){const e=qm;return qm=n,e}function oA(n,e,t){const r=Gm(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&J.Optional?null:void 0!==e?e:void Dh(Re(n),"Injector")}function Ts(n){return{toString:n}.toString()}var $r=(()=>(($r=$r||{})[$r.OnPush=0]="OnPush",$r[$r.Default=1]="Default",$r))(),fi=(()=>{return(n=fi||(fi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",fi;var n})();const A$="undefined"!=typeof globalThis&&globalThis,S$="undefined"!=typeof window&&window,N$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pe=A$||"undefined"!=typeof global&&global||S$||N$,Ca={},Ve=[],Th=Le({\u0275cmp:Le}),zm=Le({\u0275dir:Le}),Km=Le({\u0275pipe:Le}),aA=Le({\u0275mod:Le}),Hi=Le({\u0275fac:Le}),xl=Le({__NG_ELEMENT_ID__:Le});let M$=0;function pi(n){return Ts(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===$r.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ve,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||fi.Emulated,id:"c",styles:n.styles||Ve,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=M$++,r.inputs=dA(n.inputs,t),r.outputs=dA(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(uA):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(lA):null,r})}function uA(n){return En(n)||function Cs(n){return n[zm]||null}(n)}function lA(n){return function uo(n){return n[Km]||null}(n)}const cA={};function Ae(n){return Ts(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ve,declarations:n.declarations||Ve,imports:n.imports||Ve,exports:n.exports||Ve,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(cA[n.id]=n.type),e})}function dA(n,e){if(null==n)return Ca;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const M=pi;function Xn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function En(n){return n[Th]||null}function Cr(n,e){const t=n[aA]||null;if(!t&&!0===e)throw new Error(`Type ${Re(n)} does not have '\u0275mod' property.`);return t}function gi(n){return Array.isArray(n)&&"object"==typeof n[1]}function Wr(n){return Array.isArray(n)&&!0===n[1]}function Qm(n){return 0!=(8&n.flags)}function Sh(n){return 2==(2&n.flags)}function Nh(n){return 1==(1&n.flags)}function qr(n){return null!==n.template}function F$(n){return 0!=(512&n[2])}function fo(n,e){return n.hasOwnProperty(Hi)?n[Hi]:null}class B${constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Vn(){return fA}function fA(n){return n.type.prototype.ngOnChanges&&(n.setInput=j$),U$}function U$(){const n=gA(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Ca)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function j$(n,e,t,r){const i=gA(n)||function H$(n,e){return n[pA]=e}(n,{previous:Ca,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new B$(u&&u.currentValue,e,o===Ca),n[r]=e}Vn.ngInherit=!0;const pA="__ngSimpleChanges__";function gA(n){return n[pA]||null}let n_;function lt(n){return!!n.listen}const mA={createRenderer:(n,e)=>function r_(){return void 0!==n_?n_:"undefined"!=typeof document?document:void 0}()};function Ct(n){for(;Array.isArray(n);)n=n[0];return n}function Mh(n,e){return Ct(e[n])}function Sr(n,e){return Ct(e[n.index])}function i_(n,e){return n.data[e]}function dr(n,e){const t=e[n];return gi(t)?t:t[0]}function _A(n){return 4==(4&n[2])}function s_(n){return 128==(128&n[2])}function Is(n,e){return null==e?null:n[e]}function yA(n){n[18]=0}function o_(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const K={lFrame:IA(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function vA(){return K.bindingsEnabled}function E(){return K.lFrame.lView}function be(){return K.lFrame.tView}function kt(){let n=bA();for(;null!==n&&64===n.type;)n=n.parent;return n}function bA(){return K.lFrame.currentTNode}function mi(n,e){const t=K.lFrame;t.currentTNode=n,t.isParent=e}function a_(){return K.lFrame.isParent}function u_(){K.lFrame.isParent=!1}function xh(){return K.isInCheckNoChangesMode}function Oh(n){K.isInCheckNoChangesMode=n}function xa(){return K.lFrame.bindingIndex++}function Wi(n){const e=K.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function sG(n,e){const t=K.lFrame;t.bindingIndex=t.bindingRootIndex=n,l_(e)}function l_(n){K.lFrame.currentDirectiveIndex=n}function EA(){return K.lFrame.currentQueryIndex}function d_(n){K.lFrame.currentQueryIndex=n}function aG(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function TA(n,e,t){if(t&J.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&J.Host||(i=aG(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=K.lFrame=CA();return r.currentTNode=e,r.lView=n,!0}function Rh(n){const e=CA(),t=n[1];K.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function CA(){const n=K.lFrame,e=null===n?null:n.child;return null===e?IA(n):e}function IA(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function AA(){const n=K.lFrame;return K.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const SA=AA;function kh(){const n=AA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Un(){return K.lFrame.selectedIndex}function As(n){K.lFrame.selectedIndex=n}function ct(){const n=K.lFrame;return i_(n.tView,n.selectedIndex)}function Ph(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(t,c)}}function Fh(n,e,t){NA(n,e,3,t)}function Lh(n,e,t,r){(3&n[2])===t&&NA(n,e,t,r)}function h_(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function NA(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(mG(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function mG(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Fl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Vh(n,e,t){const r=lt(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];p_(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function MA(n){return 3===n||4===n||6===n}function p_(n){return 64===n.charCodeAt(0)}function Bh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||xA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function xA(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function OA(n){return-1!==n}function Oa(n){return 32767&n}function Ra(n,e){let t=function wG(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let g_=!0;function Uh(n){const e=g_;return g_=n,e}let DG=0;function Vl(n,e){const t=__(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,m_(r.data,n),m_(e,null),m_(r.blueprint,null));const i=jh(n,e),s=n.injectorIndex;if(OA(i)){const o=Oa(i),a=Ra(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function m_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function __(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function jh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Hh(n,e,t){!function EG(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(xl)&&(r=t[xl]),null==r&&(r=t[xl]=DG++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function PA(n,e,t){if(t&J.Optional)return n;Dh(e,"NodeInjector")}function FA(n,e,t,r){if(t&J.Optional&&void 0===r&&(r=null),0==(t&(J.Self|J.Host))){const i=n[9],s=Es(void 0);try{return i?i.get(e,r,t&J.Optional):oA(e,r,t&J.Optional)}finally{Es(s)}}return PA(r,e,t)}function LA(n,e,t,r=J.Default,i){if(null!==n){const s=function AG(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(xl)?n[xl]:void 0;return"number"==typeof e?e>=0?255&e:CG:e}(t);if("function"==typeof s){if(!TA(e,n,r))return r&J.Host?PA(i,t,r):FA(e,t,r,i);try{const o=s(r);if(null!=o||r&J.Optional)return o;Dh(t)}finally{SA()}}else if("number"==typeof s){let o=null,a=__(n,e),u=-1,l=r&J.Host?e[16][6]:null;for((-1===a||r&J.SkipSelf)&&(u=-1===a?jh(n,e):e[a+8],-1!==u&&UA(r,!1)?(o=e[1],a=Oa(u),e=Ra(u,e)):a=-1);-1!==a;){const c=e[1];if(BA(s,a,c.data)){const d=IG(a,e,t,o,r,l);if(d!==VA)return d}u=e[a+8],-1!==u&&UA(r,e[1].data[a+8]===l)&&BA(s,a,e)?(o=c,a=Oa(u),e=Ra(u,e)):a=-1}}}return FA(e,t,r,i)}const VA={};function CG(){return new ka(kt(),E())}function IG(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],c=$h(a,o,t,null==r?Sh(a)&&g_:r!=o&&0!=(3&a.type),i&J.Host&&s===a);return null!==c?Bl(e,o,c,a):VA}function $h(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&qr(f)&&f.type===t)return u}return null}function Bl(n,e,t,r){let i=n[t];const s=e.data;if(function _G(n){return n instanceof Fl}(i)){const o=i;o.resolving&&function v$(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ve(-200,`Circular dependency in DI detected for ${n}${t}`)}(Ln(s[t]));const a=Uh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Es(o.injectImpl):null;TA(n,r,J.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function gG(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=fA(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&Es(u),Uh(a),o.resolving=!1,SA()}}return i}function BA(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function UA(n,e){return!(n&J.Self||n&J.Host&&e)}class ka{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return LA(this._tNode,this._lView,e,r,t)}}function y_(n){return nA(n)?()=>{const e=y_(ne(n));return e&&e()}:fo(n)}const Fa="__parameters__";function Va(n,e,t){return Ts(()=>{const r=function v_(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(Fa)?u[Fa]:Object.defineProperty(u,Fa,{value:[]})[Fa];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class ee{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const NG=new ee("AnalyzeForEntryComponents");function Nr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Nr(r,e)):e!==n&&e.push(r)}return e}function _i(n,e){n.forEach(t=>Array.isArray(t)?_i(t,e):e(t))}function HA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Gh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Hl(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function hr(n,e,t){let r=Ba(n,e);return r>=0?n[1|r]=t:(r=~r,function OG(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function w_(n,e){const t=Ba(n,e);if(t>=0)return n[1|t]}function Ba(n,e){return function WA(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const $l={},E_="__NG_DI_FLAG__",qh="ngTempTokenPath",BG=/\n/gm,zA="__source",jG=Le({provide:String,useValue:Le});let Gl;function KA(n){const e=Gl;return Gl=n,e}function HG(n,e=J.Default){if(void 0===Gl)throw new ve(203,"");return null===Gl?oA(n,void 0,e):Gl.get(n,e&J.Optional?null:void 0,e)}function k(n,e=J.Default){return(function I$(){return qm}()||HG)(ne(n),e)}const $G=k;function T_(n){const e=[];for(let t=0;t<n.length;t++){const r=ne(n[t]);if(Array.isArray(r)){if(0===r.length)throw new ve(900,"");let i,s=J.Default;for(let o=0;o<r.length;o++){const a=r[o],u=GG(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(k(i,s))}else e.push(k(r))}return e}function Wl(n,e){return n[E_]=e,n.prototype[E_]=e,n}function GG(n){return n[E_]}const zh=Wl(Va("Inject",n=>({token:n})),-1),Ft=Wl(Va("Optional"),8),ql=Wl(Va("SkipSelf"),4);function Ns(n){return n instanceof class rS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}const fS="__ngContext__";function In(n,e){n[fS]=e}function k_(n){const e=function Ql(n){return n[fS]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function F_(n){return n.ngOriginalError}function L3(n,...e){n.error(...e)}class Zl{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function F3(n){return n&&n.ngErrorLogger||L3}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&F_(e);for(;t&&F_(t);)t=F_(t);return t||null}}const z3=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pe))();function vi(n){return n instanceof Function?n():n}var fr=(()=>((fr=fr||{})[fr.Important=1]="Important",fr[fr.DashCase=2]="DashCase",fr))();function V_(n,e){return undefined(n,e)}function Xl(n){const e=n[3];return Wr(e)?e[3]:e}function B_(n){return DS(n[13])}function U_(n){return DS(n[4])}function DS(n){for(;null!==n&&!Wr(n);)n=n[4];return n}function $a(n,e,t,r,i){if(null!=r){let s,o=!1;Wr(r)?s=r:gi(r)&&(o=!0,r=r[0]);const a=Ct(r);0===n&&null!==t?null==i?SS(e,t,a):go(e,t,a,i||null,!0):1===n&&null!==t?go(e,t,a,i||null,!0):2===n?function PS(n,e,t){const r=Xh(n,e);r&&function a8(n,e,t,r){lt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function c8(n,e,t,r,i){const s=t[7];s!==Ct(t)&&$a(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];ec(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function H_(n,e,t){if(lt(n))return n.createElement(e,t);{const r=null!==t?function q$(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function TS(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,o_(i,-1)),t.splice(r,1)}function $_(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&TS(i,r),e>0&&(n[t-1][4]=r[4]);const s=Gh(n,10+e);!function X3(n,e){ec(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function CS(n,e){if(!(256&e[2])){const t=e[11];lt(t)&&t.destroyNode&&ec(n,e,t,3,null,null),function n8(n){let e=n[13];if(!e)return G_(n[1],n);for(;e;){let t=null;if(gi(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)gi(e)&&G_(e[1],e),e=e[3];null===e&&(e=n),gi(e)&&G_(e[1],e),t=e&&e[4]}e=t}}(e)}}function G_(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function o8(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Fl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function s8(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Ct(e[o]),u=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&lt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Wr(e[3])){t!==e[3]&&TS(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function IS(n,e,t){return function AS(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===fi.None||i===fi.Emulated)return null}return Sr(r,t)}(n,e.parent,t)}function go(n,e,t,r,i){lt(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function SS(n,e,t){lt(n)?n.appendChild(e,t):e.appendChild(t)}function NS(n,e,t,r,i){null!==r?go(n,e,t,r,i):SS(n,e,t)}function Xh(n,e){return lt(n)?n.parentNode(e):e.parentNode}function MS(n,e,t){return OS(n,e,t)}let OS=function xS(n,e,t){return 40&n.type?Sr(n,t):null};function ef(n,e,t,r){const i=IS(n,r,e),s=e[11],a=MS(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)NS(s,i,t[u],a,!1);else NS(s,i,t,a,!1)}function tf(n,e){if(null!==e){const t=e.type;if(3&t)return Sr(e,n);if(4&t)return q_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return tf(n,r);{const i=n[e.index];return Wr(i)?q_(-1,i):Ct(i)}}if(32&t)return V_(e,n)()||Ct(n[e.index]);{const r=kS(n,e);return null!==r?Array.isArray(r)?r[0]:tf(Xl(n[16]),r):tf(n,e.next)}}return null}function kS(n,e){return null!==e?n[16][6].projection[e.projection]:null}function q_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return tf(r,i)}return e[7]}function z_(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&In(Ct(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)z_(n,e,t.child,r,i,s,!1),$a(e,n,i,a,s);else if(32&u){const l=V_(t,r);let c;for(;c=l();)$a(e,n,i,c,s);$a(e,n,i,a,s)}else 16&u?FS(n,e,r,t,i,s):$a(e,n,i,a,s);t=o?t.projectionNext:t.next}}function ec(n,e,t,r,i,s){z_(t,r,n.firstChild,e,i,s,!1)}function FS(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)$a(e,n,i,u[l],s);else z_(n,e,u,o[3],i,s,!0)}function LS(n,e,t){lt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function K_(n,e,t){lt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function VS(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const BS="ng-template";function h8(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==VS(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function US(n){return 4===n.type&&n.value!==BS}function f8(n,e,t){return e===(4!==n.type||t?n.value:BS)}function p8(n,e,t){let r=4;const i=n.attrs||[],s=function _8(n){for(let e=0;e<n.length;e++)if(MA(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!f8(n,u,t)||""===u&&1===e.length){if(zr(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!h8(n.attrs,l,t)){if(zr(r))return!1;o=!0}continue}const d=g8(8&r?"class":u,i,US(n),t);if(-1===d){if(zr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==VS(f,l,0)||2&r&&l!==h){if(zr(r))return!1;o=!0}}}}else{if(!o&&!zr(r)&&!zr(u))return!1;if(o&&zr(u))continue;o=!1,r=u|1&r}}return zr(r)||o}function zr(n){return 0==(1&n)}function g8(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function y8(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function jS(n,e,t=!1){for(let r=0;r<e.length;r++)if(p8(n,e[r],t))return!0;return!1}function v8(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function HS(n,e){return n?":not("+e.trim()+")":e}function b8(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!zr(o)&&(e+=HS(s,i),i=""),r=o,s=s||!zr(r);t++}return""!==i&&(e+=HS(s,i)),e}const X={};function le(n){$S(be(),E(),Un()+n,xh())}function $S(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Fh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Lh(e,s,0,t)}As(t)}function nf(n,e){return n<<17|e<<2}function Kr(n){return n>>17&32767}function Y_(n){return 2|n}function qi(n){return(131068&n)>>2}function J_(n,e){return-131069&n|e<<2}function Q_(n){return 1|n}function eN(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];d_(i),o.contentQueries(2,e[s],s)}}}function tc(n,e,t,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,yA(c),c[3]=c[15]=n,c[8]=t,c[10]=o||n&&n[10],c[11]=a||n&&n[11],c[12]=u||n&&n[12]||null,c[9]=l||n&&n[9]||null,c[6]=s,c[16]=2==e.type?n[16]:c,c}function Ga(n,e,t,r,i){let s=n.data[e];if(null===s)s=function oy(n,e,t,r,i){const s=bA(),o=a_(),u=n.data[e]=function V8(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function iG(){return K.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Pl(){const n=K.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return mi(s,!0),s}function Wa(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function nc(n,e,t){Rh(e);try{const r=n.viewQuery;null!==r&&gy(1,r,t);const i=n.template;null!==i&&tN(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&eN(n,e),n.staticViewQueries&&gy(2,n.viewQuery,t);const s=n.components;null!==s&&function P8(n,e){for(let t=0;t<e.length;t++)nW(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,kh()}}function qa(n,e,t,r){const i=e[2];if(256==(256&i))return;Rh(e);const s=xh();try{yA(e),function wA(n){return K.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&tN(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const l=n.preOrderCheckHooks;null!==l&&Fh(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Lh(e,l,0,null),h_(e,0)}if(function eW(n){for(let e=B_(n);null!==e;e=U_(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&o_(s,1),i[2]|=1024}}}(e),function X8(n){for(let e=B_(n);null!==e;e=U_(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];s_(r)&&qa(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&eN(n,e),!s)if(o){const l=n.contentCheckHooks;null!==l&&Fh(e,l)}else{const l=n.contentHooks;null!==l&&Lh(e,l,1),h_(e,1)}!function R8(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)As(~i);else{const s=i,o=t[++r],a=t[++r];sG(o,s),a(2,e[s])}}}finally{As(-1)}}(n,e);const a=n.components;null!==a&&function k8(n,e){for(let t=0;t<e.length;t++)tW(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&gy(2,u,r),!s)if(o){const l=n.viewCheckHooks;null!==l&&Fh(e,l)}else{const l=n.viewHooks;null!==l&&Lh(e,l,2),h_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,o_(e[3],-1))}finally{kh()}}function F8(n,e,t,r){const i=e[10],s=!xh(),o=_A(e);try{s&&!o&&i.begin&&i.begin(),o&&nc(n,e,r),qa(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function tN(n,e,t,r,i){const s=Un(),o=2&r;try{As(-1),o&&e.length>20&&$S(n,e,20,xh()),t(r,i)}finally{As(s)}}function rN(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=af(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function af(n,e,t,r,i,s,o,a,u,l){const c=20+r,d=c+i,h=function L8(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:X);return t}(c,d),f="function"==typeof l?l():l;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function oN(n,e,t,r){const i=mN(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&_N(n).push(r,i.length-1))}function aN(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function lN(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function G8(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function cN(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function dN(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function Y8(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;qr(e)&&(t[""]=n)}}function hN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function fN(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=fo(i.type)),o=new Fl(s,qr(i),null);n.blueprint[r]=o,t[r]=o,lN(n,e,0,r,Wa(n,t,i.hostVars,X),i)}function J8(n,e,t){const r=Sr(e,n),i=rN(t),s=n[10],o=uf(n,tc(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function bi(n,e,t,r,i,s){const o=Sr(n,e);!function cy(n,e,t,r,i,s,o){if(null==s)lt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?Z(s):o(s,r||"",i);lt(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function Q8(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(t,d,l,c):t[c]=d}}}function Z8(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function tW(n,e){const t=dr(e,n);if(s_(t)){const r=t[1];80&t[2]?qa(r,t,r.template,t[8]):t[5]>0&&dy(t)}}function dy(n){for(let r=B_(n);null!==r;r=U_(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];qa(o,s,o.template,s[8])}else s[5]>0&&dy(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=dr(t[r],n);s_(i)&&i[5]>0&&dy(i)}}function nW(n,e){const t=dr(e,n),r=t[1];(function rW(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),nc(r,t,t[8])}function uf(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function hy(n){for(;n;){n[2]|=64;const e=Xl(n);if(F$(n)&&!e)return n;n=e}return null}function py(n,e,t){const r=e[10];r.begin&&r.begin();try{qa(n,e,n.template,t)}catch(i){throw vN(e,i),i}finally{r.end&&r.end()}}function gN(n){!function fy(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=k_(t),i=r[1];F8(i,r,i.template,t)}}(n[8])}function gy(n,e,t){d_(0),e(n,t)}const aW=(()=>Promise.resolve(null))();function mN(n){return n[7]||(n[7]=[])}function _N(n){return n.cleanup||(n.cleanup=[])}function vN(n,e){const t=n[9],r=t?t.get(Zl,null):null;r&&r.handleError(e)}function bN(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function zi(n,e,t){const r=Mh(e,n);!function ES(n,e,t){lt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function lf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Hm(i,a):2==s&&(r=Hm(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const my=new ee("INJECTOR",-1);class wN{get(e,t=$l){if(t===$l){const r=new Error(`NullInjectorError: No provider for ${Re(e)}!`);throw r.name="NullInjectorError",r}return t}}const _y=new ee("Set Injector scope."),rc={},cW={};let yy;function DN(){return void 0===yy&&(yy=new wN),yy}function EN(n,e=null,t=null,r){const i=TN(n,e,t,r);return i._resolveInjectorDefTypes(),i}function TN(n,e=null,t=null,r){return new dW(n,t,e||DN(),r)}class dW{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&_i(t,a=>this.processProvider(a,e,t)),_i([e],a=>this.processInjectorType(a,[],s)),this.records.set(my,za(void 0,this));const o=this.records.get(_y);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Re(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=$l,r=J.Default){this.assertNotDestroyed();const i=KA(this),s=Es(void 0);try{if(!(r&J.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function vW(n){return"function"==typeof n||"object"==typeof n&&n instanceof ee}(e)&&Gm(e);a=u&&this.injectableDefInScope(u)?za(vy(e),rc):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&J.Self?DN():this.parent).get(e,t=r&J.Optional&&t===$l?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[qh]=o[qh]||[]).unshift(Re(e)),i)throw o;return function WG(n,e,t,r){const i=n[qh];throw e[zA]&&i.unshift(e[zA]),n.message=function qG(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Re(e);if(Array.isArray(e))i=e.map(Re).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Re(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(BG,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[qh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Es(s),KA(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Re(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ve(205,!1)}processInjectorType(e,t,r){if(!(e=ne(e)))return!1;let i=iA(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=iA(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{_i(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];_i(f,p=>this.processProvider(p,h,f||Ve))}}this.injectorDefTypes.add(o);const u=fo(o)||(()=>new o);this.records.set(o,za(u,rc));const l=i.providers;if(null!=l&&!a){const c=e;_i(l,d=>this.processProvider(d,c,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Ka(e=ne(e))?e:ne(e&&e.provide);const s=function fW(n,e,t){return IN(n)?za(void 0,n.useValue):za(CN(n),rc)}(e);if(Ka(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=za(void 0,rc,!0),o.factory=()=>T_(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===rc&&(t.value=cW,t.value=t.factory()),"object"==typeof t.value&&t.value&&function yW(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ne(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function vy(n){const e=Gm(n),t=null!==e?e.factory:fo(n);if(null!==t)return t;if(n instanceof ee)throw new ve(204,!1);if(n instanceof Function)return function hW(n){const e=n.length;if(e>0)throw Hl(e,"?"),new ve(204,!1);const t=function E$(n){const e=n&&(n[Eh]||n[sA]);if(e){const t=function T$(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new ve(204,!1)}function CN(n,e,t){let r;if(Ka(n)){const i=ne(n);return fo(i)||vy(i)}if(IN(n))r=()=>ne(n.useValue);else if(function gW(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...T_(n.deps||[]));else if(function pW(n){return!(!n||!n.useExisting)}(n))r=()=>k(ne(n.useExisting));else{const i=ne(n&&(n.useClass||n.provide));if(!function _W(n){return!!n.deps}(n))return fo(i)||vy(i);r=()=>new i(...T_(n.deps))}return r}function za(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function IN(n){return null!==n&&"object"==typeof n&&jG in n}function Ka(n){return"function"==typeof n}let dt=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return EN({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return EN({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=$l,n.NULL=new wN,n.\u0275prov=H({token:n,providedIn:"any",factory:()=>k(my)}),n.__NG_ELEMENT_ID__=-1,n})();function AW(n,e){Ph(k_(n)[1],kt())}function xe(n){let e=function VN(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(qr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ve(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Dy(n.inputs),o.declaredInputs=Dy(n.declaredInputs),o.outputs=Dy(n.outputs);const a=i.hostBindings;a&&xW(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&NW(n,u),l&&MW(n,l),jm(n.inputs,i.inputs),jm(n.declaredInputs,i.declaredInputs),jm(n.outputs,i.outputs),qr(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===xe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function SW(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Bh(i.hostAttrs,t=Bh(t,i.hostAttrs))}}(r)}function Dy(n){return n===Ca?{}:n===Ve?[]:n}function NW(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function MW(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function xW(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let cf=null;function Ya(){if(!cf){const n=Pe.Symbol;if(n&&n.iterator)cf=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(cf=r)}}}return cf}function An(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Fe(n,e,t,r){const i=E();return An(i,xa(),e)&&(be(),bi(ct(),i,n,e,t,r)),Fe}function v(n,e=J.Default){const t=E();return null===t?k(n,e):LA(kt(),t,ne(n),e)}function Sy(){throw new Error("invalid")}function pe(n,e,t){const r=E();return An(r,xa(),e)&&function pr(n,e,t,r,i,s,o,a){const u=Sr(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(bN(n,t,c,r,i),Sh(e)&&function j8(n,e){const t=dr(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function U8(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,lt(s)?s.setProperty(u,r,i):p_(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(be(),ct(),r,n,e,r[11],t,!1),pe}function Ny(n,e,t,r,i){const o=i?"class":"style";bN(n,t,e.inputs[o],o,r)}function U(n,e,t,r){const i=E(),s=be(),o=20+n,a=i[11],u=i[o]=H_(a,e,function pG(){return K.lFrame.currentNamespace}()),l=s.firstCreatePass?function sq(n,e,t,r,i,s,o){const a=e.consts,l=Ga(e,n,2,i,Is(a,s));return function ly(n,e,t,r){let i=!1;if(vA()){const s=function z8(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];jS(t,o.selectors,!1)&&(i||(i=[]),Hh(Vl(t,e),n,o.type),qr(o)?(dN(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,hN(t,n.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=Wa(n,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];t.mergedAttrs=Bh(t.mergedAttrs,d.hostAttrs),fN(n,t,e,l,d),Y8(l,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}!function B8(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||US(e)?null:Z8(d,s);o.push(h),a=aN(d,l,a),u=aN(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function K8(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new ve(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Bh(t.mergedAttrs,t.attrs),i}(e,t,l,Is(a,o)),null!==l.attrs&&lf(l,l.attrs,!1),null!==l.mergedAttrs&&lf(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];mi(l,!0);const c=l.mergedAttrs;null!==c&&Vh(a,u,c);const d=l.classes;null!==d&&K_(a,u,d);const h=l.styles;return null!==h&&LS(a,u,h),64!=(64&l.flags)&&ef(s,i,u,l),0===function Z$(){return K.lFrame.elementDepthCount}()&&In(u,i),function X$(){K.lFrame.elementDepthCount++}(),Nh(l)&&(function ay(n,e,t){!vA()||(function W8(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Vl(t,e),In(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=qr(u);l&&J8(e,t,u);const c=Bl(e,n,a,t);In(c,e),null!==o&&Q8(0,a-i,c,u,0,o),l&&(dr(t.index,e)[8]=c)}}(n,e,t,Sr(t,e)),128==(128&t.flags)&&function q8(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function oG(){return K.lFrame.currentDirectiveIndex}();try{As(o);for(let u=r;u<i;u++){const l=n.data[u],c=e[u];l_(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&cN(l,c)}}finally{As(-1),l_(a)}}(n,e,t))}(s,i,l),function nN(n,e,t){if(Qm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,l,i)),null!==r&&function uy(n,e,t=Sr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}(i,l),U}function $(){let n=kt();a_()?u_():(n=n.parent,mi(n,!1));const e=n;!function eG(){K.lFrame.elementDepthCount--}();const t=be();return t.firstCreatePass&&(Ph(t,n),Qm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function vG(n){return 0!=(16&n.flags)}(e)&&Ny(t,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function bG(n){return 0!=(32&n.flags)}(e)&&Ny(t,e,E(),e.stylesWithoutHost,!1),$}function Di(n,e,t,r){return U(n,e,t,r),$(),Di}function oc(n){return!!n&&"function"==typeof n.then}function sM(n){return!!n&&"function"==typeof n.subscribe}const Oy=sM;function he(n,e,t,r){const i=E(),s=be(),o=kt();return function aM(n,e,t,r,i,s,o,a){const u=Nh(r),c=n.firstCreatePass&&_N(n),d=e[8],h=mN(e);let f=!0;if(3&r.type||a){const y=Sr(r,e),b=a?a(y):y,_=h.length,T=a?A=>a(Ct(A[r.index])):r.index;if(lt(t)){let A=null;if(!a&&u&&(A=function aq(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==A)(A.__ngLastListenerFn__||A).__ngNextListenerFn__=s,A.__ngLastListenerFn__=s,f=!1;else{s=Ry(r,e,d,s,!1);const x=t.listen(b,i,s);h.push(s,x),c&&c.push(i,T,_,_+1)}}else s=Ry(r,e,d,s,!0),b.addEventListener(i,s,o),h.push(s),c&&c.push(i,T,_,o)}else s=Ry(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const y=m.length;if(y)for(let b=0;b<y;b+=2){const B=e[m[b]][m[b+1]].subscribe(s),te=h.length;h.push(s,B),c&&c.push(i,r.index,te,-(te+1))}}}(s,i,i[11],o,n,e,!!t,r),he}function uM(n,e,t,r){try{return!1!==t(r)}catch(i){return vN(n,i),!1}}function Ry(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?dr(n.index,e):e;0==(32&e[2])&&hy(a);let u=uM(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=uM(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function uq(n,e){let t=null;const r=function m8(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?jS(n,s,!0):v8(r,s))return i}else t=i}return t}function vM(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Kr(s):qi(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];dq(n[a],e)&&(u=!0,n[a+1]=r?Q_(c):Y_(c)),a=r?Kr(c):qi(c)}u&&(n[t+1]=r?Y_(s):Q_(s))}function dq(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ba(n,e)>=0}const Lt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bM(n){return n.substring(Lt.key,Lt.keyEnd)}function wM(n,e){const t=Lt.textEnd;return t===e?-1:(e=Lt.keyEnd=function gq(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Lt.key=e,t),ou(n,e,t))}function ou(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function tt(n,e){return function Jr(n,e,t,r){const i=E(),s=be(),o=Wi(2);s.firstUpdatePass&&AM(s,n,o,r),e!==X&&An(i,o,e)&&NM(s,s.data[Un()],i,i[11],n,i[o+1]=function Cq(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Re(Ns(n)))),n}(e,t),r,o)}(n,e,null,!0),tt}function _o(n){!function Qr(n,e,t,r){const i=be(),s=Wi(2);i.firstUpdatePass&&AM(i,null,s,r);const o=E();if(t!==X&&An(o,s,t)){const a=i.data[Un()];if(xM(a,r)&&!IM(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=Hm(u,t||"")),Ny(i,a,o,t,r)}else!function Tq(n,e,t,r,i,s,o,a){i===X&&(i=Ve);let u=0,l=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=u<i.length?i[u+1]:void 0,f=l<s.length?s[l+1]:void 0;let m,p=null;c===d?(u+=2,l+=2,h!==f&&(p=d,m=f)):null===d||null!==c&&c<d?(u+=2,p=c):(l+=2,p=d,m=f),null!==p&&NM(n,e,t,r,p,m,o,a),c=u<i.length?i[u]:null,d=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function Eq(n,e,t){if(null==t||""===t)return Ve;const r=[],i=Ns(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(hr,Ti,n,!0)}function Ti(n,e){for(let t=function fq(n){return function EM(n){Lt.key=0,Lt.keyEnd=0,Lt.value=0,Lt.valueEnd=0,Lt.textEnd=n.length}(n),wM(n,ou(n,0,Lt.textEnd))}(e);t>=0;t=wM(e,t))hr(n,bM(e),!0)}function IM(n,e){return e>=n.expandoStartIndex}function AM(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Un()],o=IM(n,t);xM(s,r)&&null===e&&!o&&(e=!1),e=function vq(n,e,t,r){const i=function c_(n){const e=K.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ac(t=Fy(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Fy(i,n,e,t,r),null===s){let u=function bq(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==qi(r))return n[Kr(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Fy(null,n,e,u[1],r),u=ac(u,e.attrs,r),function wq(n,e,t,r){n[Kr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function Dq(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ac(r,n[s].hostAttrs,t);return ac(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function lq(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Kr(o),u=qi(o);n[r]=t;let c,l=!1;if(Array.isArray(t)){const d=t;c=d[1],(null===c||Ba(d,c)>0)&&(l=!0)}else c=t;if(i)if(0!==u){const h=Kr(n[a+1]);n[r+1]=nf(h,a),0!==h&&(n[h+1]=J_(n[h+1],r)),n[a+1]=function E8(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=nf(a,0),0!==a&&(n[a+1]=J_(n[a+1],r)),a=r;else n[r+1]=nf(u,0),0===a?a=r:n[u+1]=J_(n[u+1],r),u=r;l&&(n[r+1]=Y_(n[r+1])),vM(n,c,r,!0),vM(n,c,r,!1),function cq(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ba(s,e)>=0&&(t[r+1]=Q_(t[r+1]))}(e,c,n,r,s),o=nf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Fy(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=ac(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ac(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),hr(n,o,!!t||e[++s]))}return void 0===n?null:n}function NM(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1];pf(function qS(n){return 1==(1&n)}(l)?MM(u,e,t,i,qi(l),o):void 0)||(pf(s)||function WS(n){return 2==(2&n)}(l)&&(s=MM(u,null,t,i,a,o)),function d8(n,e,t,r,i){const s=lt(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:fr.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=fr.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,Mh(Un(),t),i,s))}function MM(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===X&&(h=d?Ve:void 0);let f=d?w_(h,r):c===r?h:void 0;if(l&&!pf(f)&&(f=w_(u,r)),pf(f)&&(a=f,o))return a;const p=n[i+1];i=o?Kr(p):qi(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=w_(u,r))}return a}function pf(n){return void 0!==n}function xM(n,e){return 0!=(n.flags&(e?16:32))}function yt(n,e=""){const t=E(),r=be(),i=n+20,s=r.firstCreatePass?Ga(r,i,1,e,null):r.data[i],o=t[i]=function j_(n,e){return lt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);ef(r,t,o,s),mi(s,!1)}function au(n,e,t){const r=E(),i=function Qa(n,e,t,r){return An(n,xa(),t)?e+Z(t)+r:X}(r,n,e,t);return i!==X&&zi(r,Un(),i),au}const gf="en-US";let XM=gf;function Uy(n,e,t,r,i){if(n=ne(n),Array.isArray(n))for(let s=0;s<n.length;s++)Uy(n[s],e,t,r,i);else{const s=be(),o=E();let a=Ka(n)?n:ne(n.provide),u=CN(n);const l=kt(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(Ka(n)||!n.multi){const f=new Fl(u,i,v),p=Hy(a,e,i?c:c+h,d);-1===p?(Hh(Vl(l,o),s,a),jy(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Hy(a,e,c+h,d),p=Hy(a,e,c,c+h),m=f>=0&&t[f],y=p>=0&&t[p];if(i&&!y||!i&&!m){Hh(Vl(l,o),s,a);const b=function H5(n,e,t,r,i){const s=new Fl(n,t,v);return s.multi=[],s.index=e,s.componentProviders=0,Ex(s,i,r&&!t),s}(i?j5:U5,t.length,i,r,u);!i&&y&&(t[p].providerFactory=b),jy(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(b),o.push(b)}else jy(s,n,f>-1?f:p,Ex(t[i?p:f],u,!i&&r));!i&&r&&y&&t[p].componentProviders++}}}function jy(n,e,t,r){const i=Ka(e),s=function mW(n){return!!n.useClass}(e);if(i||s){const u=(s?ne(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function Ex(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Hy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function U5(n,e,t,r){return $y(this.multi,[])}function j5(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Bl(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),$y(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],$y(i,s);return s}function $y(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ue(n,e=[]){return t=>{t.providersResolver=(r,i)=>function B5(n,e,t){const r=be();if(r.firstCreatePass){const i=qr(n);Uy(t,r.data,r.blueprint,i,!0),Uy(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Tx{}class W5{resolveComponentFactory(e){throw function G5(n){const e=Error(`No component factory found for ${Re(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let cu=(()=>{class n{}return n.NULL=new W5,n})();function q5(){return du(kt(),E())}function du(n,e){return new He(Sr(n,e))}let He=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=q5,n})();function z5(n){return n instanceof He?n.nativeElement:n}class Gy{}let Zr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Y5(){const n=E(),t=dr(kt().index,n);return function K5(n){return n[11]}(gi(t)?t:n)}(),n})(),J5=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>null}),n})();class hu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Ix=new hu("13.2.6"),Wy={};function bf(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Ct(s)),Wr(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&bf(u[1],u,l,r)}const o=t.type;if(8&o)bf(n,e,t.child,r);else if(32&o){const a=V_(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=kS(e,t);if(Array.isArray(a))r.push(...a);else{const u=Xl(e[16]);bf(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class hc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return bf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Wr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&($_(e,r),Gh(t,r))}this._attachedToViewContainer=!1}CS(this._lView[1],this._lView)}onDestroy(e){oN(this._lView[1],this._lView,null,e)}markForCheck(){hy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){py(this._lView[1],this._lView,this.context)}checkNoChanges(){!function sW(n,e,t){Oh(!0);try{py(n,e,t)}finally{Oh(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ve(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function t8(n,e){ec(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ve(902,"");this._appRef=e}}class Q5 extends hc{constructor(e){super(e),this._view=e}detectChanges(){gN(this._view)}checkNoChanges(){!function oW(n){Oh(!0);try{gN(n)}finally{Oh(!1)}}(this._view)}get context(){return null}}class Ax extends cu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=En(e);return new qy(t,this.ngModule)}}function Sx(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class qy extends Tx{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function w8(n){return n.map(b8).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Sx(this.componentDef.inputs)}get outputs(){return Sx(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function X5(n,e){return{get:(t,r,i)=>{const s=n.get(t,Wy,i);return s!==Wy||r===Wy?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(Gy,mA),a=s.get(J5,null),u=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function sN(n,e,t){if(lt(n))return n.selectRootElement(e,t===fi.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):H_(o.createRenderer(null,this.componentDef),l,function Z5(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),d=this.componentDef.onPush?576:528,h=function LN(n,e){return{components:[],scheduler:n||z3,clean:aW,playerHandler:e||null,flags:0}}(),f=af(0,null,null,1,0,null,null,null,null,null),p=tc(null,f,h,d,null,null,o,u,a,s);let m,y;Rh(p);try{const b=function PN(n,e,t,r,i,s){const o=t[1];t[20]=n;const u=Ga(o,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(lf(u,l,!0),null!==n&&(Vh(i,n,l),null!==u.classes&&K_(i,n,u.classes),null!==u.styles&&LS(i,n,u.styles)));const c=r.createRenderer(n,e),d=tc(t,rN(e),null,e.onPush?64:16,t[20],u,r,c,s||null,null);return o.firstCreatePass&&(Hh(Vl(u,t),o,e.type),dN(o,u),hN(u,t.length,1)),uf(t,d),t[20]=d}(c,this.componentDef,p,o,u);if(c)if(r)Vh(u,c,["ng-version",Ix.full]);else{const{attrs:_,classes:T}=function D8(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!zr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);_&&Vh(u,c,_),T&&T.length>0&&K_(u,c,T.join(" "))}if(y=i_(f,20),void 0!==t){const _=y.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const A=t[T];_.push(null!=A?Array.from(A):null)}}m=function FN(n,e,t,r,i){const s=t[1],o=function $8(n,e,t){const r=kt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),fN(n,r,e,Wa(n,e,1,null),t));const i=Bl(e,n,r.directiveStart,r);In(i,e);const s=Sr(r,e);return s&&In(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=kt();e.contentQueries(1,o,u.directiveStart)}const a=kt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(As(a.index),lN(t[1],a,0,a.directiveStart,a.directiveEnd,e),cN(e,o)),o}(b,this.componentDef,p,h,[AW]),nc(f,p,null)}finally{kh()}return new tz(this.componentType,m,du(y,p),p,y)}}class tz extends class $5{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new Q5(i),this.componentType=e}get injector(){return new ka(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Ji{}class Nx{}const fu=new Map;class Ox extends Ji{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ax(this);const r=Cr(e);this._bootstrapComponents=vi(r.bootstrap),this._r3Injector=TN(e,t,[{provide:Ji,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],Re(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=dt.THROW_IF_NOT_FOUND,r=J.Default){return e===dt||e===Ji||e===my?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class zy extends Nx{constructor(e){super(),this.moduleType=e,null!==Cr(e)&&function rz(n){const e=new Set;!function t(r){const i=Cr(r,!0),s=i.id;null!==s&&(function Mx(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Re(e)} vs ${Re(e.name)}`)}(s,fu.get(s),r),fu.set(s,r));const o=vi(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new Ox(this.moduleType,e)}}function Rx(n,e,t,r,i,s){const o=e+t;return An(n,o,i)?function wi(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function pc(n,e){const t=n[e];return t===X?void 0:t}(n,o+1)}function Yy(n,e){const t=be();let r;const i=n+20;t.firstCreatePass?(r=function dz(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=fo(r.type)),o=Es(v);try{const a=Uh(!1),u=s();return Uh(a),function BW(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,E(),i,u),u}finally{Es(o)}}function Jy(n,e,t){const r=n+20,i=E(),s=function Ma(n,e){return n[e]}(i,r);return function gc(n,e){return n[1].data[e].pure}(i,r)?Rx(i,function Bn(){const n=K.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,s.transform,t,s):s.transform(t)}function Qy(n){return e=>{setTimeout(n,void 0,e)}}const se=class mz extends We{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,u=t||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=Qy(u),a&&(a=Qy(a)),l&&(l=Qy(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof Et&&e.add(c),c}};function _z(){return this._results[Ya()]()}class Zy{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ya(),r=Zy.prototype;r[t]||(r[t]=_z)}get changes(){return this._changes||(this._changes=new se)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Nr(e);(this._changesDetected=!function MG(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ft=(()=>{class n{}return n.__NG_ELEMENT_ID__=bz,n})();const yz=ft,vz=class extends yz{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=tc(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),nc(t,r,e),new hc(r)}};function bz(){return Df(kt(),E())}function Df(n,e){return 4&n.type?new vz(e,n,du(n,e)):null}let Xr=(()=>{class n{}return n.__NG_ELEMENT_ID__=wz,n})();function wz(){return Ux(kt(),E())}const Dz=Xr,Vx=class extends Dz{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return du(this._hostTNode,this._hostLView)}get injector(){return new ka(this._hostTNode,this._hostLView)}get parentInjector(){const e=jh(this._hostTNode,this._hostLView);if(OA(e)){const t=Ra(e,this._hostLView),r=Oa(e);return new ka(t[1].data[r+8],t)}return new ka(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Bx(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function jl(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new qy(En(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(Ji,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,t){const r=e._lView,i=r[1];if(function Q$(n){return Wr(n[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new Vx(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function r8(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],HA(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function i8(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=q_(s,o),u=r[11],l=Xh(u,o[7]);return null!==l&&function e8(n,e,t,r,i,s){r[0]=i,r[6]=e,ec(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),HA(Xy(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Bx(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=$_(this._lContainer,t);r&&(Gh(Xy(this._lContainer),t),CS(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=$_(this._lContainer,t);return r&&null!=Gh(Xy(this._lContainer),t)?new hc(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Bx(n){return n[8]}function Xy(n){return n[8]||(n[8]=[])}function Ux(n,e){let t;const r=e[n.index];if(Wr(r))t=r;else{let i;if(8&n.type)i=Ct(r);else{const s=e[11];i=s.createComment("");const o=Sr(n,e);go(s,Xh(s,o),i,function u8(n,e){return lt(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=function pN(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}(r,e,i,n),uf(e,t)}return new Vx(t,n,e)}class ev{constructor(e){this.queryList=e,this.matches=null}clone(){return new ev(this.queryList)}setDirty(){this.queryList.setDirty()}}class tv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new tv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Wx(e,t).matches&&this.queries[t].setDirty()}}class jx{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class nv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new nv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class rv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new rv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Cz(t,s)),this.matchTNodeWithReadOption(e,t,$h(t,e,s,!1,!1))}else r===ft?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,$h(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===He||i===Xr||i===ft&&4&t.type)this.addMatch(t.index,-2);else{const s=$h(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Cz(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Az(n,e,t,r){return-1===t?function Iz(n,e){return 11&n.type?du(n,e):4&n.type?Df(n,e):null}(e,n):-2===t?function Sz(n,e,t){return t===He?du(e,n):t===ft?Df(e,n):t===Xr?Ux(e,n):void 0}(n,e,r):Bl(n,n[1],t,e)}function Hx(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:Az(e,s[l],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function iv(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=Hx(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],c=e[-u];for(let d=10;d<c.length;d++){const h=c[d];h[17]===h[3]&&iv(h[1],h,l,r)}if(null!==c[9]){const d=c[9];for(let h=0;h<d.length;h++){const f=d[h];iv(f[1],f,l,r)}}}}}return r}function nt(n){const e=E(),t=be(),r=EA();d_(r+1);const i=Wx(t,r);if(n.dirty&&_A(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?iv(t,e,r,[]):Hx(t,e,i,r);n.reset(s,z5),n.notifyOnChanges()}return!0}return!1}function sv(n,e,t){const r=be();r.firstCreatePass&&(function Gx(n,e,t){null===n.queries&&(n.queries=new nv),n.queries.track(new rv(e,t))}(r,new jx(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function $x(n,e,t){const r=new Zy(4==(4&t));oN(n,e,r,r.destroy),null===e[19]&&(e[19]=new tv),e[19].queries.push(new ev(r))}(r,E(),e)}function Wx(n,e){return n.queries.getByIndex(e)}function Cf(...n){}const If=new ee("Application Initializer");let dv=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Cf,this.reject=Cf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(oc(s))t.push(s);else if(Oy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(k(If,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _c=new ee("AppId",{providedIn:"root",factory:function uO(){return`${hv()}${hv()}${hv()}`}});function hv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lO=new ee("Platform Initializer"),Rs=new ee("Platform ID"),cO=new ee("appBootstrapListener");let dO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const ks=new ee("LocaleId",{providedIn:"root",factory:()=>$G(ks,J.Optional|J.SkipSelf)||function zz(){return"undefined"!=typeof $localize&&$localize.locale||gf}()});class Yz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let hO=(()=>{class n{compileModuleSync(t){return new zy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=vi(Cr(t).declarations).reduce((o,a)=>{const u=En(a);return u&&o.push(new qy(u)),o},[]);return new Yz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qz=(()=>Promise.resolve(0))();function fv(n){"undefined"==typeof Zone?Qz.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new se(!1),this.onMicrotaskEmpty=new se(!1),this.onStable=new se(!1),this.onError=new se(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Zz(){let n=Pe.requestAnimationFrame,e=Pe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function t4(n){const e=()=>{!function e4(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Pe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,gv(n),n.isCheckStableRunning=!0,pv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),gv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return fO(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),pO(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return fO(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),pO(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,gv(n),pv(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ke.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ke.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Xz,Cf,Cf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Xz={};function pv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function gv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function fO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pO(n){n._nesting--,pv(n)}class n4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new se,this.onMicrotaskEmpty=new se,this.onStable=new se,this.onError=new se}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let mv=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ke.assertNotInAngularZone(),fv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fv(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(k(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),gO=(()=>{class n{constructor(){this._applications=new Map,_v.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return _v.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class r4{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let ei,_v=new r4;const mO=new ee("AllowMultipleToken");class _O{constructor(e,t){this.name=e,this.token=t}}function yO(n,e,t=[]){const r=`Platform: ${e}`,i=new ee(r);return(s=[])=>{let o=vO();if(!o||o.injector.get(mO,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:_y,useValue:"platform"});!function a4(n){if(ei&&!ei.destroyed&&!ei.injector.get(mO,!1))throw new ve(400,"");ei=n.get(bO);const e=n.get(lO,null);e&&e.forEach(t=>t())}(dt.create({providers:a,name:r}))}return function u4(n){const e=vO();if(!e)throw new ve(401,"");return e}()}}function vO(){return ei&&!ei.destroyed?ei:null}let bO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function l4(n,e){let t;return t="noop"===n?new n4:("zone.js"===n?void 0:n)||new ke({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:ke,useValue:a}];return a.run(()=>{const l=dt.create({providers:u,parent:this.injector,name:t.moduleType.name}),c=t.create(l),d=c.injector.get(Zl,null);if(!d)throw new ve(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{yv(this._modules,c),h.unsubscribe()})}),function c4(n,e,t){try{const r=t();return oc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=c.injector.get(dv);return h.runInitializers(),h.donePromise.then(()=>(function Jq(n){lr(n,"Expected localeId to be defined"),"string"==typeof n&&(XM=n.toLowerCase().replace(/_/g,"-"))}(c.injector.get(ks,gf)||gf),this._moduleDoBootstrap(c),c))})})}bootstrapModule(t,r=[]){const i=wO({},r);return function s4(n,e,t){const r=new zy(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(yc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new ve(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ve(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(k(dt))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function wO(n,e){return Array.isArray(e)?e.reduce(wO,n):Object.assign(Object.assign({},n),e)}let yc=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Me(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),u=new Me(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),fv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=Bm(a,u.pipe(function _$(n={}){const{connector:e=(()=>new We),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,u=null,l=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,c=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return at((m,y)=>{l++,!d&&!c&&h();const b=u=null!=u?u:e();y.add(()=>{l--,0===l&&!d&&!c&&(a=Um(p,i))}),b.subscribe(y),o||(o=new _h({next:_=>b.next(_),error:_=>{d=!0,h(),a=Um(f,t,_),b.error(_)},complete:()=>{c=!0,h(),a=Um(f,r),b.complete()}}),Rt(m).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new ve(405,"");let i;i=t instanceof Tx?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function o4(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Ji),a=i.create(dt.NULL,[],r||i.selector,s),u=a.location.nativeElement,l=a.injector.get(mv,null),c=l&&a.injector.get(gO);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),yv(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new ve(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;yv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cO,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(k(ke),k(dt),k(Zl),k(cu),k(dv))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let EO=!0,ti=(()=>{class n{}return n.__NG_ELEMENT_ID__=f4,n})();function f4(n){return function p4(n,e,t){if(Sh(n)&&!t){const r=dr(n.index,e);return new hc(r,r)}return 47&n.type?new hc(e[16],e):null}(kt(),E(),16==(16&n))}const A4=yO(null,"core",[{provide:Rs,useValue:"unknown"},{provide:bO,deps:[dt]},{provide:gO,deps:[]},{provide:dO,deps:[]}]);let S4=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(k(yc))},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({}),n})(),Mf=null;function Ci(){return Mf}const on=new ee("DocumentToken");let wo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return function O4(){return k(kO)}()},providedIn:"platform"}),n})();const R4=new ee("Location Initialized");let kO=(()=>{class n extends wo{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ci().getBaseHref(this._doc)}onPopState(t){const r=Ci().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ci().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){PO()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){PO()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(k(on))},n.\u0275prov=H({token:n,factory:function(){return function k4(){return new kO(k(on))}()},providedIn:"platform"}),n})();function PO(){return!!window.history.pushState}function Ev(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function FO(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Zi(n){return n&&"?"!==n[0]?"?"+n:n}let gu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:function(){return function P4(n){const e=k(on).location;return new LO(k(wo),e&&e.origin||"")}()},providedIn:"root"}),n})();const Tv=new ee("appBaseHref");let LO=(()=>{class n extends gu{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ev(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Zi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Zi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Zi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(k(wo),k(Tv,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),F4=(()=>{class n extends gu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ev(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Zi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Zi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(k(wo),k(Tv,8))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Cv=(()=>{class n{constructor(t,r){this._subject=new se,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=FO(VO(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Zi(r))}normalize(t){return n.stripTrailingSlash(function V4(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,VO(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zi(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Zi(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Zi,n.joinWithSlash=Ev,n.stripTrailingSlash=FO,n.\u0275fac=function(t){return new(t||n)(k(gu),k(wo))},n.\u0275prov=H({token:n,factory:function(){return function L4(){return new Cv(k(gu),k(wo))}()},providedIn:"root"}),n})();function VO(n){return n.replace(/\/index.html$/,"")}class M6{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class x6{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const O6=new x6,R6=new M6;let JO=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(oc(t))return O6;if(sM(t))return R6;throw function ri(n,e){return new ve(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(v(ti,16))},n.\u0275pipe=Xn({name:"async",type:n,pure:!1}),n})(),QO=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=Xn({name:"json",type:n,pure:!1}),n})(),gr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({}),n})();const XO="browser";function Bv(n){return n===XO}let Z6=(()=>{class n{}return n.\u0275prov=H({token:n,providedIn:"root",factory:()=>new X6(k(on),window)}),n})();class X6{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function e7(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=eR(this.window.history)||eR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function eR(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Uv extends class n7 extends class x4{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function M4(n){Mf||(Mf=n)}(new Uv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function r7(){return Cc=Cc||document.querySelector("base"),Cc?Cc.getAttribute("href"):null}();return null==t?null:function i7(n){Uf=Uf||document.createElement("a"),Uf.setAttribute("href",n);const e=Uf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function w6(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Uf,Cc=null;const tR=new ee("TRANSITION_ID"),o7=[{provide:If,useFactory:function s7(n,e,t){return()=>{t.get(dv).donePromise.then(()=>{const r=Ci(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[tR,on,dt],multi:!0}];class jv{static init(){!function i4(n){_v=n}(new jv)}addToWindow(e){Pe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pe.getAllAngularRootElements=()=>e.getAllRootElements(),Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(r=>{const i=Pe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Ci().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let a7=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const jf=new ee("EventManagerPlugins");let Hf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(k(jf),k(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class nR{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ci().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let rR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),Ic=(()=>{class n extends rR{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(iR),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(iR))}}return n.\u0275fac=function(t){return new(t||n)(k(on))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function iR(n){Ci().remove(n)}const Hv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$v=/%COMP%/g;function $f(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?$f(n,i,t):(i=i.replace($v,n),t.push(i))}return t}function aR(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gv=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Wv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case fi.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new f7(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case fi.ShadowDom:return new p7(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=$f(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(k(Hf),k(Ic),k(_c))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class Wv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Hv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Hv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Hv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(fr.DashCase|fr.Important)?e.style.setProperty(t,r,i&fr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&fr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,aR(r)):this.eventManager.addEventListener(e,t,aR(r))}}class f7 extends Wv{constructor(e,t,r,i){super(e),this.component=r;const s=$f(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function c7(n){return"_ngcontent-%COMP%".replace($v,n)}(i+"-"+r.id),this.hostAttr=function d7(n){return"_nghost-%COMP%".replace($v,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class p7 extends Wv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=$f(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let g7=(()=>{class n extends nR{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(k(on))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const lR=["alt","control","meta","shift"],_7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cR={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},y7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let v7=(()=>{class n extends nR{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ci().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(lR.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function b7(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&cR.hasOwnProperty(e)&&(e=cR[e]))}return _7[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),lR.forEach(s=>{s!=i&&y7[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(k(on))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const T7=yO(A4,"browser",[{provide:Rs,useValue:XO},{provide:lO,useValue:function w7(){Uv.makeCurrent(),jv.init()},multi:!0},{provide:on,useFactory:function E7(){return function z$(n){n_=n}(document),document},deps:[]}]),C7=[{provide:_y,useValue:"root"},{provide:Zl,useFactory:function D7(){return new Zl},deps:[]},{provide:jf,useClass:g7,multi:!0,deps:[on,ke,Rs]},{provide:jf,useClass:v7,multi:!0,deps:[on]},{provide:Gv,useClass:Gv,deps:[Hf,Ic,_c]},{provide:Gy,useExisting:Gv},{provide:rR,useExisting:Ic},{provide:Ic,useClass:Ic,deps:[on]},{provide:mv,useClass:mv,deps:[ke]},{provide:Hf,useClass:Hf,deps:[jf,ke]},{provide:class t7{},useClass:a7,deps:[]}];let I7=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:_c,useValue:t.appId},{provide:tR,useExisting:_c},o7]}}}return n.\u0275fac=function(t){return new(t||n)(k(n,12))},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({providers:C7,imports:[gr,S4]}),n})();function fR(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){fR(s,r,i,o,a,"next",u)}function a(u){fR(s,r,i,o,a,"throw",u)}o(void 0)})}}"undefined"!=typeof window&&window;const pR=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pR(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Yv=function(n){const e=pR(n);return Kv.encodeByteArray(e,!0)};class Qv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Kt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _R(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function Gf(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function yR(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vR(){const n=Kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Do(){return"object"==typeof indexedDB}function Ac(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function Zv(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ii extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ai.prototype.create)}}class Ai{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function W7(n,e){return n.replace(q7,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ii(i,`${this.serviceName}: ${o} (${i}).`,r)}}const q7=/\{\$([^}]+)}/g;function qf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(wR(s)&&wR(o)){if(!qf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function wR(n){return null!==n&&"object"==typeof n}function zf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Nc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Y7{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function J7(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Xv),void 0===i.error&&(i.error=Xv),void 0===i.complete&&(i.complete=Xv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xv(){}function t0(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Bt(n){return n&&n._delegate?n._delegate:n}class Sn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Eo="[DEFAULT]";class nK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Qv;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function iK(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Eo?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class sK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const n0=[];var we=(()=>{return(n=we||(we={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",we;var n})();const DR={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},oK=we.INFO,aK={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},uK=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=aK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class mu{constructor(e){this.name=e,this._logLevel=oK,this._logHandler=uK,this._userLogHandler=null,n0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?DR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}var To=io(940);class lK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function cK(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const r0="@firebase/app",s0=new mu("@firebase/app"),o0="[DEFAULT]",FK={[r0]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Co=new Map,Kf=new Map;function LK(n,e){try{n.container.addComponent(e)}catch(t){s0.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Gn(n){const e=n.name;if(Kf.has(e))return s0.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,n);for(const t of Co.values())LK(t,n);return!0}function _u(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const es=new Ai("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class BK{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}const yu="9.6.8";function UK(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:o0,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw es.create("bad-app-name",{appName:String(r)});const i=Co.get(r);if(i){if(qf(n,i.options)&&qf(t,i.config))return i;throw es.create("duplicate-app",{appName:r})}const s=new sK(r);for(const a of Kf.values())s.addComponent(a);const o=new BK(n,t,s);return Co.set(r,o),o}function a0(n=o0){const e=Co.get(n);if(!e)throw es.create("no-app",{appName:n});return e}function TR(){return Array.from(Co.values())}function pt(n,e,t){var r;let i=null!==(r=FK[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void s0.warn(a.join(" "))}Gn(new Sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Io="firebase-heartbeat-store";let l0=null;function c0(){return l0||(l0=(0,To.openDb)("firebase-heartbeat-database",1,n=>{0===n.oldVersion&&n.createObjectStore(Io)}).catch(n=>{throw es.create("storage-open",{originalErrorMessage:n.message})})),l0}function d0(){return(d0=g(function*(n){try{return(yield c0()).transaction(Io).objectStore(Io).get(g0(n))}catch(e){throw es.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function h0(n,e){return f0.apply(this,arguments)}function f0(){return(f0=g(function*(n,e){try{const r=(yield c0()).transaction(Io,"readwrite");return yield r.objectStore(Io).put(e,g0(n)),r.complete}catch(t){throw es.create("storage-set",{originalErrorMessage:t.message})}})).apply(this,arguments)}function p0(){return(p0=g(function*(n){try{const t=(yield c0()).transaction(Io,"readwrite");return yield t.objectStore(Io).delete(g0(n)),t.complete}catch(e){throw es.create("storage-delete",{originalErrorMessage:e.message})}})).apply(this,arguments)}function g0(n){return`${n.name}!${n.options.appId}`}class zK{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JK(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=function KK(){return(new Date).toISOString().substring(0,10)}();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),!e._heartbeatsCache.some(s=>s.date===i))return e._heartbeatsCache.push({date:i,userAgent:r}),e._heartbeatsCache=e._heartbeatsCache.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache)return"";const{heartbeatsToSend:t,unsentEntries:r}=function YK(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.userAgent===i.userAgent);if(s){if(s.dates.push(i.date),CR(t)>e){s.dates.pop();break}}else if(t.push({userAgent:i.userAgent,dates:[i.date]}),CR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache),i=Yv(JSON.stringify({version:2,heartbeats:t}));return r.length>0?(e._heartbeatsCache=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache=null,e._storage.deleteAll()),i})()}}class JK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Do()&&Ac().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function $K(n){return d0.apply(this,arguments)}(e.app);return(null==r?void 0:r.heartbeats)||[]}return[]})()}overwrite(e){var t=this;return g(function*(){if(yield t._canUseIndexedDBPromise)return h0(t.app,{heartbeats:e})})()}add(e){var t=this;return g(function*(){if(yield t._canUseIndexedDBPromise){const i=yield t.read();return h0(t.app,{heartbeats:[...i,...e]})}})()}delete(e){var t=this;return g(function*(){if(yield t._canUseIndexedDBPromise){const i=yield t.read();return h0(t.app,{heartbeats:i.filter(s=>!e.includes(s))})}})()}deleteAll(){var e=this;return g(function*(){if(yield e._canUseIndexedDBPromise)return function GK(n){return p0.apply(this,arguments)}(e.app)})()}}function CR(n){return Yv(JSON.stringify({version:2,heartbeats:n})).length}!function QK(n){Gn(new Sn("platform-logger",e=>new lK(e),"PRIVATE")),Gn(new Sn("heartbeat",e=>new zK(e),"PRIVATE")),pt(r0,"0.7.18",n),pt(r0,"0.7.18","esm2017"),pt("fire-js","")}(""),pt("firebase","9.6.8","app");const IR="@firebase/installations",SR="w:0.5.5",NR="FIS_v2",ts=new Ai("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function MR(n){return n instanceof Ii&&n.code.includes("request-failed")}function _0({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function xR(n){return{token:n.token,requestStatus:2,expiresIn:s9(n.expiresIn),creationTime:Date.now()}}function y0(n,e){return v0.apply(this,arguments)}function v0(){return(v0=g(function*(n,e){const r=(yield e.json()).error;return ts.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function OR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function RR(n,{refreshToken:e}){const t=OR(n);return t.append("Authorization",function o9(n){return`${NR} ${n}`}(e)),t}function b0(n){return w0.apply(this,arguments)}function w0(){return(w0=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function s9(n){return Number(n.replace("s","000"))}function a9(n,e){return D0.apply(this,arguments)}function D0(){return(D0=g(function*(n,{fid:e}){const t=_0(n),s={method:"POST",headers:OR(n),body:JSON.stringify({fid:e,authVersion:NR,appId:n.appId,sdkVersion:SR})},o=yield b0(()=>fetch(t,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:xR(a.authToken)}}throw yield y0("Create Installation",o)})).apply(this,arguments)}function kR(n){return new Promise(e=>{setTimeout(e,n)})}const l9=/^[cdef][\w-]{21}$/;function c9(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function d9(n){return function u9(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return l9.test(t)?t:""}catch(n){return""}}function vu(n){return`${n.appName}!${n.appId}`}const bu=new Map;function PR(n,e){const t=vu(n);FR(t,e),function p9(n,e){const t=function LR(){return!Ao&&"BroadcastChannel"in self&&(Ao=new BroadcastChannel("[Firebase] FID Change"),Ao.onmessage=n=>{FR(n.data.key,n.data.fid)}),Ao}();t&&t.postMessage({key:n,fid:e}),function VR(){0===bu.size&&Ao&&(Ao.close(),Ao=null)}()}(t,e)}function FR(n,e){const t=bu.get(n);if(t)for(const r of t)r(e)}let Ao=null;const So="firebase-installations-store";let T0=null;function C0(){return T0||(T0=(0,To.openDb)("firebase-installations-database",1,n=>{0===n.oldVersion&&n.createObjectStore(So)})),T0}function Yf(n,e){return I0.apply(this,arguments)}function I0(){return(I0=g(function*(n,e){const t=vu(n),i=(yield C0()).transaction(So,"readwrite"),s=i.objectStore(So),o=yield s.get(t);return yield s.put(e,t),yield i.complete,(!o||o.fid!==e.fid)&&PR(n,e.fid),e})).apply(this,arguments)}function A0(n){return S0.apply(this,arguments)}function S0(){return(S0=g(function*(n){const e=vu(n),r=(yield C0()).transaction(So,"readwrite");yield r.objectStore(So).delete(e),yield r.complete})).apply(this,arguments)}function Mc(n,e){return N0.apply(this,arguments)}function N0(){return(N0=g(function*(n,e){const t=vu(n),i=(yield C0()).transaction(So,"readwrite"),s=i.objectStore(So),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.complete,a&&(!o||o.fid!==a.fid)&&PR(n,a.fid),a})).apply(this,arguments)}function M0(n){return x0.apply(this,arguments)}function x0(){return(x0=g(function*(n){let e;const t=yield Mc(n,r=>{const i=_9(r),s=y9(n,i);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function _9(n){return UR(n||{fid:c9(),registrationStatus:0})}function y9(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ts.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function v9(n,e){return O0.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:b9(n)}:{installationEntry:e}}function O0(){return(O0=g(function*(n,e){try{return Yf(n,yield a9(n,e))}catch(t){throw MR(t)&&409===t.customData.serverCode?yield A0(n):yield Yf(n,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function b9(n){return R0.apply(this,arguments)}function R0(){return(R0=g(function*(n){let e=yield BR(n);for(;1===e.registrationStatus;)yield kR(100),e=yield BR(n);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield M0(n);return r||t}return e})).apply(this,arguments)}function BR(n){return Mc(n,e=>{if(!e)throw ts.create("installation-not-found");return UR(e)})}function UR(n){return function w9(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function D9(n,e){return k0.apply(this,arguments)}function k0(){return(k0=g(function*({appConfig:n,platformLoggerProvider:e},t){const r=E9(n,t),i=RR(n,t),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:SR}})},u=yield b0(()=>fetch(r,a));if(u.ok)return xR(yield u.json());throw yield y0("Generate Auth Token",u)})).apply(this,arguments)}function E9(n,{fid:e}){return`${_0(n)}/${e}/authTokens:generate`}function P0(n){return F0.apply(this,arguments)}function F0(){return(F0=g(function*(n,e=!1){let t;const r=yield Mc(n.appConfig,s=>{if(!HR(s))throw ts.create("not-registered");const o=s.authToken;if(!e&&I9(o))return s;if(1===o.requestStatus)return t=T9(n,e),s;{if(!navigator.onLine)throw ts.create("app-offline");const a=S9(s);return t=C9(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function T9(n,e){return L0.apply(this,arguments)}function L0(){return(L0=g(function*(n,e){let t=yield jR(n.appConfig);for(;1===t.authToken.requestStatus;)yield kR(100),t=yield jR(n.appConfig);const r=t.authToken;return 0===r.requestStatus?P0(n,e):r})).apply(this,arguments)}function jR(n){return Mc(n,e=>{if(!HR(e))throw ts.create("not-registered");return function N9(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function C9(n,e){return V0.apply(this,arguments)}function V0(){return(V0=g(function*(n,e){try{const t=yield D9(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Yf(n.appConfig,r),t}catch(t){if(!MR(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Yf(n.appConfig,r)}else yield A0(n.appConfig);throw t}})).apply(this,arguments)}function HR(n){return void 0!==n&&2===n.registrationStatus}function I9(n){return 2===n.requestStatus&&!function A9(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function S9(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function B0(){return(B0=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield M0(e.appConfig);return r?r.catch(console.error):P0(e).catch(console.error),t.fid})).apply(this,arguments)}function U0(){return(U0=g(function*(n,e=!1){const t=n;return yield O9(t.appConfig),(yield P0(t,e)).token})).apply(this,arguments)}function O9(n){return j0.apply(this,arguments)}function j0(){return(j0=g(function*(n){const{registrationPromise:e}=yield M0(n);e&&(yield e)})).apply(this,arguments)}function G0(n){return ts.create("missing-app-config-values",{valueName:n})}const $R="installations",L9=n=>{const e=n.getProvider("app").getImmediate(),t=function P9(n){if(!n||!n.options)throw G0("App Configuration");if(!n.name)throw G0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw G0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,platformLoggerProvider:_u(e,"platform-logger"),_delete:()=>Promise.resolve()}},V9=n=>{const t=_u(n.getProvider("app").getImmediate(),$R).getImmediate();return{getId:()=>function M9(n){return B0.apply(this,arguments)}(t),getToken:i=>function x9(n){return U0.apply(this,arguments)}(t,i)}};(function B9(){Gn(new Sn($R,L9,"PUBLIC")),Gn(new Sn("installations-internal",V9,"PRIVATE"))})(),pt(IR,"0.5.5"),pt(IR,"0.5.5","esm2017");const W0="@firebase/remote-config",nr=new Ai("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class J9{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Q9(n=navigator){return n.languages&&n.languages[0]||n.language}class Z9{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Q9()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((b,_)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",_(T)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(b){let _="fetch-client-network";throw"AbortError"===b.name&&(_="fetch-timeout"),nr.create(_,{originalErrorMessage:b.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let b;try{b=yield h.json()}catch(_){throw nr.create("fetch-client-parse",{originalErrorMessage:_.message})}m=b.entries,y=b.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw nr.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class tY{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return g(function*(){yield function X9(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function eY(n){if(!(n instanceof Ii&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+t0(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class iY{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qf(n,e){const t=n.target.error||void 0;return nr.create(e,{originalErrorMessage:t&&t.message})}const No="app_namespace_store";class uY{constructor(e,t,r,i=function aY(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Qf(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(No,{keyPath:"compositeKey"})}}catch(t){e(nr.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([No],"readonly").objectStore(No),u=t.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(Qf(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(nr.create("storage-get",{originalErrorMessage:l&&l.message}))}})})()}set(e,t){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([No],"readwrite").objectStore(No),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:t});c.onerror=d=>{o(Qf(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(nr.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([No],"readwrite").objectStore(No),u=t.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(Qf(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(nr.create("storage-delete",{originalErrorMessage:l&&l.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class lY{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function dY(){return J0.apply(this,arguments)}function J0(){return(J0=g(function*(){if(!Do())return!1;try{return yield Ac()}catch(n){return!1}})).apply(this,arguments)}!function cY(){Gn(new Sn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw nr.create("registration-window");if(!Do())throw nr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw nr.create("registration-project-id");if(!o)throw nr.create("registration-api-key");if(!a)throw nr.create("registration-app-id");const u=new uY(a,r.name,t=t||"firebase"),l=new lY(u),c=new mu(W0);c.logLevel=we.ERROR;const d=new Z9(i,yu,t,s,o,a),h=new tY(d,u),f=new J9(h,u,l,c),p=new iY(r,f,l,u,c);return function z9(n){const e=Bt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),pt(W0,"0.3.4"),pt(W0,"0.3.4","esm2017")}();const hY="/firebase-messaging-sw.js",fY="/firebase-cloud-messaging-push-scope",zR="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",KR="google.c.a.c_id",gY="google.c.a.c_l",mY="google.c.a.ts",_Y="google.c.a.e";var wu=(()=>{return(n=wu||(wu={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",wu;var n})();function ns(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yY(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Q0="fcm_token_details_db",YR="fcm_token_object_Store";function bY(n){return Z0.apply(this,arguments)}function Z0(){return Z0=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Q0))return null;let e=null;return(yield(0,To.openDb)(Q0,5,function(){var r=g(function*(i){var s;if(i.oldVersion<2||!i.objectStoreNames.contains(YR))return;const o=i.transaction.objectStore(YR),a=yield o.index("fcmSenderId").get(n);if(yield o.clear(),a)if(2===i.oldVersion){const u=a;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:null!==(s=u.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:ns(u.vapidKey)}}}else if(3===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ns(u.auth),p256dh:ns(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ns(u.vapidKey)}}}else if(4===i.oldVersion){const u=a;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:ns(u.auth),p256dh:ns(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:ns(u.vapidKey)}}}});return function(i){return r.apply(this,arguments)}}())).close(),yield(0,To.deleteDb)(Q0),yield(0,To.deleteDb)("fcm_vapid_details_db"),yield(0,To.deleteDb)("undefined"),wY(e)?e:null}),Z0.apply(this,arguments)}function wY(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Mo="firebase-messaging-store";let X0=null;function eb(){return X0||(X0=(0,To.openDb)("firebase-messaging-database",1,n=>{0===n.oldVersion&&n.createObjectStore(Mo)})),X0}function JR(n){return tb.apply(this,arguments)}function tb(){return(tb=g(function*(n){const e=sb(n),r=yield(yield eb()).transaction(Mo).objectStore(Mo).get(e);if(r)return r;{const i=yield bY(n.appConfig.senderId);if(i)return yield nb(n,i),i}})).apply(this,arguments)}function nb(n,e){return rb.apply(this,arguments)}function rb(){return(rb=g(function*(n,e){const t=sb(n),i=(yield eb()).transaction(Mo,"readwrite");return yield i.objectStore(Mo).put(e,t),yield i.complete,e})).apply(this,arguments)}function TY(n){return ib.apply(this,arguments)}function ib(){return(ib=g(function*(n){const e=sb(n),r=(yield eb()).transaction(Mo,"readwrite");yield r.objectStore(Mo).delete(e),yield r.complete})).apply(this,arguments)}function sb({appConfig:n}){return n.appId}const an=new Ai("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function IY(n,e){return ob.apply(this,arguments)}function ob(){return(ob=g(function*(n,e){const t=yield cb(n),r=ZR(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(lb(n.appConfig),i)).json()}catch(o){throw an.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw an.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw an.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function AY(n,e){return ab.apply(this,arguments)}function ab(){return(ab=g(function*(n,e){const t=yield cb(n),r=ZR(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${lb(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw an.create("token-update-failed",{errorInfo:o})}if(s.error)throw an.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw an.create("token-update-no-token");return s.token})).apply(this,arguments)}function QR(n,e){return ub.apply(this,arguments)}function ub(){return(ub=g(function*(n,e){const r={method:"DELETE",headers:yield cb(n)};try{const s=yield(yield fetch(`${lb(n.appConfig)}/${e}`,r)).json();if(s.error)throw an.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw an.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function lb({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function cb(n){return db.apply(this,arguments)}function db(){return(db=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function ZR({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==zR&&(i.web.applicationPubKey=r),i}const SY=6048e5;function NY(n){return hb.apply(this,arguments)}function hb(){return(hb=g(function*(n){const e=yield xY(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ns(e.getKey("auth")),p256dh:ns(e.getKey("p256dh"))},r=yield JR(n.firebaseDependencies);if(r){if(OY(r.subscriptionOptions,t))return Date.now()>=r.createTime+SY?MY(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield QR(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return ek(n.firebaseDependencies,t)}return ek(n.firebaseDependencies,t)})).apply(this,arguments)}function XR(n){return fb.apply(this,arguments)}function fb(){return(fb=g(function*(n){const e=yield JR(n.firebaseDependencies);e&&(yield QR(n.firebaseDependencies,e.token),yield TY(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function MY(n,e){return pb.apply(this,arguments)}function pb(){return(pb=g(function*(n,e){try{const t=yield AY(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield nb(n.firebaseDependencies,r),t}catch(t){throw yield XR(n),t}})).apply(this,arguments)}function ek(n,e){return gb.apply(this,arguments)}function gb(){return(gb=g(function*(n,e){const r={token:yield IY(n,e),createTime:Date.now(),subscriptionOptions:e};return yield nb(n,r),r.token})).apply(this,arguments)}function xY(n,e){return mb.apply(this,arguments)}function mb(){return(mb=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yY(e)})})).apply(this,arguments)}function OY(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function tk(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function RY(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i)}(e,n),function kY(n,e){!e.data||(n.data=e.data)}(e,n),function PY(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}(e,n),e}function FY(n){return"object"==typeof n&&!!n&&KR in n}function nk(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function _b(n){return an.create("missing-app-config-values",{valueName:n})}nk("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nk("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class VY{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function LY(n){if(!n||!n.options)throw _b("App Configuration Object");if(!n.name)throw _b("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw _b(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function rk(n){return yb.apply(this,arguments)}function yb(){return(yb=g(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(hY,{scope:fY}),n.swRegistration.update().catch(()=>{})}catch(e){throw an.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function BY(n,e){return vb.apply(this,arguments)}function vb(){return(vb=g(function*(n,e){if(!e&&!n.swRegistration&&(yield rk(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function UY(n,e){return bb.apply(this,arguments)}function bb(){return(bb=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=zR)})).apply(this,arguments)}function wb(){return(wb=g(function*(n,e){if(!navigator)throw an.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw an.create("permission-blocked");return yield UY(n,null==e?void 0:e.vapidKey),yield BY(n,null==e?void 0:e.serviceWorkerRegistration),NY(n)})).apply(this,arguments)}function jY(n,e,t){return Db.apply(this,arguments)}function Db(){return(Db=g(function*(n,e,t){const r=HY(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[KR],message_name:t[gY],message_time:t[mY],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function HY(n){switch(n){case wu.NOTIFICATION_CLICKED:return"notification_open";case wu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Eb(){return(Eb=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===wu.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(tk(t)):n.onMessageHandler.next(tk(t)));const r=t.data;FY(r)&&"1"===r[_Y]&&(yield jY(n,t.messageType,r))})).apply(this,arguments)}const sk="@firebase/messaging",GY=n=>{const e=new VY(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function $Y(n,e){return Eb.apply(this,arguments)}(e,t)),e},WY=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function ik(n,e){return wb.apply(this,arguments)}(e,r)}};function ak(){return Tb.apply(this,arguments)}function Tb(){return(Tb=g(function*(){try{yield Ac()}catch(n){return!1}return"undefined"!=typeof window&&Do()&&Zv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qY(){Gn(new Sn("messaging",GY,"PUBLIC")),Gn(new Sn("messaging-internal",WY,"PRIVATE")),pt(sk,"0.9.9"),pt(sk,"0.9.9","esm2017")}();const Zf="analytics",YY="firebase_id",ZY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uk="https://www.googletagmanager.com/gtag/js",un=new mu("@firebase/analytics");function lk(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function XY(n,e){const t=document.createElement("script");t.src=`${uk}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function tJ(n,e,t,r,i,s){return Ab.apply(this,arguments)}function Ab(){return(Ab=g(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield lk(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){un.error(a)}n("config",i,s)})).apply(this,arguments)}function nJ(n,e,t,r,i){return Sb.apply(this,arguments)}function Sb(){return(Sb=g(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield lk(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){un.error(s)}})).apply(this,arguments)}function sJ(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(uk))return e;return null}const mr=new Ai("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ck=new class lJ{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function cJ(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function dJ(n){return Nb.apply(this,arguments)}function Nb(){return(Nb=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:cJ(r)},s=ZY.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw mr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function hJ(n){return Mb.apply(this,arguments)}function Mb(){return(Mb=g(function*(n,e=ck,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw mr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw mr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new gJ;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:6e4),dk({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function dk(n,e,t){return xb.apply(this,arguments)}function xb(){return(xb=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=ck){const{appId:s,measurementId:o}=n;try{yield fJ(r,e)}catch(a){if(o)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield dJ(n);return i.deleteThrottleMetadata(s),a}catch(a){if(!pJ(a)){if(i.deleteThrottleMetadata(s),o)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?t0(t,i.intervalMillis,30):t0(t,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,l),un.debug(`Calling attemptFetch again in ${u} millis`),dk(n,l,r,i)}})).apply(this,arguments)}function fJ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pJ(n){if(!(n instanceof Ii&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class gJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function mJ(){return Ob.apply(this,arguments)}function Ob(){return(Ob=g(function*(){if(!Do())return un.warn(mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ac()}catch(n){return un.warn(mr.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function Rb(){return(Rb=g(function*(n,e,t,r,i,s,o){var a;const u=hJ(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>un.error(f)),e.push(u);const l=mJ().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);sJ()||XY(s,c.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[YY]=d),i("config",c.measurementId,h),c.measurementId})).apply(this,arguments)}class yJ{constructor(e){this.app=e}_delete(){return delete rs[this.app.options.appId],Promise.resolve()}}let rs={},hk=[];const fk={};let gk,xc,Xf="dataLayer",kb=!1;function bJ(n,e,t){!function vJ(){const n=[];if(Gf()&&n.push("This is a browser extension environment."),Zv()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=mr.create("invalid-analytics-context",{errorInfo:e});un.warn(t.message)}}();const r=n.options.appId;if(!r)throw mr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw mr.create("no-api-key");un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rs[r])throw mr.create("already-exists",{id:r});if(!kb){!function eJ(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Xf);const{wrappedGtag:s,gtagCore:o}=function iJ(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function rJ(n,e,t,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield nJ(n,e,t,a,u):"config"===o?yield tJ(n,e,t,r,a,u):n("set",a)}catch(l){un.error(l)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(rs,hk,fk,Xf,"gtag");xc=s,gk=o,kb=!0}return rs[r]=function _J(n,e,t,r,i,s,o){return Rb.apply(this,arguments)}(n,hk,fk,e,gk,Xf,t),new yJ(n)}function Pb(){return(Pb=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function AJ(){return Ub.apply(this,arguments)}function Ub(){return(Ub=g(function*(){if(Gf()||!Zv()||!Do())return!1;try{return yield Ac()}catch(n){return!1}})).apply(this,arguments)}const mk="@firebase/analytics";!function NJ(){Gn(new Sn(Zf,(e,{options:t})=>bJ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Gn(new Sn("analytics-internal",function n(e){try{const t=e.getProvider(Zf).getImmediate();return{logEvent:(r,i,s)=>function SJ(n,e,t,r){n=Bt(n),function wJ(n,e,t,r,i){return Pb.apply(this,arguments)}(xc,rs[n.app.options.appId],e,t,r).catch(i=>un.error(i))}(t,r,i,s)}}catch(t){throw mr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),pt(mk,"0.7.5"),pt(mk,"0.7.5","esm2017")}();class MJ extends Et{constructor(e,t){super()}schedule(e,t=0){return this}}const ep={setInterval(n,e,...t){const{delegate:r}=ep;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=ep;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class yk extends MJ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return ep.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;ep.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,wa(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const vk={now:()=>(vk.delegate||Date).now(),delegate:void 0};class Oc{constructor(e,t=Oc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Oc.now=vk.now;class bk extends Oc{constructor(e,t=Oc.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const RJ=new class OJ extends bk{}(class xJ extends yk{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),jb=new bk(yk),kJ=jb;function ln(n,e,t){const r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?at((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(qe(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Bi}const tp=new hu("7.2.1"),Hb="__angularfire_symbol__analyticsIsSupportedValue",$b="__angularfire_symbol__analyticsIsSupported",Gb="__angularfire_symbol__remoteConfigIsSupportedValue",Wb="__angularfire_symbol__remoteConfigIsSupported",qb="__angularfire_symbol__messagingIsSupportedValue",zb="__angularfire_symbol__messagingIsSupported";function Yb(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[$b]||(globalThis[$b]=AJ().then(n=>globalThis[Hb]=n).catch(()=>globalThis[Hb]=!1)),globalThis[zb]||(globalThis[zb]=ak().then(n=>globalThis[qb]=n).catch(()=>globalThis[qb]=!1)),globalThis[Wb]||(globalThis[Wb]=dY().then(n=>globalThis[Gb]=n).catch(()=>globalThis[Gb]=!1));const Jb=(n,e)=>{const t=e?[e]:TR(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Du(){}class wk{constructor(e,t=RJ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class PJ{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Du,{},Du,Du)),t.pipe(ln({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qb=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new wk(Zone.current)),this.insideAngular=t.run(()=>new wk(Zone.current,jb)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(k(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xo(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function FJ(n){return xo().ngZone.runOutsideAngular(()=>n())}function Oo(n){return xo().ngZone.run(()=>n())}function LJ(n){return xo(),function VJ(n){return function(t){return(t=t.lift(new PJ(n.ngZone))).pipe(wh(n.outsideAngular),bh(n.insideAngular))}}(xo())(n)}const BJ=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Oo(()=>n.apply(void 0,r))},Nn=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Oo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Du,{},Du,Du)))),r[s]=BJ(r[s],t));const i=FJ(()=>n.apply(this,r));if(!e){if(i instanceof Me){const s=xo();return i.pipe(wh(s.outsideAngular),bh(s.insideAngular))}return Oo(()=>i)}return i instanceof Me?i.pipe(LJ):i instanceof Promise?Oo(()=>new Promise((s,o)=>i.then(a=>Oo(()=>s(a)),a=>Oo(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Oo(()=>i)};class Eu{constructor(e){return e}}class Zb{constructor(){return TR()}}const Xb=new ee("angularfire2._apps"),jJ={provide:Eu,useFactory:function UJ(n){return n&&1===n.length?n[0]:new Eu(a0())},deps:[[new Ft,Xb]]},HJ={provide:Zb,deps:[[new Ft,Xb]]};function $J(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Eu(r)}}let GJ=(()=>{class n{constructor(t){pt("angularfire",tp.full,"core"),pt("angularfire",tp.full,"app"),pt("angular",Ix.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(k(Rs))},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({providers:[jJ,HJ]}),n})();function WJ(n,...e){return{ngModule:GJ,providers:[{provide:Xb,useFactory:$J(n),multi:!0,deps:[ke,dt,Qb,...e]}]}}const qJ=Nn(UK,!0),Dk=new Map,zJ={activated:!1,tokenObservers:[]},KJ={initialized:!1,enabled:!1};function Yt(n){return Dk.get(n)||zJ}function ii(n,e){Dk.set(n,e)}function np(){return KJ}class XJ{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new Qv,yield function eQ(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qv,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wn=new Ai("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Tk(n){if(!Yt(n).activated)throw Wn.create("use-before-activation",{appName:n.name})}function nw(n,e){return rw.apply(this,arguments)}function rw(){return(rw=g(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw Wn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw Wn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Wn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Wn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.attestationToken,expireTimeMillis:c+l,issuedAtTimeMillis:c}})).apply(this,arguments)}function sQ(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Rc="firebase-app-check-store";let sp=null;function Ik(){return sp||(sp=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Wn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Rc,{keyPath:"compositeKey"})}}catch(t){e(Wn.create("storage-open",{originalErrorMessage:t.message}))}}),sp)}function iw(){return(iw=g(function*(n,e){const r=(yield Ik()).transaction(Rc,"readwrite"),s=r.objectStore(Rc).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(Wn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const kc=new mu("@firebase/app-check");function Mk(n,e){return Do()?function lQ(n,e){return function Ak(n,e){return iw.apply(this,arguments)}(function Nk(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{kc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function xk(){return np().enabled}function Ok(){return uw.apply(this,arguments)}function uw(){return(uw=g(function*(){const n=np();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gQ={error:"UNKNOWN_ERROR"};function mQ(n){return Kv.encodeString(JSON.stringify(n),!1)}function op(n){return lw.apply(this,arguments)}function lw(){return(lw=g(function*(n,e=!1){const t=n.app;Tk(t);const r=Yt(t);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&ap(u)&&(i=u)}if(!e&&i&&ap(i))return{token:i.token};let a,o=!1;if(xk()){r.exchangeTokenPromise||(r.exchangeTokenPromise=nw(sQ(t,yield Ok()),n.platformLoggerProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield Mk(t,u),ii(t,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?kc.warn(u.message):kc.error(u),s=u}return i?(a={token:i.token},ii(t,Object.assign(Object.assign({},r),{token:i})),yield Mk(t,i)):a=yQ(s),o&&kk(t,a),a})).apply(this,arguments)}function dw(n,e){const t=Yt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ii(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Rk(n){const{app:e}=n,t=Yt(e);let r=t.tokenRefresher;r||(r=function _Q(n){const{app:e}=n;return new XJ(g(function*(){let r;if(r=Yt(e).token?yield op(n,!0):yield op(n),r.error)throw r.error}),()=>!0,()=>{const t=Yt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ii(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function kk(n,e){const t=Yt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function ap(n){return n.expireTimeMillis-Date.now()>0}function yQ(n){return{token:mQ(gQ),error:n}}class vQ{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Yt(this.app);for(const t of e)dw(this.app,t.next);return Promise.resolve()}}const Hk="app-check-internal";!function RQ(){Gn(new Sn("app-check",n=>function bQ(n,e){return new vQ(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Hk).initialize()})),Gn(new Sn(Hk,n=>function wQ(n){return{getToken:e=>op(n,e),addTokenListener:e=>function cw(n,e,t,r){const{app:i}=n,s=Yt(i),o={next:t,error:r,type:e};if(ii(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&ap(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),Rk(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Rk(n))}(n,"INTERNAL",e),removeTokenListener:e=>dw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),pt("@firebase/app-check","0.5.3")}();class gw{constructor(){return Jb("app-check")}}"undefined"!=typeof window&&window;const VQ=function Gk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Wk=new Ai("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qk=new mu("@firebase/auth");function lp(n,...e){qk.logLevel<=we.ERROR&&qk.error(`Auth (9.6.8): ${n}`,...e)}function rr(n,...e){throw _w(n,...e)}function Si(n,...e){return _w(n,...e)}function zk(n,e,t){const r=Object.assign(Object.assign({},VQ()),{[e]:t});return new Ai("auth","Firebase",r).create(e,{appName:n.name})}function _w(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Wk.create(n,...e)}function S(n,e,...t){if(!n)throw _w(e,...t)}function Ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lp(e),new Error(e)}function Fs(n,e){n||Ni(e)}const Kk=new Map;function is(n){Fs(n instanceof Function,"Expected a class definition");let e=Kk.get(n);return e?(Fs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Kk.set(n,e),e)}function Pc(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Yk(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Fc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fs(t>e,"Short delay should be less than long delay!"),this.isMobile=_R()||yR()}get(){return function jQ(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function yw(){return"http:"===Yk()||"https:"===Yk()}()||Gf()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vw(n,e){Fs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Jk{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},GQ=new Fc(3e4,6e4);function Ut(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Jt(n,e,t,r){return bw.apply(this,arguments)}function bw(){return(bw=g(function*(n,e,t,r,i={}){return Qk(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=zf(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),Jk.fetch()(Zk(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function Qk(n,e,t){return ww.apply(this,arguments)}function ww(){return(ww=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},$Q),e);try{const i=new WQ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw cp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw cp(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw cp(n,"email-already-in-use",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw zk(n,c,l);rr(n,c)}}catch(i){if(i instanceof Ii)throw i;rr(n,"network-request-failed")}})).apply(this,arguments)}function ss(n,e,t,r){return Dw.apply(this,arguments)}function Dw(){return(Dw=g(function*(n,e,t,r,i={}){const s=yield Jt(n,e,t,r,i);return"mfaPendingCredential"in s&&rr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Zk(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?vw(n.config,i):`${n.config.apiScheme}://${i}`}class WQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Si(this.auth,"network-request-failed")),GQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Si(n,e,r);return i.customData._tokenResponse=t,i}function Ew(){return(Ew=g(function*(n,e){return Jt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function KQ(n,e){return Cw.apply(this,arguments)}function Cw(){return(Cw=g(function*(n,e){return Jt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Lc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Iw(){return(Iw=g(function*(n,e=!1){const t=Bt(n),r=yield t.getIdToken(e),i=dp(r);S(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lc(Aw(i.auth_time)),issuedAtTime:Lc(Aw(i.iat)),expirationTime:Lc(Aw(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Aw(n){return 1e3*Number(n)}function dp(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return lp("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(n){try{return Kv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t);return i?JSON.parse(i):(lp("Failed to decode base64 JWT payload"),null)}catch(i){return lp("Caught error parsing JWT payload as JSON",i),null}}function os(n,e){return Sw.apply(this,arguments)}function Sw(){return(Sw=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ii&&QQ(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function QQ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class ZQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class Xk{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vc(n){return Nw.apply(this,arguments)}function Nw(){return(Nw=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield os(n,KQ(t,{idToken:r}));S(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?tZ(s.providerUserInfo):[],a=eZ(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Xk(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)})).apply(this,arguments)}function Mw(){return(Mw=g(function*(n){const e=Bt(n);yield Vc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function eZ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tZ(n){return n.map(e=>{var{providerId:t}=e,r=HI(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function xw(){return(xw=g(function*(n,e){const t=yield Qk(n,{},g(function*(){const r=zf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=Zk(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Jk.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S(void 0!==e.idToken,"internal-error"),S(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function JQ(n){const e=dp(n);return S(e,"internal-error"),S(void 0!==e.exp,"internal-error"),S(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return S(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function nZ(n,e){return xw.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Bc;return r&&(S("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(S("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(S("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bc,this.toJSON())}_performRefresh(){return Ni("not implemented")}}function Ls(n,e){S("string"==typeof n||void 0===n,"internal-error",{appName:e})}class Ro{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=HI(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Xk(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield os(t,t.stsTokenManager.getToken(t.auth,e));return S(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function YQ(n){return Iw.apply(this,arguments)}(this,e)}reload(){return function XQ(n){return Mw.apply(this,arguments)}(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ro(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Vc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield os(e,function qQ(n,e){return Ew.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,b=null!==(l=t.createdAt)&&void 0!==l?l:void 0,_=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:T,emailVerified:A,isAnonymous:x,providerData:B,stsTokenManager:te}=t;S(T&&te,e,"internal-error");const _e=Bc.fromJSON(this.name,te);S("string"==typeof T,e,"internal-error"),Ls(d,e.name),Ls(h,e.name),S("boolean"==typeof A,e,"internal-error"),S("boolean"==typeof x,e,"internal-error"),Ls(f,e.name),Ls(p,e.name),Ls(m,e.name),Ls(y,e.name),Ls(b,e.name),Ls(_,e.name);const Ye=new Ro({uid:T,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:x,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:_e,createdAt:b,lastLoginAt:_});return B&&Array.isArray(B)&&(Ye.providerData=B.map(ot=>Object.assign({},ot))),y&&(Ye._redirectEventId=y),Ye}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new Bc;i.updateFromServerResponse(t);const s=new Ro({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vc(s),s})()}}const eP=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function hp(n,e,t){return`firebase:${n}:${e}:${t}`}class Cu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hp(this.userKey,i.apiKey,s),this.fullPersistenceKey=hp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ro._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new Cu(is(eP),e,r);const i=(yield Promise.all(t.map(function(){var l=g(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||is(eP);const o=hp(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=Ro._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch(c){}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=g(function*(c){if(c!==s)try{yield c._remove(o)}catch(d){}});return function(c){return l.apply(this,arguments)}}())),new Cu(s,e,r)):new Cu(s,e,r)})()}}function tP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oP(e))return"Blackberry";if(aP(e))return"Webos";if(Ow(e))return"Safari";if((e.includes("chrome/")||rP(e))&&!e.includes("edge/"))return"Chrome";if(sP(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function nP(n=Kt()){return/firefox\//i.test(n)}function Ow(n=Kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rP(n=Kt()){return/crios\//i.test(n)}function iP(n=Kt()){return/iemobile/i.test(n)}function sP(n=Kt()){return/android/i.test(n)}function oP(n=Kt()){return/blackberry/i.test(n)}function aP(n=Kt()){return/webos/i.test(n)}function fp(n=Kt()){return/iphone|ipad|ipod/i.test(n)}function uP(n=Kt()){return fp(n)||sP(n)||aP(n)||oP(n)||/windows phone/i.test(n)||iP(n)}function lP(n,e=[]){let t;switch(n){case"Browser":t=tP(Kt());break;case"Worker":t=`${tP(Kt())}-${n}`;break;default:t=n}return`${t}/JsCore/9.6.8/${e.length?e.join(","):"FirebaseCore-web"}`}class oZ{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cP(this),this.idTokenSubscription=new cP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wk,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=is(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Cu.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;let i=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield t.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(S(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i)):t.reloadAndSetCurrentUserOrClear(i):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield Vc(e)}catch(r){if("auth/network-request-failed"!==r.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function HQ(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?Bt(e):null;return r&&S(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return g(function*(){if(!t._deleted)return e&&S(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue(g(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(is(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ai("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&is(e)||t._popupRedirectResolver;S(r,t,"argument-error"),t.redirectPersistenceManager=yield Cu.create(t,[is(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return S(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){const t={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(t["X-Firebase-gmpid"]=e.app.options.appId),t})()}}function ir(n){return Bt(n)}class cP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function K7(n,e){const t=new Y7(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class fP{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}function kw(){return(kw=g(function*(n,e){return Jt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Fw(){return(Fw=g(function*(n,e){return ss(n,"POST","/v1/accounts:signInWithPassword",Ut(n,e))})).apply(this,arguments)}function pp(n,e){return Lw.apply(this,arguments)}function Lw(){return(Lw=g(function*(n,e){return Jt(n,"POST","/v1/accounts:sendOobCode",Ut(n,e))})).apply(this,arguments)}function dZ(n,e){return Vw.apply(this,arguments)}function Vw(){return(Vw=g(function*(n,e){return pp(n,e)})).apply(this,arguments)}function Hw(){return(Hw=g(function*(n,e){return ss(n,"POST","/v1/accounts:signInWithEmailLink",Ut(n,e))})).apply(this,arguments)}function $w(){return($w=g(function*(n,e){return ss(n,"POST","/v1/accounts:signInWithEmailLink",Ut(n,e))})).apply(this,arguments)}class Uc extends fP{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Uc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Uc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return g(function*(){switch(t.signInMethod){case"password":return function cZ(n,e){return Fw.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function gZ(n,e){return Hw.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:rr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function gP(n,e){return kw.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function mZ(n,e){return $w.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:rr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function as(n,e){return Gw.apply(this,arguments)}function Gw(){return(Gw=g(function*(n,e){return ss(n,"POST","/v1/accounts:signInWithIdp",Ut(n,e))})).apply(this,arguments)}class $c{constructor(e){var t,r,i,s,o,a;const u=Sc(Nc(e)),l=null!==(t=u.apiKey)&&void 0!==t?t:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function EZ(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);S(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function TZ(n){const e=Sc(Nc(n)).link,t=e?Sc(Nc(e)).deep_link_id:null,r=Sc(Nc(n)).deep_link_id;return(r?Sc(Nc(r)).link:null)||r||t||e||n}(e);try{return new $c(t)}catch(r){return null}}}let mP=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Uc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=$c.parseLink(r);return S(i,"argument-error"),Uc._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class CZ extends Vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function _P(n,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=g(function*(n,e){return ss(n,"POST","/v1/accounts:signUp",Ut(n,e))})).apply(this,arguments)}class Rr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield Ro._fromIdTokenResponse(e,r,i),o=yP(r);return new Rr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=yP(r);return new Rr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function yP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class mp extends Ii{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new mp(e,t,r,i)}}function vP(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?mp._fromErrorAndOperation(n,s,e,r):s})}function Xw(n,e){return eD.apply(this,arguments)}function eD(){return(eD=g(function*(n,e,t=!1){const r=yield os(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Rr._forOperation(n,"link",r)})).apply(this,arguments)}function nD(){return(nD=g(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield os(n,vP(r,i,e,n),t);S(s.idToken,r,"internal-error");const o=dp(s.idToken);S(o,r,"internal-error");const{sub:a}=o;return S(n.uid===a,r,"user-mismatch"),Rr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&rr(r,"user-mismatch"),s}})).apply(this,arguments)}function DP(n,e){return rD.apply(this,arguments)}function rD(){return(rD=g(function*(n,e,t=!1){const r="signIn",i=yield vP(n,r,e),s=yield Rr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function sD(){return(sD=g(function*(n,e){return DP(ir(n),e)})).apply(this,arguments)}function yp(n,e,t){var r;S((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),S(void 0===t.dynamicLinkDomain||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(S(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(S(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function OZ(n,e,t){return _D.apply(this,arguments)}function _D(){return(_D=g(function*(n,e,t){const r=ir(n),i=yield _P(r,{returnSecureToken:!0,email:e,password:t}),s=yield Rr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function RZ(n,e,t){return function iD(n,e){return sD.apply(this,arguments)}(Bt(n),mP.credential(e,t))}function PZ(n,e){return DD.apply(this,arguments)}function DD(){return(DD=g(function*(n,e){const t=Bt(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&yp(t.auth,i,e);const{email:s}=yield dZ(t.auth,i);s!==n.email&&(yield n.reload())})).apply(this,arguments)}function FZ(n,e){return TD.apply(this,arguments)}function TD(){return(TD=g(function*(n,e){return Jt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function LZ(n,e){return CD.apply(this,arguments)}function CD(){return(CD=g(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=Bt(n),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=yield os(r,FZ(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>"password"===u);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}const vp="__sak";class TP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vp,"1"),this.storage.removeItem(vp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const YZ=(()=>{class n extends TP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qZ(){const n=Kt();return Ow(n)||fp(n)}()&&function sZ(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=uP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function iZ(){return vR()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),CP=(()=>{class n extends TP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let QZ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function JZ(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function OD(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class ZZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,l)=>{const c=OD("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function jt(){return window}function RD(){return void 0!==jt().WorkerGlobalScope&&"function"==typeof jt().importScripts}function kD(){return(kD=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const IP="firebaseLocalStorageDb",bp="firebaseLocalStorage",AP="fbase_key";class Wc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wp(n,e){return n.transaction([bp],e?"readwrite":"readonly").objectStore(bp)}function PD(){const n=indexedDB.open(IP,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(bp,{keyPath:AP})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(bp)?e(r):(r.close(),yield function iX(){const n=indexedDB.deleteDatabase(IP);return new Wc(n).toPromise()}(),e(yield PD()))}))})}function SP(n,e,t){return FD.apply(this,arguments)}function FD(){return(FD=g(function*(n,e,t){const r=wp(n,!0).put({[AP]:e,value:t});return new Wc(r).toPromise()})).apply(this,arguments)}function LD(){return(LD=g(function*(n,e){const t=wp(n,!1).get(e),r=yield new Wc(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function NP(n,e){const t=wp(n,!0).delete(e);return new Wc(t).toPromise()}const uX=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield PD()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return RD()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=QZ._getInstance(function nX(){return RD()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function eX(){return kD.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new ZZ(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function tX(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield PD();return yield SP(t,vp,"1"),yield NP(t,vp),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>SP(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function sX(n,e){return LD.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>NP(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=wp(o,!1).getAll();return new Wc(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function xP(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Po(n,e){return e?is(e):(S(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}xP("rcb"),new Fc(3e4,6e4);class zD extends fP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return as(e,this._buildIdpRequest())}_linkToIdToken(e,t){return as(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return as(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CX(n){return DP(n.auth,new zD(n),n.bypassAuthState)}function IX(n){const{auth:e,user:t}=n;return S(t,e,"internal-error"),function wP(n,e){return nD.apply(this,arguments)}(t,new zD(n),n.bypassAuthState)}function AX(n){return KD.apply(this,arguments)}function KD(){return(KD=g(function*(n){const{auth:e,user:t}=n;return S(t,e,"internal-error"),Xw(t,new zD(n),n.bypassAuthState)})).apply(this,arguments)}new Fc(2e3,1e4);const Ep=new Map;class MX extends class SX{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CX;case"linkViaPopup":case"linkViaRedirect":return AX;case"reauthViaPopup":case"reauthViaRedirect":return IX;default:rr(this.auth,"internal-error")}}resolve(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=Ep.get(t.auth._key());if(!r){try{const s=(yield function xX(n,e){return XD.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ep.set(t.auth._key(),r)}return t.bypassAuthState||Ep.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function XD(){return(XD=g(function*(n,e){const t=kP(e),r=RP(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function RP(n){return is(n._redirectPersistence)}function kP(n){return hp("pendingRedirect",n.config.apiKey,n.name)}function PP(n,e){return o1.apply(this,arguments)}function o1(){return(o1=g(function*(n,e,t=!1){const r=ir(n),i=Po(r,e),o=yield new MX(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class FX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function LX(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VP(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!VP(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Si(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(LP(e))}saveEventToCache(e){this.cachedEventUids.add(LP(e)),this.lastProcessedEventTime=Date.now()}}function LP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function VP({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function VX(n){return u1.apply(this,arguments)}function u1(){return(u1=g(function*(n,e={}){return Jt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const BX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UX=/^https?/;function l1(){return(l1=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield VX(n);for(const t of e)try{if(HX(t))return}catch(r){}rr(n,"unauthorized-domain")})).apply(this,arguments)}function HX(n){const e=Pc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!UX.test(t))return!1;if(BX.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const $X=new Fc(3e4,6e4);function BP(){const n=jt().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Tp=null;function WX(n){return Tp=Tp||function GX(n){return new Promise((e,t)=>{var r,i,s;function o(){BP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BP(),t(Si(n,"network-request-failed"))},timeout:$X.get()})}if(null===(i=null===(r=jt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=jt().gapi)||void 0===s?void 0:s.load)){const a=xP("iframefcb");return jt()[a]=()=>{gapi.load?o():t(Si(n,"network-request-failed"))},function MP(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Si("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function hX(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw Tp=null,e})}(n),Tp}const qX=new Fc(5e3,15e3),YX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QX(n){const e=n.config;S(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vw(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:yu},i=JX.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${zf(r).slice(1)}`}function c1(){return c1=g(function*(n){const e=yield WX(n),t=jt().gapi;return S(t,n,"internal-error"),e.open({where:document.body,url:QX(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YX,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Si(n,"network-request-failed"),u=jt().setTimeout(()=>{o(a)},qX.get());function l(){jt().clearTimeout(u),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),c1.apply(this,arguments)}const XX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class UP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function jP(n,e,t,r,i,s){S(n.config.authDomain,n,"auth-domain-config-required"),S(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yu,eventId:i};if(e instanceof Vs){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function z7(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof CZ){const u=e.getScopes().filter(l=>""!==l);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function uee({config:n}){return n.emulator?vw(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${zf(a).slice(1)}`}const d1="webStorageSupport",cee=class lee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CP,this._completeRedirectFn=PP}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;Fs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=jP(e,t,r,Pc(),i);return function iee(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},XX),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Kt().toLowerCase();t&&(a=rP(l)?"_blank":t),nP(l)&&(e=e||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function rZ(n=Kt()){var e;return fp(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function see(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new UP(null);const d=window.open(e||"",a,c);S(d,n,"popup-blocked");try{d.focus()}catch(h){}return new UP(d)}(e,a,OD())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function XZ(n){jt().location.href=n}(jP(e,t,r,Pc(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Fs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function ZX(n){return c1.apply(this,arguments)}(e),i=new FX(e);return r.register("authEvent",s=>(S(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(d1,{type:d1},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[d1];void 0!==o&&t(!!o),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function jX(n){return l1.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uP()||Ow()||fp()}};var $P="@firebase/auth";class dee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pee(n=a0()){const e=_u(n,"auth");return e.isInitialized()?e.getImmediate():function BQ(n,e){const t=_u(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(qf(t.getOptions(),null!=e?e:{}))return i;rr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:cee,persistence:[uX,YZ,CP]})}!function fee(n){Gn(new Sn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{S(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),S(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lP(n)},u=new oZ(o,a);return function UQ(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(is);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,t),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Gn(new Sn("auth-internal",e=>{const t=ir(e.getProvider("auth").getImmediate());return new dee(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pt($P,"0.19.9",function hee(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),pt($P,"0.19.9","esm2017")}("Browser");class Cp{constructor(e){return e}}class qP{constructor(){return Jb("auth")}}const h1=new ee("angularfire2.auth-instances");function mee(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Cp(r)}}const _ee={provide:qP,deps:[[new Ft,h1]]},yee={provide:Cp,useFactory:function gee(n,e){const t=Yb("auth",n,e);return t&&new Cp(t)},deps:[[new Ft,h1],Eu]};let vee=(()=>{class n{constructor(){pt("angularfire",tp.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({providers:[yee,_ee]}),n})();function bee(n,...e){return{ngModule:vee,providers:[{provide:h1,useFactory:mee(n),multi:!0,deps:[ke,dt,Qb,Zb,[new Ft,gw],...e]}]}}const wee=Nn(OZ,!0),Dee=Nn(pee,!0),Eee=Nn(PZ,!0),Tee=Nn(RZ,!0),Cee=Nn(LZ,!0);var F,Iee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},us={},f1=f1||{},Q=Iee||self;function Ip(){}function p1(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function qc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var g1="closure_uid_"+(1e9*Math.random()>>>0),See=0;function Nee(n,e,t){return n.call.apply(n.bind,arguments)}function Mee(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function cn(n,e,t){return(cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nee:Mee).apply(null,arguments)}function Ap(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function dn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Bs(){this.s=this.s,this.o=this.o}var Oee={};Bs.prototype.s=!1,Bs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Aee(n){return Object.prototype.hasOwnProperty.call(n,g1)&&n[g1]||(n[g1]=++See)}(this);delete Oee[n]}},Bs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},KP=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function YP(n){return Array.prototype.concat.apply([],arguments)}function m1(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Sp(n){return/^[\s\xa0]*$/.test(n)}var zn,JP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function qn(n,e){return-1!=n.indexOf(e)}function _1(n,e){return n<e?-1:n>e?1:0}e:{var QP=Q.navigator;if(QP){var ZP=QP.userAgent;if(ZP){zn=ZP;break e}}zn=""}function y1(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function XP(n){const e={};for(const t in n)e[t]=n[t];return e}var eF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<eF.length;s++)t=eF[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function v1(n){return v1[" "](n),n}v1[" "]=Ip;var Np,n,Pee=qn(zn,"Opera"),Iu=qn(zn,"Trident")||qn(zn,"MSIE"),nF=qn(zn,"Edge"),b1=nF||Iu,rF=qn(zn,"Gecko")&&!(qn(zn.toLowerCase(),"webkit")&&!qn(zn,"Edge"))&&!(qn(zn,"Trident")||qn(zn,"MSIE"))&&!qn(zn,"Edge"),Fee=qn(zn.toLowerCase(),"webkit")&&!qn(zn,"Edge");function iF(){var n=Q.document;return n?n.documentMode:void 0}e:{var w1="",D1=(n=zn,rF?/rv:([^\);]+)(\)|;)/.exec(n):nF?/Edge\/([\d\.]+)/.exec(n):Iu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Fee?/WebKit\/(\S+)/.exec(n):Pee?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(D1&&(w1=D1?D1[1]:""),Iu){var E1=iF();if(null!=E1&&E1>parseFloat(w1)){Np=String(E1);break e}}Np=w1}var Lee={};var Bee=Q.document&&Iu&&(iF()||parseInt(Np,10))||void 0,Uee=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Q.addEventListener("test",Ip,e),Q.removeEventListener("test",Ip,e)}catch(t){}return n}();function Mn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function zc(n,e){if(Mn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(rF){e:{try{v1(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jee[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&zc.Z.h.call(this)}}Mn.prototype.h=function(){this.defaultPrevented=!0},dn(zc,Mn);var jee={2:"touch",3:"pen",4:"mouse"};zc.prototype.h=function(){zc.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Kc="closure_listenable_"+(1e6*Math.random()|0),Hee=0;function $ee(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++Hee,this.ca=this.fa=!1}function Mp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function xp(n){this.src=n,this.g={},this.h=0}function C1(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=zP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Mp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function I1(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}xp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=I1(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new $ee(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var A1="closure_lm_"+(1e6*Math.random()|0),S1={};function oF(n,e,t,r,i){if(r&&r.once)return uF(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)oF(n,e[s],t,r,i);return null}return t=O1(t),n&&n[Kc]?n.N(e,t,qc(r)?!!r.capture:!!r,i):aF(n,e,t,!1,r,i)}function aF(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=qc(i)?!!i.capture:!!i,a=M1(n);if(a||(n[A1]=a=new xp(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function Gee(){var e=Wee;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Uee||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(cF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function uF(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)uF(n,e[s],t,r,i);return null}return t=O1(t),n&&n[Kc]?n.O(e,t,qc(r)?!!r.capture:!!r,i):aF(n,e,t,!0,r,i)}function lF(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)lF(n,e[s],t,r,i);else r=qc(r)?!!r.capture:!!r,t=O1(t),n&&n[Kc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=I1(s=n.g[e],t,r,i))&&(Mp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=M1(n))&&(e=n.g[e.toString()],n=-1,e&&(n=I1(e,t,r,i)),(t=-1<n?e[n]:null)&&N1(t))}function N1(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Kc])C1(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(cF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=M1(e))?(C1(t,n),0==t.h&&(t.src=null,e[A1]=null)):Mp(n)}}}function cF(n){return n in S1?S1[n]:S1[n]="on"+n}function Wee(n,e){if(n.ca)n=!0;else{e=new zc(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&N1(n),n=t.call(r,e)}return n}function M1(n){return(n=n[A1])instanceof xp?n:null}var x1="__closure_events_fn_"+(1e9*Math.random()>>>0);function O1(n){return"function"==typeof n?n:(n[x1]||(n[x1]=function(e){return n.handleEvent(e)}),n[x1])}function Qt(){Bs.call(this),this.i=new xp(this),this.P=this,this.I=null}function hn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Mn(e,n);else if(e instanceof Mn)e.target=e.target||n;else{var i=e;tF(e=new Mn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Op(o,r,!0,e)&&i}if(i=Op(o=e.g=n,r,!0,e)&&i,i=Op(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Op(o=e.g=t[s],r,!1,e)&&i}function Op(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,u=o.ia||o.src;o.fa&&C1(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}dn(Qt,Bs),Qt.prototype[Kc]=!0,Qt.prototype.removeEventListener=function(n,e,t,r){lF(this,n,e,t,r)},Qt.prototype.M=function(){if(Qt.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Mp(t[r]);delete n.g[e],n.h--}}this.I=null},Qt.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Qt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var R1=Q.JSON.stringify;function qee(){var n=hF;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var P1,dF=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Kee,n=>n.reset());class Kee{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Yee(n){Q.setTimeout(()=>{throw n},0)}function k1(n,e){P1||function Jee(){var n=Q.Promise.resolve(void 0);P1=function(){n.then(Qee)}}(),F1||(P1(),F1=!0),hF.add(n,e)}var F1=!1,hF=new class zee{constructor(){this.h=this.g=null}add(e,t){const r=dF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Qee(){for(var n;n=qee();){try{n.h.call(n.g)}catch(t){Yee(t)}var e=dF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}F1=!1}function Rp(n,e){Qt.call(this),this.h=n||1,this.g=e||Q,this.j=cn(this.kb,this),this.l=Date.now()}function L1(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function V1(n,e,t){if("function"==typeof n)t&&(n=cn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=cn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Q.setTimeout(n,e||0)}function fF(n){n.g=V1(()=>{n.g=null,n.i&&(n.i=!1,fF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}dn(Rp,Qt),(F=Rp.prototype).da=!1,F.S=null,F.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hn(this,"tick"),this.da&&(L1(this),this.start()))}},F.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},F.M=function(){Rp.Z.M.call(this),L1(this),delete this.g};class Zee extends Bs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fF(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yc(n){Bs.call(this),this.h=n,this.g={}}dn(Yc,Bs);var pF=[];function gF(n,e,t,r){Array.isArray(t)||(t&&(pF[0]=t.toString()),t=pF);for(var i=0;i<t.length;i++){var s=oF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function mF(n){y1(n.g,function(e,t){this.g.hasOwnProperty(t)&&N1(e)},n),n.g={}}function kp(){this.g=!0}function Au(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nte(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return R1(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}Yc.prototype.M=function(){Yc.Z.M.call(this),mF(this)},Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kp.prototype.Aa=function(){this.g=!1},kp.prototype.info=function(){};var Fo={},_F=null;function Pp(){return _F=_F||new Qt}function yF(n){Mn.call(this,Fo.Ma,n)}function Jc(n){const e=Pp();hn(e,new yF(e,n))}function vF(n,e){Mn.call(this,Fo.STAT_EVENT,n),this.stat=e}function Kn(n){const e=Pp();hn(e,new vF(e,n))}function bF(n,e){Mn.call(this,Fo.Na,n),this.size=e}function Qc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){n()},e)}Fo.Ma="serverreachability",dn(yF,Mn),Fo.STAT_EVENT="statevent",dn(vF,Mn),Fo.Na="timingevent",dn(bF,Mn);var Fp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wF={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function B1(){}function EF(){}B1.prototype.h=null;var H1,Zc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function U1(){Mn.call(this,"d")}function j1(){Mn.call(this,"c")}function Lp(){}function Xc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Yc(this),this.P=rte,this.W=new Rp(n=b1?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new TF}function TF(){this.i=null,this.g="",this.h=!1}dn(U1,Mn),dn(j1,Mn),dn(Lp,B1),Lp.prototype.g=function(){return new XMLHttpRequest},Lp.prototype.i=function(){return{}},H1=new Lp;var rte=45e3,$1={},Vp={};function G1(n,e,t){n.K=1,n.v=$p(ls(e)),n.s=t,n.U=!0,CF(n,null)}function CF(n,e){n.F=Date.now(),ed(n),n.A=ls(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),kF(t.h,"t",r),n.C=0,t=n.l.H,n.h=new TF,n.g=rL(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Zee(cn(n.Ia,n,n.g),n.O)),gF(n.V,n.g,"readystatechange",n.gb),e=n.H?XP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Jc(1),function Xee(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function IF(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function AF(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=ite(n,t),i==Vp){4==e&&(n.o=4,Kn(14),r=!1),Au(n.j,n.m,null,"[Incomplete Response]");break}if(i==$1){n.o=4,Kn(15),Au(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Au(n.j,n.m,i,null),W1(n,i)}IF(n)&&i!=Vp&&i!=$1&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Kn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),nE(e),e.L=!0,Kn(11))):(Au(n.j,n.m,t,"[Invalid Chunked Response]"),Lo(n),td(n))}function ite(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Vp:(t=Number(e.substring(t,r)),isNaN(t)?$1:(r+=1)+t>e.length?Vp:(e=e.substr(r,t),n.C=r+t,e))}function ed(n){n.Y=Date.now()+n.P,SF(n,n.P)}function SF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Qc(cn(n.eb,n),e)}function Bp(n){n.B&&(Q.clearTimeout(n.B),n.B=null)}function td(n){0==n.l.G||n.I||XF(n.l,n)}function Lo(n){Bp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,L1(n.W),mF(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function W1(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||K1(t.i,n)))if(t.I=n.N,!n.J&&K1(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Qc(cn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Yp(t),zp(t)}tE(t),Kn(18)}if(1>=LF(t.i)&&t.ka){try{t.ka()}catch(l){}t.ka=void 0}}else Uo(t,11)}else if((n.J||t.g==n)&&Yp(t),!Sp(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.U=l[0],l=l[1],2==t.G)if("c"==l[0]){t.J=l[1],t.la=l[2];const c=l[3];null!=c&&(t.ma=c,t.h.info("VER="+t.ma));const d=l[4];null!=d&&(t.za=d,t.h.info("SVER="+t.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.K=r=1.5*h,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(qn(p,"spdy")||qn(p,"quic")||qn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Y1(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Qe(r.F,r.D,m))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=nL(r,r.H?r.la:null,r.W),o.J){VF(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Bp(a),ed(a)),r.g=o}else QF(r);0<t.l.length&&Kp(t)}else"stop"!=l[0]&&"close"!=l[0]||Uo(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Uo(t,7):X1(t):"noop"!=l[0]&&t.j&&t.j.wa(l),t.A=0)}Jc(4)}catch(l){}}function q1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(p1(n)||"string"==typeof n)KP(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(p1(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function ste(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(p1(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function Su(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Su)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function z1(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Vo(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Vo(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Vo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(F=Xc.prototype).setTimeout=function(n){this.P=n},F.gb=function(n){n=n.target;const e=this.L;e&&3==cs(n)?e.l():this.Ia(n)},F.Ia=function(n){try{if(n==this.g)e:{const c=cs(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||b1||this.g&&(this.h.h||this.g.ga()||qF(this.g)))){this.I||4!=c||7==e||Jc(8==e||0>=d?3:2),Bp(this);var t=this.g.ba();this.N=t;t:if(IF(this)){var r=qF(this.g);n="";var i=r.length,s=4==cs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Lo(this),td(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function ete(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sp(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Kn(12),Lo(this),td(this);break e}Au(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,W1(this,t)}this.U?(AF(this,c,o),b1&&this.i&&3==c&&(gF(this.V,this.W,"tick",this.fb),this.W.start())):(Au(this.j,this.m,o,null),W1(this,o)),4==c&&Lo(this),this.i&&!this.I&&(4==c?XF(this.l,this):(this.i=!1,ed(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Kn(12)):(this.o=0,Kn(13)),Lo(this),td(this)}}}catch(c){}},F.fb=function(){if(this.g){var n=cs(this.g),e=this.g.ga();this.C<e.length&&(Bp(this),AF(this,n,e),this.i&&4!=n&&ed(this))}},F.cancel=function(){this.I=!0,Lo(this)},F.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function tte(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Jc(3),Kn(17)),Lo(this),this.o=2,td(this)):SF(this,this.Y-n)},(F=Su.prototype).R=function(){z1(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},F.T=function(){return z1(this),this.g.concat()},F.get=function(n,e){return Vo(this.h,n)?this.h[n]:e},F.set=function(n,e){Vo(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},F.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var NF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bo(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Bo){this.g=void 0!==e?e:n.g,Up(this,n.j),this.s=n.s,jp(this,n.i),Hp(this,n.m),this.l=n.l,e=n.h;var t=new id;t.i=e.i,e.g&&(t.g=new Su(e.g),t.h=e.h),MF(this,t),this.o=n.o}else n&&(t=String(n).match(NF))?(this.g=!!e,Up(this,t[1]||"",!0),this.s=nd(t[2]||""),jp(this,t[3]||"",!0),Hp(this,t[4]),this.l=nd(t[5]||"",!0),MF(this,t[6]||"",!0),this.o=nd(t[7]||"")):(this.g=!!e,this.h=new id(null,this.g))}function ls(n){return new Bo(n)}function Up(n,e,t){n.j=t?nd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function jp(n,e,t){n.i=t?nd(e,!0):e}function Hp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function MF(n,e,t){e instanceof id?(n.h=e,function pte(n,e){e&&!n.j&&(Us(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(OF(this,r),kF(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=rd(e,hte)),n.h=new id(e,n.g))}function Qe(n,e,t){n.h.set(e,t)}function $p(n){return Qe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function nd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function rd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,lte),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function lte(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(rd(e,xF,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(rd(e,xF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(rd(t,"/"==t.charAt(0)?dte:cte,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",rd(t,fte)),n.join("")};var xF=/[#\/\?@]/g,cte=/[#\?:]/g,dte=/[#\?]/g,hte=/[#\?@]/g,fte=/#/g;function id(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Us(n){n.g||(n.g=new Su,n.h=0,n.i&&function ote(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function OF(n,e){Us(n),e=Nu(n,e),Vo(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Vo((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&z1(n)))}function RF(n,e){return Us(n),e=Nu(n,e),Vo(n.g.h,e)}function kF(n,e,t){OF(n,e),0<t.length&&(n.i=null,n.g.set(Nu(n,e),m1(t)),n.h+=t.length)}function Nu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function PF(n){this.l=n||mte,n=Q.PerformanceNavigationTiming?0<(n=Q.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Q.g&&Q.g.Ea&&Q.g.Ea()&&Q.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(F=id.prototype).add=function(n,e){Us(this),this.i=null,n=Nu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},F.forEach=function(n,e){Us(this),this.g.forEach(function(t,r){KP(t,function(i){n.call(e,i,r,this)},this)},this)},F.T=function(){Us(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},F.R=function(n){Us(this);var e=[];if("string"==typeof n)RF(this,n)&&(e=YP(e,this.g.get(Nu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=YP(e,n[t])}return e},F.set=function(n,e){return Us(this),this.i=null,RF(this,n=Nu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},F.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},F.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var mte=10;function FF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function LF(n){return n.h?1:n.g?n.g.size:0}function K1(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Y1(n,e){n.g?n.g.add(e):n.h=e}function VF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function BF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return m1(n.i)}function J1(){}function _te(){this.g=new J1}function yte(n,e,t){const r=t||"";try{q1(n,function(i,s){let o=i;qc(i)&&(o=R1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Gp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function sd(n){this.l=n.$b||null,this.j=n.ib||!1}function Wp(n,e){Qt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Q1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}PF.prototype.cancel=function(){if(this.i=BF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},J1.prototype.stringify=function(n){return Q.JSON.stringify(n,void 0)},J1.prototype.parse=function(n){return Q.JSON.parse(n,void 0)},dn(sd,B1),sd.prototype.g=function(){return new Wp(this.l,this.j)},sd.prototype.i=function(n){return function(){return n}}({}),dn(Wp,Qt);var Q1=0;function UF(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function od(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ad(n)}function ad(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(F=Wp.prototype).open=function(n,e){if(this.readyState!=Q1)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ad(this)},F.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Q).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,od(this)),this.readyState=Q1},F.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ad(this)),this.g&&(this.readyState=3,ad(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Q.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UF(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},F.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?od(this):ad(this),3==this.readyState&&UF(this)}},F.Ua=function(n){this.g&&(this.response=this.responseText=n,od(this))},F.Ta=function(n){this.g&&(this.response=n,od(this))},F.ha=function(){this.g&&od(this)},F.setRequestHeader=function(n,e){this.v.append(n,e)},F.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},F.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Wp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var bte=Q.JSON.parse;function Nt(n){Qt.call(this),this.headers=new Su,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jF,this.K=this.L=!1}dn(Nt,Qt);var jF="",wte=/^https?$/i,Dte=["POST","PUT"];function Tte(n){return"content-type"==n.toLowerCase()}function HF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$F(n),qp(n)}function $F(n){n.D||(n.D=!0,hn(n,"complete"),hn(n,"error"))}function GF(n){if(n.h&&void 0!==f1&&(!n.C[1]||4!=cs(n)||2!=n.ba()))if(n.v&&4==cs(n))V1(n.Fa,0,n);else if(hn(n,"readystatechange"),4==cs(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(NF)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!wte.test(i?i.toLowerCase():"")}t=r}if(t)hn(n,"complete"),hn(n,"success");else{n.m=6;try{var o=2<cs(n)?n.g.statusText:""}catch(u){o=""}n.j=o+" ["+n.ba()+"]",$F(n)}}finally{qp(n)}}}function qp(n,e){if(n.g){WF(n);const t=n.g,r=n.C[0]?Ip:null;n.g=null,n.C=null,e||hn(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function WF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Q.clearTimeout(n.A),n.A=null)}function cs(n){return n.g?n.g.readyState:0}function qF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case jF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Z1(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Cte(n){let e="";return y1(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qe(n,e,t))}function ud(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zF(n){this.za=0,this.l=[],this.h=new kp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ud("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ud("baseRetryDelayMs",5e3,n),this.$a=ud("retryDelaySeedMs",1e4,n),this.Ya=ud("forwardChannelMaxRetries",2,n),this.ra=ud("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new PF(n&&n.concurrentRequestLimit),this.Ca=new _te,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function X1(n){if(KF(n),3==n.G){var e=n.V++,t=ls(n.F);Qe(t,"SID",n.J),Qe(t,"RID",e),Qe(t,"TYPE","terminate"),ld(n,t),(e=new Xc(n,n.h,e,void 0)).K=2,e.v=$p(ls(t)),t=!1,Q.navigator&&Q.navigator.sendBeacon&&(t=Q.navigator.sendBeacon(e.v.toString(),"")),!t&&Q.Image&&((new Image).src=e.v,t=!0),t||(e.g=rL(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ed(e)}tL(n)}function zp(n){n.g&&(nE(n),n.g.cancel(),n.g=null)}function KF(n){zp(n),n.u&&(Q.clearTimeout(n.u),n.u=null),Yp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Q.clearTimeout(n.m),n.m=null)}function eE(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Kp(n)}function Kp(n){FF(n.i)||n.m||(n.m=!0,k1(n.Ha,n),n.C=0)}function YF(n,e){var t;t=e?e.m:n.V++;const r=ls(n.F);Qe(r,"SID",n.J),Qe(r,"RID",t),Qe(r,"AID",n.U),ld(n,r),n.o&&n.s&&Z1(r,n.o,n.s),t=new Xc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=JF(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Y1(n.i,t),G1(t,r,e)}function ld(n,e){n.j&&q1({},function(t,r){Qe(e,r,t)})}function JF(n,e,t){t=Math.min(n.l.length,t);var r=n.j?cn(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{yte(c,o,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function QF(n){n.g||n.u||(n.Y=1,k1(n.Ga,n),n.A=0)}function tE(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Qc(cn(n.Ga,n),eL(n,n.A)),n.A++,0))}function nE(n){null!=n.B&&(Q.clearTimeout(n.B),n.B=null)}function ZF(n){n.g=new Xc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ls(n.oa);Qe(e,"RID","rpc"),Qe(e,"SID",n.J),Qe(e,"CI",n.N?"0":"1"),Qe(e,"AID",n.U),ld(n,e),Qe(e,"TYPE","xmlhttp"),n.o&&n.s&&Z1(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=$p(ls(e)),t.s=null,t.U=!0,CF(t,n)}function Yp(n){null!=n.v&&(Q.clearTimeout(n.v),n.v=null)}function XF(n,e){var t=null;if(n.g==e){Yp(n),nE(n),n.g=null;var r=2}else{if(!K1(n.i,e))return;t=e.D,VF(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;hn(r=Pp(),new bF(r,t,e,i)),Kp(n)}else QF(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Ite(n,e){return!(LF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Qc(cn(n.Ha,n,e),eL(n,n.C)),n.C++,0)))}(n,e)||2==r&&tE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Uo(n,5);break;case 4:Uo(n,10);break;case 3:Uo(n,6);break;default:Uo(n,2)}}function eL(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Uo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=cn(n.jb,n);t||(t=new Bo("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Up(t,"https"),$p(t)),function vte(n,e){const t=new kp;if(Q.Image){const r=new Image;r.onload=Ap(Gp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ap(Gp,t,r,"TestLoadImage: error",!1,e),r.onabort=Ap(Gp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ap(Gp,t,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Kn(2);n.G=0,n.j&&n.j.va(e),tL(n),KF(n)}function tL(n){n.G=0,n.I=-1,n.j&&((0!=BF(n.i).length||0!=n.l.length)&&(n.i.i.length=0,m1(n.l),n.l.length=0),n.j.ua())}function nL(n,e,t){let r=function ate(n){return n instanceof Bo?ls(n):new Bo(n,void 0)}(t);if(""!=r.i)e&&jp(r,e+"."+r.i),Hp(r,r.m);else{const i=Q.location;r=function ute(n,e,t,r){var i=new Bo(null,void 0);return n&&Up(i,n),e&&jp(i,e),t&&Hp(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&y1(n.aa,function(i,s){Qe(r,s,i)}),t=n.sa,(e=n.D)&&t&&Qe(r,e,t),Qe(r,"VER",n.ma),ld(n,r),r}function rL(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nt(t&&n.Ba&&!n.qa?new sd({ib:!0}):n.qa)).L=n.H,e}function iL(){}function Jp(){if(Iu&&!(10<=Number(Bee)))throw Error("Environmental error: no available transport.")}function _r(n,e){Qt.call(this),this.g=new zF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Sp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Mu(this)}function sL(n){U1.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function oL(){j1.call(this),this.status=1}function Mu(n){this.g=n}(F=Nt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():H1.g(),this.C=function DF(n){return n.h||(n.h=n.i())}(this.u?this.u:H1),this.g.onreadystatechange=cn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void HF(this,s)}n=t||"";const i=new Su(this.headers);r&&q1(r,function(s,o){i.set(o,s)}),r=function Ree(n){e:{var e=Tte;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Q.FormData&&n instanceof Q.FormData,!(0<=zP(Dte,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{WF(this),0<this.B&&((this.K=function Ete(n){return Iu&&function Vee(){return function kee(n){var e=Lee;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=JP(String(Np)).split("."),t=JP("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=_1(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||_1(0==i[2].length,0==s[2].length)||_1(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.pa,this)):this.A=V1(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){HF(this,s)}},F.pa=function(){void 0!==f1&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hn(this,"timeout"),this.abort(8))},F.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,hn(this,"complete"),hn(this,"abort"),qp(this))},F.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qp(this,!0)),Nt.Z.M.call(this)},F.Fa=function(){this.s||(this.F||this.v||this.l?GF(this):this.cb())},F.cb=function(){GF(this)},F.ba=function(){try{return 2<cs(this)?this.g.status:-1}catch(n){return-1}},F.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},F.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),bte(e)}},F.Da=function(){return this.m},F.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(F=zF.prototype).ma=8,F.G=1,F.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},F.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Xc(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=XP(s),tF(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=JF(this,i,e),Qe(t=ls(this.F),"RID",n),Qe(t,"CVER",22),this.D&&Qe(t,"X-HTTP-Session-Id",this.D),ld(this,t),this.o&&s&&Z1(t,this.o,s),Y1(this.i,i),this.Ra&&Qe(t,"TYPE","init"),this.ja?(Qe(t,"$req",e),Qe(t,"SID","null"),i.$=!0,G1(i,t,null)):G1(i,t,e),this.G=2}}else 3==this.G&&(n?YF(this,n):0==this.l.length||FF(this.i)||YF(this))},F.Ga=function(){if(this.u=null,ZF(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Qc(cn(this.bb,this),n)}},F.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Kn(10),zp(this),ZF(this))},F.ab=function(){null!=this.v&&(this.v=null,zp(this),tE(this),Kn(19))},F.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Kn(2)):(this.h.info("Failed to ping google.com"),Kn(1))},(F=iL.prototype).xa=function(){},F.wa=function(){},F.va=function(){},F.ua=function(){},F.Oa=function(){},Jp.prototype.g=function(n,e){return new _r(n,e)},dn(_r,Qt),_r.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),k1(cn(n.hb,n,e))),Kn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=nL(n,null,n.W),Kp(n)},_r.prototype.close=function(){X1(this.g)},_r.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,eE(this.g,e)}else this.v?((e={}).__data__=R1(n),eE(this.g,e)):eE(this.g,n)},_r.prototype.M=function(){this.g.j=null,delete this.j,X1(this.g),delete this.g,_r.Z.M.call(this)},dn(sL,U1),dn(oL,j1),dn(Mu,iL),Mu.prototype.xa=function(){hn(this.g,"a")},Mu.prototype.wa=function(n){hn(this.g,new sL(n))},Mu.prototype.va=function(n){hn(this.g,new oL(n))},Mu.prototype.ua=function(){hn(this.g,"b")},Jp.prototype.createWebChannel=Jp.prototype.g,_r.prototype.send=_r.prototype.u,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,Fp.NO_ERROR=0,Fp.TIMEOUT=8,Fp.HTTP_ERROR=6,wF.COMPLETE="complete",EF.EventType=Zc,Zc.OPEN="a",Zc.CLOSE="b",Zc.ERROR="c",Zc.MESSAGE="d",Qt.prototype.listen=Qt.prototype.N,Nt.prototype.listenOnce=Nt.prototype.O,Nt.prototype.getLastError=Nt.prototype.La,Nt.prototype.getLastErrorCode=Nt.prototype.Da,Nt.prototype.getStatus=Nt.prototype.ba,Nt.prototype.getResponseJson=Nt.prototype.Qa,Nt.prototype.getResponseText=Nt.prototype.ga,Nt.prototype.send=Nt.prototype.ea;var Ate=us.createWebChannelTransport=function(){return new Jp},Ste=us.getStatEventTarget=function(){return Pp()},rE=us.ErrorCode=Fp,Nte=us.EventType=wF,Mte=us.Event=Fo,aL=us.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},xte=us.FetchXmlHttpFactory=sd,Qp=us.WebChannel=EF,Ote=us.XhrIo=Nt;const uL="@firebase/firestore";class fn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let xu="9.6.7";const js=new mu("@firebase/firestore");function iE(){return js.logLevel}function I(n,...e){if(js.logLevel<=we.DEBUG){const t=e.map(sE);js.debug(`Firestore (${xu}): ${n}`,...t)}}function Mt(n,...e){if(js.logLevel<=we.ERROR){const t=e.map(sE);js.error(`Firestore (${xu}): ${n}`,...t)}}function Zp(n,...e){if(js.logLevel<=we.WARN){const t=e.map(sE);js.warn(`Firestore (${xu}): ${n}`,...t)}}function sE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function V(n="Unexpected state"){const e=`FIRESTORE (${xu}) INTERNAL ASSERTION FAILED: `+n;throw Mt(e),new Error(e)}function q(n,e){n||V()}function N(n,e){return n}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Ii{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class Pte{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Zt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Zt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(g(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Zt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(q("string"==typeof r.accessToken),new lL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return q(null===e||"string"==typeof e),new fn(e)}}class Fte{constructor(e,t,r){this.type="FirstParty",this.user=fn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Lte{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Fte(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vte{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,I("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(q("string"==typeof t.token),this.p=t.token,new cL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class yr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Bte(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}yr.A=-1;class dL{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Bte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ge(n,e){return n<e?-1:n>e?1:0}function Ou(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class pn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new pn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new pn(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function fL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function jo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class cd{constructor(e,t,r){void 0===t?t=0:t>e.length&&V(),void 0===r?r=e.length-t:r>e.length-t&&V(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===cd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Se extends cd{construct(e,t,r){return new Se(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Se(t)}static emptyPath(){return new Se([])}}const Ute=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends cd{construct(e,t,r){return new gn(e,t,r)}static isValidIdentifier(e){return Ute.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new C(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new C(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new C(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new C(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(t)}static emptyPath(){return new gn([])}}class Ru{constructor(e){this.fields=e,e.sort(gn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ou(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ht(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const jte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(n){if(q(!!n),"string"==typeof n){let e=0;const t=jte.exec(n);if(q(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ho(n){return"string"==typeof n?Ht.fromBase64String(n):Ht.fromUint8Array(n)}function oE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gL(n){const e=n.mapValue.fields.__previous_value__;return oE(e)?gL(e):e}function dd(n){const e=Hs(n.mapValue.fields.__local_write_time__.timestampValue);return new pn(e.seconds,e.nanos)}class Hte{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class ku{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}function $o(n){return null==n}function hd(n){return 0===n&&1/n==-1/0}class P{constructor(e){this.path=e}static fromPath(e){return new P(Se.fromString(e))}static fromName(e){return new P(Se.fromString(e).popFirst(5))}static empty(){return new P(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Se.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Se.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new P(new Se(e.slice()))}}const $te={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Go(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oE(n)?4:10:V()}function si(n,e){if(n===e)return!0;const t=Go(n);if(t!==Go(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dd(n).isEqual(dd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Hs(r.timestampValue),o=Hs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ho(n.bytesValue).isEqual(Ho(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return gt(r.geoPointValue.latitude)===gt(i.geoPointValue.latitude)&&gt(r.geoPointValue.longitude)===gt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return gt(r.integerValue)===gt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=gt(r.doubleValue),o=gt(i.doubleValue);return s===o?hd(s)===hd(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Ou(n.arrayValue.values||[],e.arrayValue.values||[],si);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(fL(s)!==fL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!si(s[a],o[a])))return!1;return!0}(n,e);default:return V()}var i}function fd(n,e){return void 0!==(n.values||[]).find(t=>si(t,e))}function Pu(n,e){if(n===e)return 0;const t=Go(n),r=Go(e);if(t!==r)return ge(t,r);switch(t){case 0:return 0;case 1:return ge(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=gt(i.integerValue||i.doubleValue),a=gt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return _L(n.timestampValue,e.timestampValue);case 4:return _L(dd(n),dd(e));case 5:return ge(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Ho(i),a=Ho(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=ge(o[u],a[u]);if(0!==l)return l}return ge(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ge(gt(i.latitude),gt(s.latitude));return 0!==o?o:ge(gt(i.longitude),gt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=Pu(o[u],a[u]);if(l)return l}return ge(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=ge(a[c],l[c]);if(0!==d)return d;const h=Pu(o[a[c]],u[l[c]]);if(0!==h)return h}return ge(a.length,l.length)}(n.mapValue,e.mapValue);default:throw V()}}function _L(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ge(n,e);const t=Hs(n),r=Hs(e),i=ge(t.seconds,r.seconds);return 0!==i?i:ge(t.nanos,r.nanos)}function Fu(n){return aE(n)}function aE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Hs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ho(n.bytesValue).toBase64():"referenceValue"in n?P.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=aE(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${aE(r.fields[a])}`;return s+"}"}(n.mapValue):V();var e}function Xp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function uE(n){return!!n&&"integerValue"in n}function eg(n){return!!n&&"arrayValue"in n}function yL(n){return!!n&&"nullValue"in n}function vL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tg(n){return!!n&&"mapValue"in n}function pd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return jo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pd(n.arrayValue.values[t]);return e}return Object.assign({},n)}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pd(t)}setAll(e){let t=gn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=pd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());tg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){jo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xn(pd(this.value))}}function bL(n){const e=[];return jo(n.fields,(t,r)=>{const i=new gn([t]);if(tg(r)){const s=bL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ru(e)}class st{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new st(e,0,W.min(),W.min(),xn.empty(),0)}static newFoundDocument(e,t,r){return new st(e,1,t,W.min(),r,0)}static newNoDocument(e,t){return new st(e,2,t,W.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new st(e,3,t,W.min(),xn.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof st&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gte{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function wL(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Gte(n,e,t,r,i,s,o)}function md(n){const e=N(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Fu(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),$o(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fu(r)).join(",")),e.P=t}return e.P}function ig(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Xte(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!si(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!TL(n.startAt,e.startAt)&&TL(n.endAt,e.endAt)}function sg(n){return P.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Yn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new qte(e,t,r):"array-contains"===t?new Yte(e,r):"in"===t?new Jte(e,r):"not-in"===t?new Qte(e,r):"array-contains-any"===t?new Zte(e,r):new Yn(e,t,r)}static v(e,t,r){return"in"===t?new zte(e,r):new Kte(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Pu(t,this.value)):null!==t&&Go(this.value)===Go(t)&&this.V(Pu(t,this.value))}V(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return V()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qte extends Yn{constructor(e,t,r){super(e,t,r),this.key=P.fromName(r.referenceValue)}matches(e){const t=P.comparator(e.key,this.key);return this.V(t)}}class zte extends Yn{constructor(e,t){super(e,"in",t),this.keys=DL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Kte extends Yn{constructor(e,t){super(e,"not-in",t),this.keys=DL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>P.fromName(r.referenceValue))}class Yte extends Yn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eg(t)&&fd(t.arrayValue,this.value)}}class Jte extends Yn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fd(this.value.arrayValue,t)}}class Qte extends Yn{constructor(e,t){super(e,"not-in",t)}matches(e){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fd(this.value.arrayValue,t)}}class Zte extends Yn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fd(this.value.arrayValue,r))}}class Lu{constructor(e,t){this.position=e,this.inclusive=t}}class Vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xte(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function EL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?P.comparator(P.fromName(o.referenceValue),t.key):Pu(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function TL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!si(n.position[t],e.position[t]))return!1;return!0}class ds{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function Bu(n){return new ds(n)}function og(n){return!$o(n.limit)&&"F"===n.limitType}function ag(n){return!$o(n.limit)&&"L"===n.limitType}function cE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function dE(n){for(const e of n.filters)if(e.S())return e.field;return null}function hE(n){return null!==n.collectionGroup}function Uu(n){const e=N(n);if(null===e.D){e.D=[];const t=dE(e),r=cE(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Vu(t)),e.D.push(new Vu(gn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Vu(gn.keyField(),s))}}}return e.D}function kr(n){const e=N(n);if(!e.C)if("F"===e.limitType)e.C=wL(e.path,e.collectionGroup,Uu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Uu(e))t.push(new Vu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Lu(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Lu(e.startAt.position,!e.startAt.inclusive):null;e.C=wL(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function _d(n,e){return ig(kr(n),kr(e))&&n.limitType===e.limitType}function AL(n){return`${md(kr(n))}|lt:${n.limitType}`}function fE(n){return`Query(target=${function Wte(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Fu(r.value)}`;var r}).join(", ")}]`),$o(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Fu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Fu(t)).join(",")),`Target(${e})`}(kr(n))}; limitType=${n.limitType})`}function pE(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):P.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=EL(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Uu(t),r)||t.endAt&&!function(i,s,o){const a=EL(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Uu(t),r)));var t,r}function SL(n){return(e,t)=>{let r=!1;for(const i of Uu(n)){const s=ene(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function ene(n,e,t){const r=n.field.isKeyField()?P.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Pu(a,u):V()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}function NL(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function ML(n){return{integerValue:""+n}}function xL(n,e){return function mL(n){return"number"==typeof n&&Number.isInteger(n)&&!hd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?ML(e):NL(n,e)}class ug{constructor(){this._=void 0}}function tne(n,e,t){return n instanceof ju?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Wo?RL(n,e):n instanceof qo?kL(n,e):function(r,i){const s=OL(r,i),o=PL(s)+PL(r.k);return uE(s)&&uE(r.k)?ML(o):NL(r.O,o)}(n,e)}function nne(n,e,t){return n instanceof Wo?RL(n,e):n instanceof qo?kL(n,e):t}function OL(n,e){return n instanceof Hu?uE(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ju extends ug{}class Wo extends ug{constructor(e){super(),this.elements=e}}function RL(n,e){const t=FL(e);for(const r of n.elements)t.some(i=>si(i,r))||t.push(r);return{arrayValue:{values:t}}}class qo extends ug{constructor(e){super(),this.elements=e}}function kL(n,e){let t=FL(e);for(const r of n.elements)t=t.filter(i=>!si(i,r));return{arrayValue:{values:t}}}class Hu extends ug{constructor(e,t){super(),this.O=e,this.k=t}}function PL(n){return gt(n.integerValue||n.doubleValue)}function FL(n){return eg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ine{constructor(e,t){this.version=e,this.transformResults=t}}class xt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xt}static exists(e){return new xt(void 0,e)}static updateTime(e){return new xt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class cg{}function sne(n,e,t){n instanceof vd?function(r,i,s){const o=r.value.clone(),a=UL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof zo?function(r,i,s){if(!lg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=UL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(BL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gE(n,e,t){var i;n instanceof vd?function(r,i,s){if(!lg(r.precondition,i))return;const o=r.value.clone(),a=jL(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(VL(i),o).setHasLocalMutations()}(n,e,t):n instanceof zo?function(r,i,s){if(!lg(r.precondition,i))return;const o=jL(r.fieldTransforms,s,i),a=i.data;a.setAll(BL(r)),a.setAll(o),i.convertToFoundDocument(VL(i),a).setHasLocalMutations()}(n,e,t):lg(n.precondition,i=e)&&i.convertToNoDocument(W.min())}function one(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=OL(r.transform,i||null);null!=s&&(null==t&&(t=xn.empty()),t.set(r.field,s))}return t||null}function LL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ou(t,r,(i,s)=>function rne(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Wo&&r instanceof Wo||t instanceof qo&&r instanceof qo?Ou(t.elements,r.elements,si):t instanceof Hu&&r instanceof Hu?si(t.k,r.k):t instanceof ju&&r instanceof ju);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function VL(n){return n.isFoundDocument()?n.version:W.min()}class vd extends cg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class zo extends cg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function BL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function UL(n,e,t){const r=new Map;q(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nne(o,a,t[i]))}return r}function jL(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,tne(s,o,e))}return r}class bd extends cg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class mE extends cg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ane{constructor(e){this.count=e}}var Ot,De;function HL(n){switch(n){default:return V();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function $L(n){if(void 0===n)return Mt("GRPC error has no .code"),w.UNKNOWN;switch(n){case Ot.OK:return w.OK;case Ot.CANCELLED:return w.CANCELLED;case Ot.UNKNOWN:return w.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return w.INTERNAL;case Ot.UNAVAILABLE:return w.UNAVAILABLE;case Ot.UNAUTHENTICATED:return w.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case Ot.NOT_FOUND:return w.NOT_FOUND;case Ot.ALREADY_EXISTS:return w.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return w.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case Ot.ABORTED:return w.ABORTED;case Ot.OUT_OF_RANGE:return w.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return w.UNIMPLEMENTED;case Ot.DATA_LOSS:return w.DATA_LOSS;default:return V()}}(De=Ot||(Ot={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";class wt{constructor(e,t){this.comparator=e,this.root=t||mn.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dg(this.root,e,this.comparator,!1)}getReverseIterator(){return new dg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dg(this.root,e,this.comparator,!0)}}class dg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:mn.RED,this.left=null!=i?i:mn.EMPTY,this.right=null!=s?s:mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new mn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return mn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1,mn.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(n,e,t,r,i){return this}insert(n,e,t){return new mn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ze{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GL(this.data.getIterator())}getIteratorFrom(e){return new GL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ze(this.comparator);return t.data=e,t}}class GL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const une=new wt(P.comparator);function Pr(){return une}const lne=new wt(P.comparator);function _E(){return lne}const cne=new wt(P.comparator),dne=new Ze(P.comparator);function Oe(...n){let e=dne;for(const t of n)e=e.add(t);return e}const hne=new Ze(ge);function hg(){return hne}class wd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,t)),new wd(W.min(),r,hg(),Pr(),Oe())}}class Dd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Dd(Ht.EMPTY_BYTE_STRING,t,Oe(),Oe(),Oe())}}class fg{constructor(e,t,r,i){this.M=e,this.removedTargetIds=t,this.key=r,this.$=i}}class WL{constructor(e,t){this.targetId=e,this.F=t}}class qL{constructor(e,t,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zL{constructor(){this.B=0,this.L=YL(),this.U=Ht.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Oe(),t=Oe(),r=Oe();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:V()}}),new Dd(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=YL()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class fne{constructor(e){this.nt=e,this.st=new Map,this.it=Pr(),this.rt=KL(),this.ot=new Ze(ge)}ct(e){for(const t of e.M)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:V()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.F.count,i=this.wt(t);if(i){const s=i.target;if(sg(s))if(0===r){const o=new P(s.path);this.at(t,o,st.newNoDocument(o,W.min()))}else q(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&sg(a.target)){const u=new P(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.at(o,u,st.newNoDocument(u,e))}s.j&&(t.set(o,s.H()),s.J())}});let r=Oe();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.wt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new wd(e,t,this.ot,this.it,r);return this.it=Pr(),this.rt=KL(),this.ot=new Ze(ge),i}ut(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}at(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new zL,this.st.set(e,t)),t}Et(e){let t=this.rt.get(e);return t||(t=new Ze(ge),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||I("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}dt(e){this.st.set(e,new zL),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function KL(){return new wt(P.comparator)}function YL(){return new wt(P.comparator)}const pne={asc:"ASCENDING",desc:"DESCENDING"},gne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mne{constructor(e,t){this.databaseId=e,this.N=t}}function Ed(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JL(n,e){return n.N?e.toBase64():e.toUint8Array()}function _ne(n,e){return Ed(n,e.toTimestamp())}function Xt(n){return q(!!n),W.fromTimestamp(function(e){const t=Hs(e);return new pn(t.seconds,t.nanos)}(n))}function yE(n,e){return(t=n,new Se(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function QL(n){const e=Se.fromString(n);return q(oV(e)),e}function Td(n,e){return yE(n.databaseId,e.path)}function Mi(n,e){const t=QL(e);if(t.get(1)!==n.databaseId.projectId)throw new C(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new C(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new P(XL(t))}function vE(n,e){return yE(n.databaseId,e)}function Cd(n){return new Se(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function XL(n){return q(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function eV(n,e,t){return{name:Td(n,e),fields:t.value.mapValue.fields}}function nV(n,e){return{documents:[vE(n,e.path)]}}function rV(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vE(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vE(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(c=>function(d){if("=="===d.op){if(vL(d.value))return{unaryFilter:{field:Gu(d.field),op:"IS_NAN"}};if(yL(d.value))return{unaryFilter:{field:Gu(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(vL(d.value))return{unaryFilter:{field:Gu(d.field),op:"IS_NOT_NAN"}};if(yL(d.value))return{unaryFilter:{field:Gu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(d.field),op:Ene(d.op),value:d.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:Gu((c=l).field),direction:Dne(c.dir)};var c})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(l=e.limit,n.N||$o(l)?l:{value:l});var l,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function iV(n){let e=function ZL(n){const e=QL(n);return 4===e.length?Se.emptyPath():XL(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){q(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=sV(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(c=>{return new Vu(Wu((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,$o(d)?null:d}(t.limit));let u=null;var c;t.startAt&&(u=new Lu((c=t.startAt).values||[],!!c.before));let l=null;return t.endAt&&(l=function(c){return new Lu(c.values||[],!c.before)}(t.endAt)),function CL(n,e,t,r,i,s,o,a){return new ds(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function sV(n){return n?void 0!==n.unaryFilter?[Cne(n)]:void 0!==n.fieldFilter?[Tne(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>sV(e)).reduce((e,t)=>e.concat(t)):V():[]}function Dne(n){return pne[n]}function Ene(n){return gne[n]}function Gu(n){return{fieldPath:n.canonicalString()}}function Wu(n){return gn.fromServerFormat(n.fieldPath)}function Tne(n){return Yn.create(Wu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(n.fieldFilter.op),n.fieldFilter.value)}function Cne(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Wu(n.unaryFilter.field);return Yn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Wu(n.unaryFilter.field);return Yn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Wu(n.unaryFilter.field);return Yn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Wu(n.unaryFilter.field);return Yn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return V()}}function Ine(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function en(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aV(e)),e=Ane(n.get(t),e);return aV(e)}function Ane(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function aV(n){return n+"\x01\x01"}class vr{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}vr.store="owner",vr.key="owner";class $s{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}$s.store="mutationQueues",$s.keyPath="userId";class Ke{constructor(e,t,r,i,s){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}Ke.store="mutations",Ke.keyPath="batchId",Ke.userMutationsIndex="userMutationsIndex",Ke.userMutationsKeyPath=["userId","batchId"];class On{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,en(t)]}static key(e,t,r){return[e,en(t),r]}}On.store="documentMutations",On.PLACEHOLDER=new On;class mt{constructor(e,t,r,i,s,o){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}mt.store="remoteDocuments",mt.readTimeIndex="readTimeIndex",mt.readTimeIndexPath="readTime",mt.collectionReadTimeIndex="collectionReadTimeIndex",mt.collectionReadTimeIndexPath=["parentPath","readTime"];class Oi{constructor(e){this.byteSize=e}}Oi.store="remoteDocumentGlobal",Oi.key="remoteDocumentGlobalKey";class sr{constructor(e,t,r,i,s,o,a){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}sr.store="targets",sr.keyPath="targetId",sr.queryTargetsIndexName="queryTargetsIndex",sr.queryTargetsKeyPath=["canonicalId","targetId"];class _n{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}_n.store="targetDocuments",_n.keyPath=["targetId","path"],_n.documentTargetsIndex="documentTargetsIndex",_n.documentTargetsKeyPath=["path","targetId"];class br{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}br.key="targetGlobalKey",br.store="targetGlobal";class Ko{constructor(e,t){this.collectionId=e,this.parent=t}}Ko.store="collectionParents",Ko.keyPath=["collectionId","parent"];class hs{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}hs.store="clientMetadata",hs.keyPath="clientId";class qu{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}qu.store="bundles",qu.keyPath="bundleId";class zu{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}zu.store="namedQueries",zu.keyPath="name";class wr{constructor(e,t,r){this.indexId=e,this.collectionGroup=t,this.fields=r}}wr.store="indexConfiguration",wr.keyPath="indexId",wr.collectionGroupIndex="collectionGroupIndex",wr.collectionGroupIndexPath="collectionGroup";class Fr{constructor(e,t,r,i,s,o){this.indexId=e,this.uid=t,this.sequenceNumber=r,this.readTime=i,this.documentKey=s,this.largestBatchId=o}}Fr.store="indexState",Fr.keyPath=["indexId","uid"],Fr.sequenceNumberIndex="sequenceNumberIndex",Fr.sequenceNumberIndexPath=["uid","sequenceNumber"];class Lr{constructor(e,t,r,i,s){this.indexId=e,this.uid=t,this.arrayValue=r,this.directionalValue=i,this.documentKey=s}}Lr.store="indexEntries",Lr.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Lr.documentKeyIndex="documentKeyIndex",Lr.documentKeyIndexPath=["indexId","uid","documentKey"];class tn{constructor(e,t,r,i,s,o){this.userId=e,this.collectionPath=t,this.documentId=r,this.collectionGroup=i,this.largestBatchId=s,this.overlayMutation=o}}tn.store="documentOverlays",tn.keyPath=["userId","collectionPath","documentId"],tn.collectionPathOverlayIndex="collectionPathOverlayIndex",tn.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],tn.collectionGroupOverlayIndex="collectionGroupOverlayIndex",tn.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const cV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new D((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof D?t:D.resolve(t)}catch(t){return D.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):D.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):D.reject(t)}static resolve(e){return new D((t,r)=>{t(e)})}static reject(e){return new D((t,r)=>{r(e)})}static waitFor(e){return new D((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=D.resolve(!1);for(const r of e)t=t.next(i=>i?D.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}}function Yo(n){return"IndexedDbTransactionError"===n.name}class DE{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sne(s,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&gE(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&gE(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(W.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Ou(this.mutations,e.mutations,(t,r)=>LL(t,r))&&Ou(this.baseMutations,e.baseMutations,(t,r)=>LL(t,r))}}class EE{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){q(e.mutations.length===r.length);let i=cne;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new EE(e,t,r,i)}}class TE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gs{constructor(e,t,r,i,s=W.min(),o=W.min(),a=Ht.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class fV{constructor(e){this.Ht=e}}function AE(n){const e=iV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function IL(n,e,t){return new ds(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class gg{constructor(){}Xt(e,t){this.Zt(e,t),t.te()}Zt(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(gt(e.integerValue));else if("doubleValue"in e){const r=gt(e.doubleValue);isNaN(r)?this.ee(t,13):(this.ee(t,15),hd(r)?t.ne(0):t.ne(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se(`${r.seconds||""}`),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Ho(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ee(t,45),t.ne(r.latitude||0),t.ne(r.longitude||0)}else"mapValue"in e?si(e,$te)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):V()}ie(e,t){this.ee(t,25),this.he(e,t)}he(e,t){t.se(e)}ue(e,t){const r=e.fields||{};this.ee(t,55);for(const i of Object.keys(r))this.ie(i,t),this.Zt(r[i],t)}ae(e,t){const r=e.values||[];this.ee(t,50);for(const i of r)this.Zt(i,t)}ce(e,t){this.ee(t,37),P.fromName(e).path.forEach(r=>{this.ee(t,60),this.he(r,t)})}ee(e,t){e.ne(t)}re(e){e.ne(2)}}gg.le=new gg;class Une{constructor(){this.xe=new OE}addToCollectionParentIndex(e,t){return this.xe.add(t),D.resolve()}getCollectionParents(e,t){return D.resolve(this.xe.getEntries(t))}addFieldIndex(e,t){return D.resolve()}deleteFieldIndex(e,t){return D.resolve()}getDocumentsMatchingTarget(e,t,r){return D.resolve(Oe())}getFieldIndex(e,t){return D.resolve(null)}getFieldIndexes(e,t){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}updateCollectionGroup(e,t,r){return D.resolve()}updateIndexEntries(e,t){return D.resolve()}}class OE{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ze(Se.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Se.comparator)).toArray()}}class or{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new or(e,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(41943040,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);class Xo{constructor(e){this.ze=e}next(){return this.ze+=2,this.ze}static He(){return new Xo(0)}static Je(){return new Xo(-1)}}function ea(n){return kE.apply(this,arguments)}function kE(){return kE=g(function*(n){if(n.code!==w.FAILED_PRECONDITION||n.message!==cV)throw n;I("LocalStore","Unexpectedly lost primary lease")}),kE.apply(this,arguments)}class Qu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){jo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pL(this.inner)}}class Zne{constructor(e,t,r){this.qn=e,this.gs=t,this.indexManager=r}ys(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.ps(e,t,r))}ps(e,t,r){return this.qn.getEntry(e,t).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}Is(e,t){e.forEach((r,i)=>{for(const s of t)s.applyToLocalView(i)})}Es(e,t){return this.qn.getEntries(e,t).next(r=>this.Ts(e,r).next(()=>r))}Ts(e,t){return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Is(t,r))}As(e,t,r){return P.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Rs(e,t.path):hE(t)?this.Ps(e,t,r):this.bs(e,t,r);var i}Rs(e,t){return this.ys(e,new P(t)).next(r=>{let i=_E();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ps(e,t,r){const i=t.collectionGroup;let s=_E();return this.indexManager.getCollectionParents(e,i).next(o=>D.forEach(o,a=>{const u=(l=t,c=a.child(i),new ds(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.bs(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}bs(e,t,r){let i;return this.qn.getAll(e,t.path,r).next(s=>(i=s,this.gs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let l=i.get(u);null==l&&(l=st.newInvalidDocument(u),i=i.insert(u,l)),gE(a,l,o.localWriteTime),l.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{pE(t,o)||(i=i.remove(s))}),i))}}class VE{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.vs=r,this.Vs=i}static Ss(e,t){let r=Oe(),i=Oe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new VE(e,t.fromCache,r,i)}}class OV{Ds(e){this.Cs=e}As(e,t,r,i){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(W.min())?this.Ns(e,t):this.Cs.Es(e,i).next(s=>{const o=this.xs(t,s);return(og(t)||ag(t))&&this.ks(t.limitType,o,i,r)?this.Ns(e,t):(iE()<=we.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fE(t)),this.Cs.As(e,t,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}xs(e,t){let r=new Ze(SL(e));return t.forEach((i,s)=>{pE(e,s)&&(r=r.add(s))}),r}ks(e,t,r,i){if(r.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ns(e,t){return iE()<=we.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",fE(t)),this.Cs.As(e,t,W.min())}}class Xne{constructor(e,t,r,i){this.persistence=e,this.Os=t,this.O=i,this.Ms=new wt(ge),this.$s=new Qu(s=>md(s),ig),this.Fs=W.min(),this.Bs=e.getRemoteDocumentCache(),this.Un=e.getTargetCache(),this.Kn=e.getBundleCache(),this.Ls(r)}Ls(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new Zne(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function kV(n,e){return BE.apply(this,arguments)}function BE(){return BE=g(function*(n,e){const t=N(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.gs.getAllMutationBatches(r).next(s=>(i=s,t.Ls(e),t.gs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Oe();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return t.Us.Es(r,u).next(l=>({qs:l,removedBatchIds:o,addedBatchIds:a}))})})}),BE.apply(this,arguments)}function ere(n,e){const t=N(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Bs.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=D.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);q(null!==m),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.gs.removeMutationBatch(a,c))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.gs.performConsistencyCheck(r)).next(()=>t.Us.Es(r,i))})}function PV(n){const e=N(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Un.getLastRemoteSnapshotVersion(t))}function tre(n,e){const t=N(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.Ms;const a=[];e.targetChanges.forEach((l,c)=>{const d=i.get(c);if(!d)return;a.push(t.Un.removeMatchingKeys(s,l.removedDocuments,c).next(()=>t.Un.addMatchingKeys(s,l.addedDocuments,c)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,m;e.targetMismatches.has(c)?h=h.withResumeToken(Ht.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(c,h),p=h,m=l,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(t.Un.updateTargetData(s,h))});let u=Pr();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function FV(n,e,t){let r=Oe();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let s=Pr();return t.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(W.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):I("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(l=>{u=l})),!r.isEqual(W.min())){const l=t.Un.getLastRemoteSnapshotVersion(s).next(c=>t.Un.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return D.waitFor(a).next(()=>o.apply(s)).next(()=>t.Us.Ts(s,u)).next(()=>u)}).then(s=>(t.Ms=i,s))}function nre(n,e){const t=N(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.gs.getNextMutationBatchAfterBatchId(r,e)))}function Zu(n,e){const t=N(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Un.getTargetData(r,e).next(s=>s?(i=s,D.resolve(i)):t.Un.allocateTargetId(r).next(o=>(i=new Gs(e,o,0,r.currentSequenceNumber),t.Un.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.$s.set(e,r.targetId)),r})}function Xu(n,e,t){return UE.apply(this,arguments)}function UE(){return UE=g(function*(n,e,t){const r=N(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Yo(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.$s.delete(i.target)}),UE.apply(this,arguments)}function Eg(n,e,t){const r=N(n);let i=W.min(),s=Oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=N(a),d=c.$s.get(l);return void 0!==d?D.resolve(c.Ms.get(d)):c.Un.getTargetData(u,l)}(r,o,kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Os.As(o,e,t?i:W.min(),t?s:Oe())).next(a=>({documents:a,Ks:s})))}class ore{constructor(e){this.O=e,this.Ws=new Map,this.zs=new Map}getBundleMetadata(e,t){return D.resolve(this.Ws.get(t))}saveBundleMetadata(e,t){var r;return this.Ws.set(t.id,{id:(r=t).id,version:r.version,createTime:Xt(r.createTime)}),D.resolve()}getNamedQuery(e,t){return D.resolve(this.zs.get(t))}saveNamedQuery(e,t){return this.zs.set(t.name,{name:(r=t).name,query:AE(r.bundledQuery),readTime:Xt(r.readTime)}),D.resolve();var r}}class are{constructor(){this.overlays=new wt(P.comparator),this.Hs=new Map}getOverlay(e,t){return D.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach(i=>{this.Yt(e,t,i)}),D.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Hs.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Hs.delete(r)),D.resolve()}getOverlaysForCollection(e,t,r){const i=new Map,s=t.length+1,o=new P(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return D.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new wt((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=new Map,s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=new Map,u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(c,l)),!(a.size>=i)););return D.resolve(a)}Yt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);null!==i&&this.Hs.get(i.largestBatchId).delete(r.key),this.overlays=this.overlays.insert(r.key,new TE(t,r));let s=this.Hs.get(t);void 0===s&&(s=new Set,this.Hs.set(t,s)),s.add(r.key)}}class GE{constructor(){this.Js=new Ze(rn.Ys),this.Xs=new Ze(rn.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(e,t){const r=new rn(e,t);this.Js=this.Js.add(r),this.Xs=this.Xs.add(r)}ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ei(new rn(e,t))}ni(e,t){e.forEach(r=>this.removeReference(r,t))}si(e){const t=new P(new Se([])),r=new rn(t,e),i=new rn(t,e+1),s=[];return this.Xs.forEachInRange([r,i],o=>{this.ei(o),s.push(o.key)}),s}ii(){this.Js.forEach(e=>this.ei(e))}ei(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}ri(e){const t=new P(new Se([])),r=new rn(t,e),i=new rn(t,e+1);let s=Oe();return this.Xs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new rn(e,0),r=this.Js.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class rn{constructor(e,t){this.key=e,this.oi=t}static Ys(e,t){return P.comparator(e.key,t.key)||ge(e.oi,t.oi)}static Zs(e,t){return ge(e.oi,t.oi)||P.comparator(e.key,t.key)}}class ure{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.gs=[],this.ci=1,this.ui=new Ze(rn.Ys)}checkEmpty(e){return D.resolve(0===this.gs.length)}addMutationBatch(e,t,r,i){const s=this.ci;this.ci++;const o=new DE(s,t,r,i);this.gs.push(o);for(const a of i)this.ui=this.ui.add(new rn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(e,t){return D.resolve(this.ai(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.hi(t+1),s=i<0?0:i;return D.resolve(this.gs.length>s?this.gs[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(e){return D.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new rn(t,0),i=new rn(t,Number.POSITIVE_INFINITY),s=[];return this.ui.forEachInRange([r,i],o=>{const a=this.ai(o.oi);s.push(a)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ze(ge);return t.forEach(i=>{const s=new rn(i,0),o=new rn(i,Number.POSITIVE_INFINITY);this.ui.forEachInRange([s,o],a=>{r=r.add(a.oi)})}),D.resolve(this.li(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;P.isDocumentKey(s)||(s=s.child(""));const o=new rn(new P(s),0);let a=new Ze(ge);return this.ui.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.oi)),!0)},o),D.resolve(this.li(a))}li(e){const t=[];return e.forEach(r=>{const i=this.ai(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){q(0===this.fi(t.batchId,"removed")),this.gs.shift();let r=this.ui;return D.forEach(t.mutations,i=>{const s=new rn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ui=r})}Qe(e){}containsKey(e,t){const r=new rn(t,0),i=this.ui.firstAfterOrEqual(r);return D.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return D.resolve()}fi(e,t){return this.hi(e)}hi(e){return 0===this.gs.length?0:e-this.gs[0].batchId}ai(e){const t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}class lre{constructor(e){this.di=e,this.docs=new wt(P.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.di(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return D.resolve(r?r.document.mutableCopy():st.newInvalidDocument(t))}getEntries(e,t){let r=Pr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():st.newInvalidDocument(i))}),D.resolve(r)}getAll(e,t,r){let i=Pr();const s=new P(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||u.readTime.compareTo(r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return D.resolve(i)}_i(e,t){return D.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cre(this)}getSize(e){return D.resolve(this.size)}}class cre extends class zne{constructor(){this.changes=new Qu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,st.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?D.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Tn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Tn.addEntry(e,i)):this.Tn.removeEntry(r)}),D.waitFor(t)}getFromCache(e,t){return this.Tn.getEntry(e,t)}getAllFromCache(e,t){return this.Tn.getEntries(e,t)}}class dre{constructor(e){this.persistence=e,this.wi=new Qu(t=>md(t),ig),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.mi=0,this.gi=new GE,this.targetCount=0,this.yi=Xo.He()}forEachTarget(e,t){return this.wi.forEach((r,i)=>t(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.mi)}allocateTargetId(e){return this.highestTargetId=this.yi.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.mi&&(this.mi=t),D.resolve()}Ze(e){this.wi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.yi=new Xo(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}addTargetData(e,t){return this.Ze(t),this.targetCount+=1,D.resolve()}updateTargetData(e,t){return this.Ze(t),D.resolve()}removeTargetData(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.wi.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.wi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),D.waitFor(s).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,t){const r=this.wi.get(t)||null;return D.resolve(r)}addMatchingKeys(e,t,r){return this.gi.ti(t,r),D.resolve()}removeMatchingKeys(e,t,r){this.gi.ni(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),D.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.gi.si(t),D.resolve()}getMatchingKeysForTargetId(e,t){const r=this.gi.ri(t);return D.resolve(r)}containsKey(e,t){return D.resolve(this.gi.containsKey(t))}}class hre{constructor(e,t){this.pi={},this.overlays={},this.Nn=new yr(0),this.xn=!1,this.xn=!0,this.referenceDelegate=e(this),this.Un=new dre(this),this.indexManager=new Une,this.qn=new lre(r=>this.referenceDelegate.Ii(r)),this.O=new fV(t),this.Kn=new ore(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new are,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.pi[e.toKey()];return r||(r=new ure(t,this.referenceDelegate),this.pi[e.toKey()]=r),r}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(e,t,r){I("MemoryPersistence","Starting transaction:",e);const i=new fre(this.Nn.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.Ti(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,t){return D.or(Object.values(this.pi).map(r=>()=>r.containsKey(e,t)))}}class fre extends class One{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class WE{constructor(e){this.persistence=e,this.Ri=new GE,this.Pi=null}static bi(e){return new WE(e)}get vi(){if(this.Pi)return this.Pi;throw V()}addReference(e,t,r){return this.Ri.addReference(r,t),this.vi.delete(r.toString()),D.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.vi.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,t){return this.vi.add(t.toString()),D.resolve()}removeTarget(e,t){this.Ri.si(t.targetId).forEach(i=>this.vi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.vi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Pi=new Set}Ti(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.vi,r=>{const i=P.fromPath(r);return this.Vi(e,i).next(s=>{s||t.removeEntry(i,W.min())})}).next(()=>(this.Pi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Vi(e,t).next(r=>{r?this.vi.delete(t.toString()):this.vi.add(t.toString())})}Ii(e){return 0}Vi(e,t){return D.or([()=>D.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class KE{constructor(){this.activeTargetIds=hg()}Ci(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ni(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Di(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jV{constructor(){this._r=new KE,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this._r.Ci(e),this.wr[e]||"not-current"}updateQueryState(e,t,r){this.wr[e]=t}removeLocalQueryTarget(e){this._r.Ni(e)}isLocalQueryTarget(e){return this._r.activeTargetIds.has(e)}clearQueryState(e){delete this.wr[e]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(e){return this._r.activeTargetIds.has(e)}start(){return this._r=new KE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class pre{mr(e){}shutdown(){}}class HV{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(e){this.Er.push(e)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Er)e(0)}Ir(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Er)e(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class mre{constructor(e){this.Ar=e.Ar,this.Rr=e.Rr}Pr(e){this.br=e}vr(e){this.Vr=e}onMessage(e){this.Sr=e}close(){this.Rr()}send(e){this.Ar(e)}Dr(){this.br()}Cr(e){this.Vr(e)}Nr(e){this.Sr(e)}}class _re extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.kr=(e.ssl?"https":"http")+"://"+e.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(e,t,r,i,s){const o=this.$r(e,t);I("RestConnection","Sending: ",o,r);const a={};return this.Fr(a,i,s),this.Br(e,o,a,r).then(u=>(I("RestConnection","Received: ",u),u),u=>{throw Zp("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}Lr(e,t,r,i,s){return this.Mr(e,t,r,i,s)}Fr(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$r(e,t){return`${this.kr}/v1/${t}:${gre[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Br(e,t,r,i){return new Promise((s,o)=>{const a=new Ote;a.listenOnce(Nte.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case rE.NO_ERROR:const l=a.getResponseJson();I("Connection","XHR received:",JSON.stringify(l)),s(l);break;case rE.TIMEOUT:I("Connection",'RPC "'+e+'" timed out'),o(new C(w.DEADLINE_EXCEEDED,"Request time out"));break;case rE.HTTP_ERROR:const c=a.getStatus();if(I("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(p)>=0?p:w.UNKNOWN}(d.status);o(new C(h,d.message))}else o(new C(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new C(w.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{I("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}Ur(e,t,r){const i=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ate(),o=Ste(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new xte({})),this.Fr(a.initMessageHeaders,t,r),_R()||yR()||function H7(){return Kt().indexOf("Electron/")>=0}()||vR()||function $7(){return Kt().indexOf("MSAppHost/")>=0}()||Gf()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");I("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new mre({Ar:p=>{d?I("Connection","Not sending because WebChannel is closed:",p):(c||(I("Connection","Opening WebChannel transport."),l.open(),c=!0),I("Connection","WebChannel sending:",p),l.send(p))},Rr:()=>l.close()}),f=(p,m,y)=>{p.listen(m,b=>{try{y(b)}catch(_){setTimeout(()=>{throw _},0)}})};return f(l,Qp.EventType.OPEN,()=>{d||I("Connection","WebChannel transport opened.")}),f(l,Qp.EventType.CLOSE,()=>{d||(d=!0,I("Connection","WebChannel transport closed"),h.Cr())}),f(l,Qp.EventType.ERROR,p=>{d||(d=!0,Zp("Connection","WebChannel transport errored:",p),h.Cr(new C(w.UNAVAILABLE,"The operation could not be completed")))}),f(l,Qp.EventType.MESSAGE,p=>{var m;if(!d){const y=p.data[0];q(!!y);const b=y,_=b.error||(null===(m=b[0])||void 0===m?void 0:m.error);if(_){I("Connection","WebChannel received error:",_);const T=_.status;let A=function(B){const te=Ot[B];if(void 0!==te)return $L(te)}(T),x=_.message;void 0===A&&(A=w.INTERNAL,x="Unknown error status: "+T+" with message "+_.message),d=!0,h.Cr(new C(A,x)),l.close()}else I("Connection","WebChannel received:",y),h.Nr(y)}}),f(o,Mte.STAT_EVENT,p=>{p.stat===aL.PROXY?I("Connection","Detected buffering proxy"):p.stat===aL.NOPROXY&&I("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Dr()},0),h}}function Ig(){return"undefined"!=typeof document?document:null}function Od(n){return new mne(n,!0)}class JE{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Sn=e,this.timerId=t,this.qr=r,this.Kr=i,this.Gr=s,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(e){this.cancel();const t=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,t-r);i>0&&I("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.jr} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,()=>(this.Wr=Date.now(),e())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class GV{constructor(e,t,r,i,s,o,a,u){this.Sn=e,this.Xr=r,this.Zr=i,this.eo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new JE(e,t)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var e=this;return g(function*(){e.oo()&&(yield e.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(e){this._o(),this.stream.send(e)}lo(){var e=this;return g(function*(){if(e.co())return e.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(e,t){var r=this;return g(function*(){r._o(),r.wo(),r.ro.cancel(),r.no++,4!==e?r.ro.reset():t&&t.code===w.RESOURCE_EXHAUSTED?(Mt(t.toString()),Mt("Using maximum backoff delay to prevent overloading the backend."),r.ro.zr()):t&&t.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.mo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.vr(t)})()}mo(){}auth(){this.state=1;const e=this.yo(this.no),t=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.no===t&&this.po(r,i)},r=>{e(()=>{const i=new C(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Io(i)})})}po(e,t){const r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr(()=>{r(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(i=>{r(()=>this.Io(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}uo(){var e=this;this.state=5,this.ro.Hr(g(function*(){e.state=0,e.start()}))}Io(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}yo(e){return t=>{this.Sn.enqueueAndForget(()=>this.no===e?t():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yre extends GV{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.O=s}Eo(e,t){return this.eo.Ur("Listen",e,t)}onMessage(e){this.ro.reset();const t=function vne(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:V(),i=e.targetChange.targetIds||[],s=function(u,l){return u.N?(q(void 0===l||"string"==typeof l),Ht.fromBase64String(l||"")):(q(void 0===l||l instanceof Uint8Array),Ht.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?w.UNKNOWN:$L(u.code);return new C(l,u.message||"")}(o);t=new qL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Mi(n,r.document.name),s=Xt(r.document.updateTime),o=new xn({mapValue:{fields:r.document.fields}}),a=st.newFoundDocument(i,s,o);t=new fg(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Mi(n,r.document),s=r.readTime?Xt(r.readTime):W.min(),o=st.newNoDocument(i,s);t=new fg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Mi(n,r.document);t=new fg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return V();{const r=e.filter,s=new ane(r.count||0);t=new WL(r.targetId,s)}}var u;return t}(this.O,e),r=function(i){if(!("targetChange"in i))return W.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?Xt(s.readTime):W.min()}(e);return this.listener.To(t,r)}Ao(e){const t={};t.database=Cd(this.O),t.addTarget=function(i,s){let o;const a=s.target;return o=sg(a)?{documents:nV(i,a)}:{query:rV(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=JL(i,s.resumeToken):s.snapshotVersion.compareTo(W.min())>0&&(o.readTime=Ed(i,s.snapshotVersion.toTimestamp())),o}(this.O,e);const r=function wne(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return V()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.fo(t)}Ro(e){const t={};t.database=Cd(this.O),t.removeTarget=e,this.fo(t)}}class vre extends GV{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.O=s,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(e,t){return this.eo.Ur("Write",e,t)}onMessage(e){if(q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();const t=function bne(n,e){return n&&n.length>0?(q(void 0!==e),n.map(t=>function(r,i){let s=Xt(r.updateTime?r.updateTime:i);return s.isEqual(W.min())&&(s=Xt(i)),new ine(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.Vo(r,t)}return q(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}Do(){const e={};e.database=Cd(this.O),this.fo(e)}vo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Id(n,e){let t;if(e instanceof vd)t={update:eV(n,e.key,e.value)};else if(e instanceof bd)t={delete:Td(n,e.key)};else if(e instanceof zo)t={update:eV(n,e.key,e.data),updateMask:Ine(e.fieldMask)};else{if(!(e instanceof mE))return V();t={verify:Td(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ju)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Wo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof qo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Hu)return{fieldPath:s.field.canonicalString(),increment:o.k};throw V()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:_ne(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:V()),t;var i}(this.O,r))};this.fo(t)}}class bre extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.eo=r,this.O=i,this.Co=!1}No(){if(this.Co)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.eo.Mr(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(w.UNKNOWN,i.toString())})}Lr(e,t,r){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.eo.Lr(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new C(w.UNKNOWN,i.toString())})}terminate(){this.Co=!0}}class wre{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.$o("Offline")))}set(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}$o(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Fo(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(Mt(t),this.Oo=!1):I("OnlineStateTracker",t)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class Dre{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=s,this.jo.mr(a=>{r.enqueueAndForget(g(function*(){var u;Ks(o)&&(I("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(l){const c=N(l);c.Ko.add(4),yield el(c),c.Qo.set("Unknown"),c.Ko.delete(4),yield Rd(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.Qo=new wre(r,i)}}function Rd(n){return QE.apply(this,arguments)}function QE(){return QE=g(function*(n){if(Ks(n))for(const e of n.Go)yield e(!0)}),QE.apply(this,arguments)}function el(n){return ZE.apply(this,arguments)}function ZE(){return ZE=g(function*(n){for(const e of n.Go)yield e(!1)}),ZE.apply(this,arguments)}function Ag(n,e){const t=N(n);t.qo.has(e.targetId)||(t.qo.set(e.targetId,e),tT(t)?eT(t):nl(t).co()&&XE(t,e))}function kd(n,e){const t=N(n),r=nl(t);t.qo.delete(e),r.co()&&WV(t,e),0===t.qo.size&&(r.co()?r.ho():Ks(t)&&t.Qo.set("Unknown"))}function XE(n,e){n.Wo.Z(e.targetId),nl(n).Ao(e)}function WV(n,e){n.Wo.Z(e),nl(n).Ro(e)}function eT(n){n.Wo=new fne({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.qo.get(e)||null}),nl(n).start(),n.Qo.Mo()}function tT(n){return Ks(n)&&!nl(n).oo()&&n.qo.size>0}function Ks(n){return 0===N(n).Ko.size}function qV(n){n.Wo=void 0}function Ere(n){return nT.apply(this,arguments)}function nT(){return nT=g(function*(n){n.qo.forEach((e,t)=>{XE(n,e)})}),nT.apply(this,arguments)}function Tre(n,e){return rT.apply(this,arguments)}function rT(){return rT=g(function*(n,e){qV(n),tT(n)?(n.Qo.Bo(e),eT(n)):n.Qo.set("Unknown")}),rT.apply(this,arguments)}function Cre(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=g(function*(n,e,t){if(n.Qo.set("Online"),e instanceof qL&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.qo.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.qo.delete(a),i.Wo.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sg(n,r)}else if(e instanceof fg?n.Wo.ct(e):e instanceof WL?n.Wo._t(e):n.Wo.ht(e),!t.isEqual(W.min()))try{const r=yield PV(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Wo.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.qo.get(u);l&&i.qo.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.qo.get(a);if(!u)return;i.qo.set(a,u.withResumeToken(Ht.EMPTY_BYTE_STRING,u.snapshotVersion)),WV(i,a);const l=new Gs(u.target,a,1,u.sequenceNumber);XE(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){I("RemoteStore","Failed to raise snapshot:",r),yield Sg(n,r)}var r}),iT.apply(this,arguments)}function Sg(n,e,t){return sT.apply(this,arguments)}function sT(){return sT=g(function*(n,e,t){if(!Yo(e))throw e;n.Ko.add(1),yield el(n),n.Qo.set("Offline"),t||(t=()=>PV(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){I("RemoteStore","Retrying IndexedDB access"),yield t(),n.Ko.delete(1),yield Rd(n)}))}),sT.apply(this,arguments)}function zV(n,e){return e().catch(t=>Sg(n,t,e))}function tl(n){return oT.apply(this,arguments)}function oT(){return oT=g(function*(n){const e=N(n),t=Ys(e);let r=e.Uo.length>0?e.Uo[e.Uo.length-1].batchId:-1;for(;Ire(e);)try{const i=yield nre(e.localStore,r);if(null===i){0===e.Uo.length&&t.ho();break}r=i.batchId,Are(e,i)}catch(i){yield Sg(e,i)}KV(e)&&YV(e)}),oT.apply(this,arguments)}function Ire(n){return Ks(n)&&n.Uo.length<10}function Are(n,e){n.Uo.push(e);const t=Ys(n);t.co()&&t.bo&&t.vo(e.mutations)}function KV(n){return Ks(n)&&!Ys(n).oo()&&n.Uo.length>0}function YV(n){Ys(n).start()}function Sre(n){return aT.apply(this,arguments)}function aT(){return aT=g(function*(n){Ys(n).Do()}),aT.apply(this,arguments)}function Nre(n){return uT.apply(this,arguments)}function uT(){return uT=g(function*(n){const e=Ys(n);for(const t of n.Uo)e.vo(t.mutations)}),uT.apply(this,arguments)}function Mre(n,e,t){return lT.apply(this,arguments)}function lT(){return lT=g(function*(n,e,t){const r=n.Uo.shift(),i=EE.from(r,e,t);yield zV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield tl(n)}),lT.apply(this,arguments)}function xre(n,e){return cT.apply(this,arguments)}function cT(){return cT=g(function*(n,e){var t;e&&Ys(n).bo&&(yield(t=g(function*(r,i){if(HL(s=i.code)&&s!==w.ABORTED){const o=r.Uo.shift();Ys(r).ao(),yield zV(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield tl(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),KV(n)&&YV(n)}),cT.apply(this,arguments)}function JV(n,e){return dT.apply(this,arguments)}function dT(){return dT=g(function*(n,e){const t=N(n);t.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");const r=Ks(t);t.Ko.add(3),yield el(t),r&&t.Qo.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ko.delete(3),yield Rd(t)}),dT.apply(this,arguments)}function fT(){return fT=g(function*(n,e){const t=N(n);e?(t.Ko.delete(2),yield Rd(t)):e||(t.Ko.add(2),yield el(t),t.Qo.set("Unknown"))}),fT.apply(this,arguments)}function nl(n){return n.zo||(n.zo=function(e,t,r){const i=N(e);return i.No(),new yre(t,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(n.datastore,n.asyncQueue,{Pr:Ere.bind(null,n),vr:Tre.bind(null,n),To:Cre.bind(null,n)}),n.Go.push(function(){var e=g(function*(t){t?(n.zo.ao(),tT(n)?eT(n):n.Qo.set("Unknown")):(yield n.zo.stop(),qV(n))});return function(t){return e.apply(this,arguments)}}())),n.zo}function Ys(n){return n.Ho||(n.Ho=function(e,t,r){const i=N(e);return i.No(),new vre(t,i.eo,i.authCredentials,i.appCheckCredentials,i.O,r)}(n.datastore,n.asyncQueue,{Pr:Sre.bind(null,n),vr:xre.bind(null,n),So:Nre.bind(null,n),Vo:Mre.bind(null,n)}),n.Go.push(function(){var e=g(function*(t){t?(n.Ho.ao(),yield tl(n)):(yield n.Ho.stop(),n.Uo.length>0&&(I("RemoteStore",`Stopping write stream with ${n.Uo.length} pending writes`),n.Uo=[]))});return function(t){return e.apply(this,arguments)}}())),n.Ho}class pT{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new pT(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rl(n,e){if(Mt("AsyncQueue",`${e}: ${n}`),Yo(n))return new C(w.UNAVAILABLE,`${e}: ${n}`);throw n}class il{constructor(e){this.comparator=e?(t,r)=>e(t,r)||P.comparator(t.key,r.key):(t,r)=>P.comparator(t.key,r.key),this.keyedMap=_E(),this.sortedSet=new wt(this.comparator)}static emptySet(e){return new il(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new il;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class QV{constructor(){this.Jo=new wt(P.comparator)}track(e){const t=e.doc.key,r=this.Jo.get(t);r?0!==e.type&&3===r.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==r.type?this.Jo=this.Jo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Jo=this.Jo.remove(t):1===e.type&&2===r.type?this.Jo=this.Jo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):V():this.Jo=this.Jo.insert(t,e)}Yo(){const e=[];return this.Jo.inorderTraversal((t,r)=>{e.push(r)}),e}}class sl{constructor(e,t,r,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new sl(e,t,il.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ore{constructor(){this.Xo=void 0,this.listeners=[]}}class Rre{constructor(){this.queries=new Qu(e=>AL(e),_d),this.onlineState="Unknown",this.Zo=new Set}}function mT(){return mT=g(function*(n,e){const t=N(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Ore),i)try{s.Xo=yield t.onListen(r)}catch(o){const a=rl(o,`Initialization of query '${fE(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.tc(t.onlineState),s.Xo&&e.ec(s.Xo)&&vT(t)}),mT.apply(this,arguments)}function yT(){return yT=g(function*(n,e){const t=N(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),yT.apply(this,arguments)}function kre(n,e){const t=N(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.ec(i)&&(r=!0);o.Xo=i}}r&&vT(t)}function Pre(n,e,t){const r=N(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function vT(n){n.Zo.forEach(e=>{e.next()})}class bT{constructor(e,t,r){this.query=e,this.nc=t,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}ec(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.sc?this.rc(e)&&(this.nc.next(e),t=!0):this.oc(e,this.onlineState)&&(this.cc(e),t=!0),this.ic=e,t}onError(e){this.nc.error(e)}tc(e){this.onlineState=e;let t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}oc(e,t){return!e.fromCache||!(this.options.uc&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}rc(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}class e2{constructor(e){this.key=e}}class t2{constructor(e){this.key=e}}class n2{constructor(e,t){this.query=e,this.dc=t,this._c=null,this.current=!1,this.wc=Oe(),this.mutatedKeys=Oe(),this.mc=SL(e),this.gc=new il(this.mc)}get yc(){return this.dc}Ic(e,t){const r=t?t.Ec:new QV,i=t?t.gc:this.gc;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=og(this.query)&&i.size===this.query.limit?i.last():null,l=ag(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=pE(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.Tc(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.mc(f,u)>0||l&&this.mc(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||l)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),og(this.query)||ag(this.query))for(;o.size>this.query.limit;){const c=og(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{gc:o,Ec:r,ks:a,mutatedKeys:s}}Tc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;const s=e.Ec.Yo();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return f(d)-f(h)}(l.type,c.type)||this.mc(l.doc,c.doc)),this.Ac(r);const o=t?this.Rc():[],a=0===this.wc.size&&this.current?1:0,u=a!==this._c;return this._c=a,0!==s.length||u?{snapshot:new sl(this.query,e.gc,i,s,e.mutatedKeys,0===a,u,!1),Pc:o}:{Pc:o}}tc(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new QV,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}Ac(e){e&&(e.addedDocuments.forEach(t=>this.dc=this.dc.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.dc=this.dc.delete(t)),this.current=e.current)}Rc(){if(!this.current)return[];const e=this.wc;this.wc=Oe(),this.gc.forEach(r=>{this.bc(r.key)&&(this.wc=this.wc.add(r.key))});const t=[];return e.forEach(r=>{this.wc.has(r)||t.push(new t2(r))}),this.wc.forEach(r=>{e.has(r)||t.push(new e2(r))}),t}vc(e){this.dc=e.Ks,this.wc=Oe();const t=this.Ic(e.documents);return this.applyChanges(t,!0)}Vc(){return sl.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class Vre{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Bre{constructor(e){this.key=e,this.Sc=!1}}class Ure{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new Qu(a=>AL(a),_d),this.Nc=new Map,this.xc=new Set,this.kc=new wt(P.comparator),this.Oc=new Map,this.Mc=new GE,this.$c={},this.Fc=new Map,this.Bc=Xo.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function jre(n,e){return wT.apply(this,arguments)}function wT(){return wT=g(function*(n,e){const t=GT(n);let r,i;const s=t.Cc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Vc();else{const o=yield Zu(t.localStore,kr(e));t.isPrimaryClient&&Ag(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield DT(t,e,r,"current"===a)}return i}),wT.apply(this,arguments)}function DT(n,e,t,r){return ET.apply(this,arguments)}function ET(){return ET=g(function*(n,e,t,r){n.Uc=(c,d,h)=>{return(f=g(function*(p,m,y,b){let _=m.view.Ic(y);_.ks&&(_=yield Eg(p.localStore,m.query,!1).then(({documents:x})=>m.view.Ic(x,_)));const T=b&&b.targetChanges.get(m.targetId),A=m.view.applyChanges(_,p.isPrimaryClient,T);return RT(p,m.targetId,A.Pc),A.snapshot}),function(p,m,y,b){return f.apply(this,arguments)})(n,c,d,h);var f};const i=yield Eg(n.localStore,e,!0),s=new n2(e,i.Ks),o=s.Ic(i.documents),a=Dd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),u=s.applyChanges(o,n.isPrimaryClient,a);RT(n,t,u.Pc);const l=new Vre(e,t,s);return n.Cc.set(e,l),n.Nc.has(t)?n.Nc.get(t).push(e):n.Nc.set(t,[e]),u.snapshot}),ET.apply(this,arguments)}function Hre(n,e){return TT.apply(this,arguments)}function TT(){return TT=g(function*(n,e){const t=N(n),r=t.Cc.get(e),i=t.Nc.get(r.targetId);if(i.length>1)return t.Nc.set(r.targetId,i.filter(s=>!_d(s,e))),void t.Cc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),kd(t.remoteStore,r.targetId),ol(t,r.targetId)}).catch(ea))):(ol(t,r.targetId),yield Xu(t.localStore,r.targetId,!0))}),TT.apply(this,arguments)}function CT(){return CT=g(function*(n,e,t){const r=WT(n);try{const i=yield function(s,o){const a=N(s),u=pn.now(),l=o.reduce((d,h)=>d.add(h.key),Oe());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Us.Es(d,l).next(h=>{c=h;const f=[];for(const p of o){const m=one(p,c.get(p.key));null!=m&&f.push(new zo(p.key,m,bL(m.value.mapValue),xt.exists(!0)))}return a.gs.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(c),{batchId:d.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.$c[s.currentUser.toKey()];u||(u=new wt(ge)),u=u.insert(o,a),s.$c[s.currentUser.toKey()]=u}(r,i.batchId,t),yield fs(r,i.changes),yield tl(r.remoteStore)}catch(i){const s=rl(i,"Failed to persist write");t.reject(s)}}),CT.apply(this,arguments)}function r2(n,e){return IT.apply(this,arguments)}function IT(){return IT=g(function*(n,e){const t=N(n);try{const r=yield tre(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Oc.get(s);o&&(q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Sc=!0:i.modifiedDocuments.size>0?q(o.Sc):i.removedDocuments.size>0&&(q(o.Sc),o.Sc=!1))}),yield fs(t,r,e)}catch(r){yield ea(r)}}),IT.apply(this,arguments)}function s2(n,e,t){const r=N(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Cc.forEach((s,o)=>{const a=o.view.tc(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=N(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.tc(o)&&(u=!0)}),u&&vT(a)}(r.eventManager,e),i.length&&r.Dc.To(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Gre(n,e,t){return AT.apply(this,arguments)}function AT(){return AT=g(function*(n,e,t){const r=N(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Oc.get(e),s=i&&i.key;if(s){let o=new wt(P.comparator);o=o.insert(s,st.newNoDocument(s,W.min()));const a=Oe().add(s),u=new wd(W.min(),new Map,new Ze(ge),o,a);yield r2(r,u),r.kc=r.kc.remove(s),r.Oc.delete(e),kT(r)}else yield Xu(r.localStore,e,!1).then(()=>ol(r,e,t)).catch(ea)}),AT.apply(this,arguments)}function Wre(n,e){return ST.apply(this,arguments)}function ST(){return ST=g(function*(n,e){const t=N(n),r=e.batch.batchId;try{const i=yield ere(t.localStore,e);OT(t,r,null),xT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield fs(t,i)}catch(i){yield ea(i)}}),ST.apply(this,arguments)}function qre(n,e,t){return NT.apply(this,arguments)}function NT(){return NT=g(function*(n,e,t){const r=N(n);try{const i=yield function(s,o){const a=N(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.gs.lookupMutationBatch(u,o).next(c=>(q(null!==c),l=c.keys(),a.gs.removeMutationBatch(u,c))).next(()=>a.gs.performConsistencyCheck(u)).next(()=>a.Us.Es(u,l))})}(r.localStore,e);OT(r,e,t),xT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield fs(r,i)}catch(i){yield ea(i)}}),NT.apply(this,arguments)}function xT(n,e){(n.Fc.get(e)||[]).forEach(t=>{t.resolve()}),n.Fc.delete(e)}function OT(n,e,t){const r=N(n);let i=r.$c[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.$c[r.currentUser.toKey()]=i}}function ol(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Nc.get(e))n.Cc.delete(r),t&&n.Dc.qc(r,t);n.Nc.delete(e),n.isPrimaryClient&&n.Mc.si(e).forEach(r=>{n.Mc.containsKey(r)||o2(n,r)})}function o2(n,e){n.xc.delete(e.path.canonicalString());const t=n.kc.get(e);null!==t&&(kd(n.remoteStore,t),n.kc=n.kc.remove(e),n.Oc.delete(t),kT(n))}function RT(n,e,t){for(const r of t)r instanceof e2?(n.Mc.addReference(r.key,e),Kre(n,r)):r instanceof t2?(I("SyncEngine","Document no longer in limbo: "+r.key),n.Mc.removeReference(r.key,e),n.Mc.containsKey(r.key)||o2(n,r.key)):V()}function Kre(n,e){const t=e.key,r=t.path.canonicalString();n.kc.get(t)||n.xc.has(r)||(I("SyncEngine","New document in limbo: "+t),n.xc.add(r),kT(n))}function kT(n){for(;n.xc.size>0&&n.kc.size<n.maxConcurrentLimboResolutions;){const e=n.xc.values().next().value;n.xc.delete(e);const t=new P(Se.fromString(e)),r=n.Bc.next();n.Oc.set(r,new Bre(t)),n.kc=n.kc.insert(t,r),Ag(n.remoteStore,new Gs(kr(Bu(t.path)),r,2,yr.A))}}function fs(n,e,t){return PT.apply(this,arguments)}function PT(){return PT=g(function*(n,e,t){const r=N(n),i=[],s=[],o=[];var a;r.Cc.isEmpty()||(r.Cc.forEach((a,u)=>{o.push(r.Uc(u,e,t).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=VE.Ss(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.Dc.To(i),yield(a=g(function*(u,l){const c=N(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>D.forEach(l,h=>D.forEach(h.vs,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>D.forEach(h.Vs,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Yo(d))throw d;I("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.Ms.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.Ms=c.Ms.insert(h,m)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),PT.apply(this,arguments)}function Yre(n,e){return FT.apply(this,arguments)}function FT(){return FT=g(function*(n,e){const t=N(n);if(!t.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());const r=yield kV(t.localStore,e);t.currentUser=e,(i=t).Fc.forEach(o=>{o.forEach(a=>{a.reject(new C(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Fc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fs(t,r.qs)}var i}),FT.apply(this,arguments)}function Jre(n,e){const t=N(n),r=t.Oc.get(e);if(r&&r.Sc)return Oe().add(r.key);{let i=Oe();const s=t.Nc.get(e);if(!s)return i;for(const o of s){const a=t.Cc.get(o);i=i.unionWith(a.view.yc)}return i}}function GT(n){const e=N(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=r2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gre.bind(null,e),e.Dc.To=kre.bind(null,e.eventManager),e.Dc.qc=Pre.bind(null,e.eventManager),e}function WT(n){const e=N(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qre.bind(null,e),e}class sie{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.O=Od(e.databaseInfo.databaseId),t.sharedClientState=t.Gc(e),t.persistence=t.jc(e),yield t.persistence.start(),t.gcScheduler=t.Qc(e),t.localStore=t.Wc(e)})()}Qc(e){return null}Wc(e){return function RV(n,e,t,r){return new Xne(n,e,t,r)}(this.persistence,new OV,e.initialUser,this.O)}jc(e){return new hre(WE.bi,this.O)}Gc(e){return new jV}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qT{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>s2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Yre.bind(null,r.syncEngine),yield function hT(n,e){return fT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Rre}createDatastore(e){const t=Od(e.databaseInfo.databaseId),r=new _re(e.databaseInfo);return new bre(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>s2(this.syncEngine,a,0),o=HV.Vt()?new HV:new pre,new Dre(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const c=new Ure(r,i,s,o,a,u);return l&&(c.Lc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=N(t);I("RemoteStore","RemoteStore shutting down."),r.Ko.add(5),yield el(r),r.jo.shutdown(),r.Qo.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Hc(this.observer.next,e)}error(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Jc(){this.muted=!0}Hc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class die{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=dL.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){I("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(I("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=rl(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function c2(n,e){return zT.apply(this,arguments)}function zT(){return zT=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield kV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),zT.apply(this,arguments)}function d2(n,e){return KT.apply(this,arguments)}function KT(){return KT=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield YT(n);I("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>JV(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>JV(e.remoteStore,s)),n.onlineComponents=e}),KT.apply(this,arguments)}function YT(n){return JT.apply(this,arguments)}function JT(){return JT=g(function*(n){return n.offlineComponents||(I("FirestoreClient","Using default OfflineComponentProvider"),yield c2(n,new sie)),n.offlineComponents}),JT.apply(this,arguments)}function Mg(n){return QT.apply(this,arguments)}function QT(){return QT=g(function*(n){return n.onlineComponents||(I("FirestoreClient","Using default OnlineComponentProvider"),yield d2(n,new qT)),n.onlineComponents}),QT.apply(this,arguments)}function al(n){return eC.apply(this,arguments)}function eC(){return eC=g(function*(n){const e=yield Mg(n),t=e.eventManager;return t.onListen=jre.bind(null,e.syncEngine),t.onUnlisten=Hre.bind(null,e.syncEngine),t}),eC.apply(this,arguments)}const m2=new Map;function tC(n,e,t){if(!t)throw new C(w.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _2(n){if(!P.isDocumentKey(n))throw new C(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function y2(n){if(P.isDocumentKey(n))throw new C(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":V()}function Ee(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new C(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xg(n);throw new C(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class b2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new C(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function bie(n,e,t,r){if(!0===e&&!0===r)throw new C(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pd{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b2({}),this._settingsFrozen=!1,e instanceof ku?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new C(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(i.options.projectId)}(e))}get app(){if(!this._app)throw new C(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Rte;switch(t.type){case"gapi":const r=t.client;return q(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Lte(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new C(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=m2.get(e);t&&(I("ComponentProvider","Removing Datastore"),m2.delete(e),t.terminate())}(this),Promise.resolve()}}class Dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}}class Rn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rn(this.firestore,e,this._query)}}class Ri extends Rn{constructor(e,t,r){super(e,t,Bu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new P(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function wie(n,e,...t){if(n=Bt(n),tC("collection","path",e),n instanceof Pd){const r=Se.fromString(e,...t);return y2(r),new Ri(n,null,r)}{if(!(n instanceof Dt||n instanceof Ri))throw new C(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Se.fromString(e,...t));return y2(r),new Ri(n.firestore,null,r)}}function w2(n,e,...t){if(n=Bt(n),1===arguments.length&&(e=dL.R()),tC("doc","path",e),n instanceof Pd){const r=Se.fromString(e,...t);return _2(r),new Dt(n,null,new P(r))}{if(!(n instanceof Dt||n instanceof Ri))throw new C(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Se.fromString(e,...t));return _2(r),new Dt(n.firestore,n instanceof Ri?n.converter:null,new P(r))}}class Eie{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new JE(this,"async_queue_retry"),this.yu=()=>{const t=Ig();t&&I("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ro.Yr()};const e=Ig();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.fu){this.fu=!0,this.mu=e||!1;const t=Ig();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}enqueue(e){if(this.pu(),this.fu)return new Promise(()=>{});const t=new Zt;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.lu.push(e),this.Eu()))}Eu(){var e=this;return g(function*(){if(0!==e.lu.length){try{yield e.lu[0](),e.lu.shift(),e.ro.reset()}catch(t){if(!Yo(t))throw t;I("AsyncQueue","Operation failed with retryable error: "+t)}e.lu.length>0&&e.ro.Hr(()=>e.Eu())}})()}Iu(e){const t=this.hu.then(()=>(this.wu=!0,e().catch(r=>{throw this._u=r,this.wu=!1,Mt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.wu=!1,r))));return this.hu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.gu.indexOf(e)>-1&&(t=0);const i=pT.createAndSchedule(this,e,t,r,s=>this.Tu(s));return this.du.push(i),i}pu(){this._u&&V()}verifyOperationInProgress(){}Au(){var e=this;return g(function*(){let t;do{t=e.hu,yield t}while(t!==e.hu)})()}Ru(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}Pu(e){return this.Au().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Au()})}bu(e){this.gu.push(e)}Tu(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function nC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Xe extends Pd{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Eie,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||D2(this),this._firestoreClient.terminate()}}function Cie(n=a0()){return _u(n,"firestore").getImmediate()}function $t(n){return n._firestoreClient||D2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function D2(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Hte(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new die(n._authCredentials,n._appCheckCredentials,n._queue,r)}class ul{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new C(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(Ht.fromBase64String(e))}catch(t){throw new C(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ta(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rC{constructor(e){this._methodName=e}}class iC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new C(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}const Iie=/^__.*__$/;class Aie{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new zo(e,this.data,this.fieldMask,t,this.fieldTransforms):new vd(e,this.data,t,this.fieldTransforms)}}class C2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function I2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class Og{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.O=r,this.ignoreUndefinedProperties=i,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(e){return new Og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Cu:!1});return i.Nu(e),i}xu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Cu:!1});return i.vu(),i}ku(e){return this.Su({path:void 0,Cu:!0})}Ou(e){return kg(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}Nu(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(I2(this.Vu)&&Iie.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}class Sie{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.O=r||Od(e)}Fu(e,t,r,i=!1){return new Og({Vu:e,methodName:t,$u:r,path:gn.emptyPath(),Cu:!1,Mu:i},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function ll(n){const e=n._freezeSettings(),t=Od(n._databaseId);return new Sie(n._databaseId,!!e.ignoreUndefinedProperties,t)}function sC(n,e,t,r,i,s={}){const o=n.Fu(s.merge||s.mergeFields?2:0,e,t,i);aC("Data must be an object, but it was:",o,r);const a=x2(r,o);let u,l;if(s.merge)u=new Ru(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=uC(e,d,t);if(!o.contains(h))throw new C(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);R2(c,h)||c.push(h)}u=new Ru(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new Aie(new xn(a),u,l)}class Fd extends rC{_toFieldTransform(e){if(2!==e.Vu)throw e.Ou(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function na(n,e){if(O2(n=Bt(n)))return aC("Unsupported field value:",e,n),x2(n,e);if(n instanceof rC)return function(t,r){if(!I2(r.Vu))throw r.Ou(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ou(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Cu&&4!==e.Vu)throw e.Ou("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=na(o,r.ku(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Bt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xL(r.O,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=pn.fromDate(t);return{timestampValue:Ed(r.O,i)}}if(t instanceof pn){const i=new pn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ed(r.O,i)}}if(t instanceof iC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ta)return{bytesValue:JL(r.O,t._byteString)};if(t instanceof Dt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.Ou(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yE(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ou(`Unsupported field value: ${xg(t)}`)}(n,e)}function x2(n,e){const t={};return pL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(n,(r,i)=>{const s=na(i,e.Du(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function O2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof pn||n instanceof iC||n instanceof ta||n instanceof Dt||n instanceof rC)}function aC(n,e,t){if(!O2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=xg(t);throw e.Ou("an object"===r?n+" a custom object":n+" "+r)}var r}function uC(n,e,t){if((e=Bt(e))instanceof ul)return e._internalPath;if("string"==typeof e)return Rg(n,e);throw kg("Field path arguments must be of type string or ",n,!1,void 0,t)}const Oie=new RegExp("[~\\*/\\[\\]]");function Rg(n,e,t){if(e.search(Oie)>=0)throw kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ul(...e.split("."))._internalPath}catch(r){throw kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new C(w.INVALID_ARGUMENT,a+n+u)}function R2(n,e){return n.some(t=>t.isEqual(e))}class lC{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Rie extends lC{data(){return super.data()}}function Pg(n,e){return"string"==typeof e?Rg(n,e):e instanceof ul?e._internalPath:e._delegate._internalPath}class ra{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends lC{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Pg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Fg extends cl{data(e={}){return super.data(e)}}class dl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ra(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Fg(this._firestore,this._userDataWriter,r.key,r,new ra(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new C(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Fg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ra(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Fg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ra(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:kie(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}function Fie(n,...e){for(const t of e)n=t._apply(n);return n}class Lie extends class Pie{}{constructor(e,t,r){super(),this.Uu=e,this.qu=t,this.Ku=r,this.type="where"}_apply(e){const t=ll(e.firestore),r=function(i,s,o,a,u,l,c){let d;if(u.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new C(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){U2(c,l);const f=[];for(const p of c)f.push(B2(a,i,p));d={arrayValue:{values:f}}}else d=B2(a,i,c)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||U2(c,l),d=function M2(n,e,t,r=!1){return na(t,n.Fu(r?4:3,e))}(o,"where",c,"in"===l||"not-in"===l);const h=Yn.create(u,l,d);return function(f,p){if(p.S()){const y=dE(f);if(null!==y&&!y.isEqual(p.field))throw new C(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${y.toString()}' and '${p.field.toString()}'`);const b=cE(f);null!==b&&function j2(n,e,t){if(!t.isEqual(e))throw new C(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,p.field,b)}const m=function(y,b){for(const _ of y.filters)if(b.indexOf(_.op)>=0)return _.op;return null}(f,function(y){switch(y){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(p.op));if(null!==m)throw new C(w.INVALID_ARGUMENT,m===p.op?`Invalid query. You cannot use more than one '${p.op.toString()}' filter.`:`Invalid query. You cannot use '${p.op.toString()}' filters with '${m.toString()}' filters.`)}(i,h),h}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Rn(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new ds(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Vie(n,e,t){const r=e,i=Pg("where",n);return new Lie(i,r,t)}function B2(n,e,t){if("string"==typeof(t=Bt(t))){if(""===t)throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hE(e)&&-1!==t.indexOf("/"))throw new C(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Se.fromString(t));if(!P.isDocumentKey(r))throw new C(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xp(n,new P(r))}if(t instanceof Dt)return Xp(n,t._key);throw new C(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xg(t)}.`)}function U2(n,e){if(!Array.isArray(n)||0===n.length)throw new C(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new C(w.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}class ia extends class Uie{convertValue(e,t="none"){switch(Go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw V()}}convertObject(e,t){const r={};return jo(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new iC(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gL(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){const t=Hs(e);return new pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Se.fromString(e);q(oV(r));const i=new ku(r.get(1),r.get(3)),s=new P(r.popFirst(5));return i.isEqual(t)||Mt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function Hie(n,e,t){n=Ee(n,Dt);const r=Ee(n.firestore,Xe),i=function cC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return Ld(r,[sC(ll(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,xt.none())])}function $ie(n,e,t,...r){n=Ee(n,Dt);const i=Ee(n.firestore,Xe),s=ll(i);let o;return o="string"==typeof(e=Bt(e))||e instanceof ul?function N2(n,e,t,r,i,s){const o=n.Fu(1,e,t),a=[uC(e,r,t)],u=[i];if(s.length%2!=0)throw new C(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(uC(e,s[h])),u.push(s[h+1]);const l=[],c=xn.empty();for(let h=a.length-1;h>=0;--h)if(!R2(l,a[h])){const f=a[h];let p=u[h];p=Bt(p);const m=o.xu(f);if(p instanceof Fd)l.push(f);else{const y=na(p,m);null!=y&&(l.push(f),c.set(f,y))}}const d=new Ru(l);return new C2(c,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function S2(n,e,t,r){const i=n.Fu(1,e,t);aC("Data must be an object, but it was:",i,r);const s=[],o=xn.empty();jo(r,(u,l)=>{const c=Rg(e,u,t);l=Bt(l);const d=i.xu(c);if(l instanceof Fd)s.push(c);else{const h=na(l,d);null!=h&&(s.push(c),o.set(c,h))}});const a=new Ru(s);return new C2(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Ld(i,[o.toMutation(n._key,xt.exists(!0))])}function Gie(n){return Ld(Ee(n.firestore,Xe),[new bd(n._key,xt.none())])}function Ld(n,e){return function(t,r){const i=new Zt;return t.asyncQueue.enqueueAndForget(g(function*(){return function $re(n,e,t){return CT.apply(this,arguments)}(yield function XT(n){return Mg(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}($t(n),e)}!function(n,e=!0){xu="9.6.8",Gn(new Sn("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new Xe(i,new Pte(t.getProvider("auth-internal")),new Vte(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),pt(uL,"3.4.5",n),pt(uL,"3.4.5","esm2017")}();var zie={includeMetadataChanges:!1};function hC(n,e){return void 0===e&&(e=zie),new Me(function(t){var r=function Wie(n,...e){var t,r,i;n=Bt(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||nC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(nC(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(n instanceof Dt)l=Ee(n.firestore,Xe),c=Bu(n._key.path),u={next:d=>{e[o]&&e[o](function dC(n,e,t){const r=t.docs.get(e._key),i=new ia(n);return new cl(n,i,e._key,r,new ra(t.hasPendingWrites,t.fromCache),e.converter)}(l,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Ee(n,Rn);l=Ee(d.firestore,Xe),c=d._query;const h=new ia(l);u={next:f=>{e[o]&&e[o](new dl(l,h,d,f))},error:e[o+1],complete:e[o+2]},function k2(n){if(ag(n)&&0===n.explicitOrderBy.length)throw new C(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new Ng(p),y=new bT(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function gT(n,e){return mT.apply(this,arguments)}(yield al(d),y)})),()=>{m.Jc(),d.asyncQueue.enqueueAndForget(g(function*(){return function _T(n,e){return yT.apply(this,arguments)}(yield al(d),y)}))}}($t(l),c,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Yie(n,e){return void 0===e&&(e={}),function Kie(n){return hC(n,{includeMetadataChanges:!0})}(n).pipe(Y(function(t){return $2(t,e)}))}function $2(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}function tse(n,e){return void 0===e&&(e={}),function ese(n){return hC(n,{includeMetadataChanges:!0}).pipe(Y(function(e){return e.docs}))}(n).pipe(Y(function(t){return t.map(function(r){return $2(r,e)})}))}class Vg{constructor(e){return e}}const z2="firestore",gC=new ee("angularfire2.firestore-instances");function ise(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Vg(r)}}const sse={provide:class nse{constructor(){return Jb(z2)}},deps:[[new Ft,gC]]},ose={provide:Vg,useFactory:function rse(n,e){const t=Yb(z2,n,e);return t&&new Vg(t)},deps:[[new Ft,gC],Eu]};let ase=(()=>{class n{constructor(){pt("angularfire",tp.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({providers:[ose,sse]}),n})();function use(n,...e){return{ngModule:ase,providers:[{provide:gC,useFactory:ise(n),multi:!0,deps:[ke,dt,Qb,Zb,[new Ft,qP],[new Ft,gw],...e]}]}}const K2=Nn(tse,!0),lse=Nn(Yie,!0),Y2=Nn(wie,!0),cse=Nn(Gie,!0),J2=Nn(w2,!0),dse=Nn(Cie,!0),hse=Nn(Fie,!0),fse=Nn(Hie,!0),pse=Nn($ie,!0),gse=Nn(Vie,!0);function Bg(n){return new Me(e=>{Dn(n()).subscribe(e)})}function Vd(n,e){const t=oe(n)?n:()=>n,r=i=>i.error(t());return new Me(e?i=>e.schedule(r,0,i):r)}const{isArray:mse}=Array;function mC(n){return Y(e=>function _se(n,e){return mse(e)?n(...e):n(e)}(n,e))}const yse=["addListener","removeListener"],vse=["addEventListener","removeEventListener"],bse=["on","off"];function yn(n,e,t,r){if(oe(t)&&(r=t,t=void 0),r)return yn(n,e,t).pipe(mC(r));const[i,s]=function Ese(n){return oe(n.addEventListener)&&oe(n.removeEventListener)}(n)?vse.map(o=>a=>n[o](e,a,t)):function wse(n){return oe(n.addListener)&&oe(n.removeListener)}(n)?yse.map(Q2(n,e)):function Dse(n){return oe(n.on)&&oe(n.off)}(n)?bse.map(Q2(n,e)):[];if(!i&&Lm(n))return Tt(o=>yn(o,e,t))(Dn(n));if(!i)throw new TypeError("Invalid event target");return new Me(o=>{const a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function Q2(n,e){return t=>r=>n[t](e,r)}function z(...n){return Rt(n,Ml(n))}function hl(...n){return function Tse(){return Nl(1)}()(Rt(n,Ml(n)))}const ps=new Me(Tr);function Gt(n,e){return at((t,r)=>{let i=0;t.subscribe(qe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Dr(n,e){return at((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(qe(r,u=>{null==i||i.unsubscribe();let l=0;const c=s++;Dn(n(u,c)).subscribe(i=qe(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Z2(){return at((n,e)=>{let t=null;n._refCount++;const r=qe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class X2 extends Me{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,UI(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Et;const t=this.getSubject();e.add(this.source.subscribe(qe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Et.EMPTY)}return e}refCount(){return Z2()(this)}}const Ise={connector:()=>new We};function eB(n,e=Ise){const{connector:t}=e;return at((r,i)=>{const s=t();Rt(n(function Cse(n){return new Me(e=>n.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}function tB(n,e){return e?t=>hl(e.pipe(ut(1),function Nse(){return at((n,e)=>{n.subscribe(qe(e,Tr))})}()),t.pipe(tB(n))):Tt((t,r)=>n(t,r).pipe(ut(1),function Mse(n){return Y(()=>n)}(t)))}function _C(n=0,e,t=kJ){let r=-1;return null!=e&&(eA(e)?t=e:r=e),new Me(i=>{let s=function xse(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function nB(n,e=jb){const t=_C(n,e);return tB(()=>t)}const Bd="Service workers are disabled or not supported by this browser";class Ug{constructor(e){if(this.serviceWorker=e,e){const r=yn(e,"controllerchange").pipe(Y(()=>e.controller)),s=hl(Bg(()=>z(e.controller)),r);this.worker=s.pipe(Gt(c=>!!c)),this.registration=this.worker.pipe(Dr(()=>e.getRegistration()));const l=yn(e,"message").pipe(Y(c=>c.data)).pipe(Gt(c=>c&&c.type)).pipe(function Sse(n){return n?e=>eB(n)(e):e=>function Ase(n,e){const t=oe(n)?n:()=>n;return oe(e)?eB(e,{connector:t}):r=>new X2(r,t)}(new We)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function Ose(n){return Bg(()=>Vd(new Error(n)))}(Bd)}postMessage(e,t){return this.worker.pipe(ut(1),ln(r=>{r.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Gt(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(ut(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Gt(t=>t.nonce===e),ut(1),Y(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Rse=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new We,!t.isEnabled)return this.messages=ps,this.notificationClicks=ps,void(this.subscription=ps);this.messages=this.sw.eventsOfType("PUSH").pipe(Y(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Y(i=>i.data)),this.pushManager=this.sw.registration.pipe(Y(i=>i.pushManager));const r=this.pushManager.pipe(Dr(i=>i.getSubscription()));this.subscription=Bm(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(Bd));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(Dr(o=>o.subscribe(r)),ut(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(ut(1),Dr(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Bd))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(k(Ug))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),kse=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=ps,this.available=ps,this.activated=ps,void(this.unrecoverable=ps);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(Gt(r=>"VERSION_READY"===r.type),Y(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Bd));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Bd));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(k(Ug))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();class yC{}const rB=new ee("NGSW_REGISTER_SCRIPT");function Pse(n,e,t,r){return()=>{if(!Bv(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)s=t.registrationStrategy();else{const[a,...u]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=z(null);break;case"registerWithDelay":s=iB(+u[0]||0);break;case"registerWhenStable":s=u[0]?Bm(sB(n),iB(+u[0])):sB(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(ke).runOutsideAngular(()=>s.pipe(ut(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function iB(n){return z(null).pipe(nB(n))}function sB(n){return n.get(yc).isStable.pipe(Gt(t=>t))}function Fse(n,e){return new Ug(Bv(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Lse=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:rB,useValue:t},{provide:yC,useValue:r},{provide:Ug,useFactory:Fse,deps:[yC,Rs]},{provide:If,useFactory:Pse,deps:[dt,rB,yC,Rs],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({providers:[Rse,kse]}),n})();const{isArray:Vse}=Array;function oB(n){return 1===n.length&&Vse(n[0])?n[0]:n}class sn extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Use}=Array,{getPrototypeOf:jse,prototype:Hse,keys:$se}=Object;function uB(n){if(1===n.length){const e=n[0];if(Use(e))return{args:e,keys:null};if(function Gse(n){return n&&"object"==typeof n&&jse(n)===Hse}(e)){const t=$se(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function lB(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function cB(n,e,t){n?Ui(t,n,e):e()}function jg(...n){const e=vh(n),t=oB(n);return t.length?new Me(r=>{let i=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<t.length;o++)Dn(t[o]).subscribe(qe(r,a=>{if(i[o].push(a),i.every(u=>u.length)){const u=i.map(l=>l.shift());r.next(e?e(...u):u),i.some((l,c)=>!l.length&&s[c])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):Hr}function Wt(n){return at((e,t)=>{Dn(n).subscribe(qe(t,()=>t.complete(),Tr)),!t.closed&&e.subscribe(t)})}function wC(...n){const e=vh(n);return at((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let u=0;u<i;u++)Dn(n[u]).subscribe(qe(r,l=>{s[u]=l,!a&&!o[u]&&(o[u]=!0,(a=o.every(Bi))&&(o=null))},Tr));t.subscribe(qe(r,u=>{if(a){const l=[u,...s];r.next(e?e(...l):l)}}))})}let dB=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(v(Zr),v(He))},n.\u0275dir=M({type:n}),n})(),sa=(()=>{class n extends dB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=function Cn(n){return Ts(()=>{const e=n.prototype.constructor,t=e[Hi]||y_(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Hi]||y_(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(n)))(r||n)}}(),n.\u0275dir=M({type:n,features:[xe]}),n})();const Vr=new ee("NgValueAccessor"),Qse={provide:Vr,useExisting:Te(()=>$g),multi:!0},Xse=new ee("CompositionEventMode");let $g=(()=>{class n extends dB{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Zse(){const n=Ci()?Ci().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(v(Zr),v(He),v(Xse,8))},n.\u0275dir=M({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&he("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ue([Qse]),xe]}),n})();const kn=new ee("NgValidators"),Qs=new ee("NgAsyncValidators");function DB(n){return null!=n}function EB(n){const e=oc(n)?Rt(n):n;return Oy(e),e}function TB(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function CB(n,e){return e.map(t=>t(n))}function IB(n){return n.map(e=>function toe(n){return!n.validate}(e)?e:t=>e.validate(t))}function DC(n){return null!=n?function AB(n){if(!n)return null;const e=n.filter(DB);return 0==e.length?null:function(t){return TB(CB(t,e))}}(IB(n)):null}function EC(n){return null!=n?function SB(n){if(!n)return null;const e=n.filter(DB);return 0==e.length?null:function(t){return function Yse(...n){const e=vh(n),{args:t,keys:r}=uB(n),i=new Me(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;Dn(t[c]).subscribe(qe(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?lB(r,a):a),s.complete())}))}});return e?i.pipe(mC(e)):i}(CB(t,e).map(EB)).pipe(Y(TB))}}(IB(n)):null}function NB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function TC(n){return n?Array.isArray(n)?n:[n]:[]}function Wg(n,e){return Array.isArray(n)?n.includes(e):n===e}function OB(n,e){const t=TC(e);return TC(n).forEach(i=>{Wg(t,i)||t.push(i)}),t}function RB(n,e){return TC(e).filter(t=>!Wg(n,t))}class kB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Zs extends kB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jn extends kB{get formDirective(){return null}get path(){return null}}class PB{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let FB=(()=>{class n extends PB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(v(Zs,2))},n.\u0275dir=M({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&tt("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[xe]}),n})(),LB=(()=>{class n extends PB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(v(Jn,10))},n.\u0275dir=M({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&tt("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[xe]}),n})();function Ud(n,e){AC(n,e),e.valueAccessor.writeValue(n.value),function loe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BB(n,e)})}(n,e),function doe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function coe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function uoe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Yg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function AC(n,e){const t=function MB(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(NB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function xB(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(NB(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Yg(e._rawValidators,i),Yg(e._rawAsyncValidators,i)}function BB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function MC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const jd="VALID",Qg="INVALID",fl="PENDING",Hd="DISABLED";function OC(n){return(Zg(n)?n.validators:n)||null}function HB(n){return Array.isArray(n)?DC(n):n||null}function RC(n,e){return(Zg(e)?e.asyncValidators:n)||null}function $B(n){return Array.isArray(n)?EC(n):n||null}function Zg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const kC=n=>n instanceof FC;function WB(n){return(n=>n instanceof KB)(n)?n.value:n.getRawValue()}function qB(n,e){const t=kC(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new ve(1e3,"");if(!r[e])throw new ve(1001,"")}function zB(n,e){kC(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new ve(1002,"")})}class PC{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=HB(this._rawValidators),this._composedAsyncValidatorFn=$B(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===jd}get invalid(){return this.status===Qg}get pending(){return this.status==fl}get disabled(){return this.status===Hd}get enabled(){return this.status!==Hd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=HB(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=$B(e)}addValidators(e){this.setValidators(OB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(OB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RB(e,this._rawAsyncValidators))}hasValidator(e){return Wg(this._rawValidators,e)}hasAsyncValidator(e){return Wg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jd,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jd||this.status===fl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hd:jd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fl,this._hasOwnPendingAsyncValidator=!0;const t=EB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function goe(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=kC(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof _oe)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?Hd:this.errors?Qg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fl)?fl:this._anyControlsHaveStatus(Qg)?Qg:jd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class KB extends PC{constructor(e=null,t,r){super(OC(t),RC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zg(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){MC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){MC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class FC extends PC{constructor(e,t,r){super(OC(t),RC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){zB(this,e),Object.keys(e).forEach(r=>{qB(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=WB(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class _oe extends PC{constructor(e,t,r){super(OC(t),RC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){zB(this,e),e.forEach((r,i)=>{qB(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>WB(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const yoe={provide:Jn,useExisting:Te(()=>Xg)},$d=(()=>Promise.resolve(null))();let Xg=(()=>{class n extends Jn{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new se,this.form=new FC({},DC(t),EC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$d.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ud(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$d.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){$d.then(()=>{const r=this._findContainer(t.path),i=new FC({});(function UB(n,e){AC(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$d.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){$d.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function jB(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(v(kn,10),v(Qs,10))},n.\u0275dir=M({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&he("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ue([yoe]),xe]}),n})();const boe={provide:Zs,useExisting:Te(()=>LC)},QB=(()=>Promise.resolve(null))();let LC=(()=>{class n extends Zs{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new KB,this._registered=!1,this.update=new se,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function NC(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===$g?t=s:function poe(n){return Object.getPrototypeOf(n.constructor)===sa}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function SC(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ud(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){QB.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;QB.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function zg(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(v(Jn,9),v(kn,10),v(Qs,10),v(Vr,10),v(ti,8))},n.\u0275dir=M({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ue([boe]),xe,Vn]}),n})(),ZB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=M({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),eU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({}),n})(),Woe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[eU]]}),n})(),yU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[Woe]}),n})();Math,Math,Math;const eue=["*"],yue=["dialog"];function ua(n){return null!=n}function vl(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const kU={animation:!0,transitionTimerDelayMs:5},fle=()=>{},{transitionTimerDelayMs:ple}=kU,Jd=new Map,Qn=(n,e,t,r)=>{let i=r.context||{};const s=Jd.get(e);if(s)switch(r.runningTransition){case"continue":return Hr;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),Jd.delete(e)}const o=t(e,r.animation,i)||fle;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),z(void 0).pipe(function dle(n){return e=>new Me(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new We,u=new We,l=a.pipe(function qse(...n){return e=>hl(e,z(...n))}(!0));Jd.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const c=function hle(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const d=yn(e,"transitionend").pipe(Wt(l),Gt(({target:f})=>f===e));(function aB(...n){return 1===(n=oB(n)).length?Dn(n[0]):new Me(function Bse(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(Dn(n[r]).subscribe(qe(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))})(_C(c+ple).pipe(Wt(l)),d,u).pipe(Wt(l)).subscribe(()=>{Jd.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let sm=(()=>{class n{constructor(){this.animation=kU.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[gr]]}),n})(),jU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[gr]]}),n})(),$U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({}),n})(),qU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[gr]]}),n})(),zU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({}),n})();var qt=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(qt||(qt={})),qt))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const YU=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function JU(n){const e=Array.from(n.querySelectorAll(YU)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let ij=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[gr,yU]]}),n})(),aI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=M({type:n,selectors:[["",8,"navbar"]]}),n})(),aj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({}),n})();class ha{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let sce=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(ut(1)).subscribe(()=>{Qn(this._zone,this._el.nativeElement,(t,r)=>{r&&vl(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Qn(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(v(He),v(ke))},n.\u0275cmp=pi({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(_o("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),tt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class uj{close(e){}dismiss(e){}}class oce{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new We,this._dismissed=new We,this._hidden=new We,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Wt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Wt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function lle(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():z(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),jg(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var eh=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(eh||(eh={})),eh))();let ace=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new We,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new se,this.shown=new We,this.hidden=new We}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ut(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=jg(Qn(this._zone,t,()=>t.classList.remove("show"),r),Qn(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};jg(Qn(this._zone,this._elRef.nativeElement,(s,o)=>{o&&vl(s),s.classList.add("show")},t),Qn(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{yn(t,"keydown").pipe(Wt(this._closed$),Gt(i=>i.which===qt.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(eh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;yn(this._dialogEl.nativeElement,"mousedown").pipe(Wt(this._closed$),ln(()=>r=!1),Dr(()=>yn(t,"mouseup").pipe(Wt(this._closed$),ut(1))),Gt(({target:i})=>t===i)).subscribe(()=>{r=!0}),yn(t,"click").pipe(Wt(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(eh.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=JU(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Qn(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(v(on),v(He),v(ke))},n.\u0275cmp=pi({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&sv(yue,7),2&t){let i;nt(i=function rt(){return function Nz(n,e){return n[19].queries[e].queryList}(E(),EA())}())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(Fe("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),_o("modal d-block"+(r.windowClass?" "+r.windowClass:"")),tt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:eue,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(function lM(n){const e=E()[16][6];if(!e.projection){const r=e.projection=Hl(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?uq(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),U(0,"div",0,1)(2,"div",2),function cM(n,e=0,t){const r=E(),i=be(),s=Ga(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),u_(),64!=(64&s.flags)&&function l8(n,e,t){FS(e[11],0,e,t,IS(n,t,e),MS(t.parent||e[6],t,e))}(i,r,s)}(3),$()()),2&t&&_o("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),uce=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=o),i.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(k(on))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lce=(()=>{class n{constructor(t,r,i,s,o,a){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=s,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new We,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new se,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=yn(e,"focusin").pipe(Wt(t),Y(s=>s.target));yn(e,"keydown").pipe(Wt(t),Gt(s=>s.which===qt.Tab),wC(i)).subscribe(([s,o])=>{const[a,u]=JU(e);(o===a||o===e)&&s.shiftKey&&(u.focus(),s.preventDefault()),o===u&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&yn(e,"click").pipe(Wt(t),wC(i),Y(s=>s[1])).subscribe(s=>s.focus())})})(0,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}open(t,r,i,s){const o=s.container instanceof HTMLElement?s.container:ua(s.container)?this._document.querySelector(s.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),u=this._scrollBar.hide(),l=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const c=new uj,d=this._getContentRef(t,s.injector||r,i,c,s);let h=!1!==s.backdrop?this._attachBackdrop(t,o):void 0,f=this._attachWindowComponent(t,o,d),p=new oce(f,d,h,s.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(f),p.result.then(u,u),p.result.then(l,l),c.close=m=>{p.close(m)},c.dismiss=m=>{p.dismiss(m)},this._applyWindowOptions(f.instance,s),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,s),h.changeDetectorRef.detectChanges()),f.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let s=t.resolveComponentFactory(sce).create(this._injector);return this._applicationRef.attachView(s.hostView),r.appendChild(s.location.nativeElement),s}_attachWindowComponent(t,r,i){let o=t.resolveComponentFactory(ace).create(this._injector,i.nodes);return this._applicationRef.attachView(o.hostView),r.appendChild(o.location.nativeElement),o}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{ua(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{ua(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,s,o){return i?i instanceof ft?this._createFromTemplateRef(i,s):function RU(n){return"string"==typeof n}(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,o):new ha([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new ha([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new ha([[r]])}_createFromComponent(t,r,i,s,o){const a=t.resolveComponentFactory(i),u=dt.create({providers:[{provide:uj,useValue:s}],parent:r}),l=a.create(u),c=l.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new ha([[c]],l.hostView,l)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(k(yc),k(dt),k(on),k(uce),k(Gy),k(ke))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cce=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(k(sm))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dce=(()=>{class n{constructor(t,r,i,s){this._moduleCFR=t,this._injector=r,this._modalStack=i,this._config=s}open(t,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(k(cu),k(dt),k(lce),k(cce))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({providers:[dce]}),n})(),fj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[gr]]}),n})(),wj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[gr]]}),n})(),Ej=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[gr]]}),n})(),Tj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[gr]]}),n})(),Cj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[gr]]}),n})(),Ij=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[gr]]}),n})(),Aj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[gr]]}),n})(),Sj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({}),n})();new ee("live announcer delay",{providedIn:"root",factory:function Tce(){return 100}});let Nj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[gr]]}),n})();const Cce=[UU,jU,$U,qU,zU,ij,aj,lj,fj,wj,Ej,Tj,Cj,Ij,Aj,Sj,Nj];let Ice=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[Cce,UU,jU,$U,qU,zU,ij,aj,lj,fj,wj,Ej,Tj,Cj,Ij,Aj,Sj,Nj]}),n})();const dI_firebase={apiKey:"AIzaSyBK-nd1F7rf35nUi88IEyo4UP7OPZGZ7t0",authDomain:"angular-firebase-272e6.firebaseapp.com",projectId:"angular-firebase-272e6",storageBucket:"angular-firebase-272e6.appspot.com",messagingSenderId:"743577474457",appId:"1:743577474457:web:45b00e4e383de12395af08"},fm=ba(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ace(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(qe(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Mj(n,e){return at(Ace(n,e,arguments.length>=2,!0))}function to(n){return at((e,t)=>{let s,r=null,i=!1;r=e.subscribe(qe(t,void 0,void 0,o=>{s=Dn(n(o,to(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function th(n,e){return oe(e)?Tt(n,e,1):Tt(n,1)}function hI(n){return n<=0?()=>Hr:at((e,t)=>{let r=[];e.subscribe(qe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function xj(n=Sce){return at((e,t)=>{let r=!1;e.subscribe(qe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Sce(){return new fm}function Oj(n){return at((e,t)=>{let r=!1;e.subscribe(qe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function wl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gt((i,s)=>n(i,s,r)):Bi,ut(1),t?Oj(e):xj(()=>new fm))}class ys{constructor(e,t){this.id=e,this.url=t}}class fI extends ys{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nh extends ys{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rj extends ys{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xce extends ys{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oce extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rce extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kce extends ys{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pce extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fce extends ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kj{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pj{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lce{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vce{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bce{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uce{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fj{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ce="primary";class jce{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Dl(n){return new jce(n)}const Lj="ngNavigationCancelingError";function pI(n){const e=Error("NavigationCancelingError: "+n);return e[Lj]=!0,e}function $ce(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Li(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Vj(n[i],e[i]))return!1;return!0}function Vj(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Bj(n){return Array.prototype.concat.apply([],n)}function Uj(n){return n.length>0?n[n.length-1]:null}function vn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Vi(n){return Oy(n)?n:oc(n)?Rt(Promise.resolve(n)):z(n)}const qce={exact:function $j(n,e,t){if(!pa(n.segments,e.segments)||!pm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!$j(n.children[r],e.children[r],t))return!1;return!0},subset:Gj},jj={exact:function zce(n,e){return Li(n,e)},subset:function Kce(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Vj(n[t],e[t]))},ignored:()=>!0};function Hj(n,e,t){return qce[t.paths](n.root,e.root,t.matrixParams)&&jj[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Gj(n,e,t){return Wj(n,e,e.segments,t)}function Wj(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!pa(i,t)||e.hasChildren()||!pm(i,t,r))}if(n.segments.length===t.length){if(!pa(n.segments,t)||!pm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Gj(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(pa(n.segments,i)&&pm(n.segments,i,r)&&n.children[ce])&&Wj(n.children[ce],e,s,r)}}function pm(n,e,t){return e.every((r,i)=>jj[t](n[i].parameters,r.parameters))}class fa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dl(this.queryParams)),this._queryParamMap}toString(){return Qce.serialize(this)}}class me{constructor(e,t){this.segments=e,this.children=t,this.parent=null,vn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gm(this)}}class rh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Dl(this.parameters)),this._parameterMap}toString(){return Jj(this)}}function pa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class qj{}class zj{parse(e){const t=new ode(e);return new fa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ih(e.root,!0)}`,r=function ede(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${mm(t)}=${mm(i)}`).join("&"):`${mm(t)}=${mm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Zce(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const Qce=new zj;function gm(n){return n.segments.map(e=>Jj(e)).join("/")}function ih(n,e){if(!n.hasChildren())return gm(n);if(e){const t=n.children[ce]?ih(n.children[ce],!1):"",r=[];return vn(n.children,(i,s)=>{s!==ce&&r.push(`${s}:${ih(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Jce(n,e){let t=[];return vn(n.children,(r,i)=>{i===ce&&(t=t.concat(e(r,i)))}),vn(n.children,(r,i)=>{i!==ce&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ce?[ih(n.children[ce],!1)]:[`${i}:${ih(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ce]?`${gm(n)}/${t[0]}`:`${gm(n)}/(${t.join("//")})`}}function Kj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mm(n){return Kj(n).replace(/%3B/gi,";")}function gI(n){return Kj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _m(n){return decodeURIComponent(n)}function Yj(n){return _m(n.replace(/\+/g,"%20"))}function Jj(n){return`${gI(n.path)}${function Xce(n){return Object.keys(n).map(e=>`;${gI(e)}=${gI(n[e])}`).join("")}(n.parameters)}`}const tde=/^[^\/()?;=#]+/;function ym(n){const e=n.match(tde);return e?e[0]:""}const nde=/^[^=?&#]+/,ide=/^[^&#]+/;class ode{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ce]=new me(e,t)),r}parseSegment(){const e=ym(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new rh(_m(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ym(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ym(this.remaining);i&&(r=i,this.capture(r))}e[_m(t)]=_m(r)}parseQueryParam(e){const t=function rde(n){const e=n.match(nde);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function sde(n){const e=n.match(ide);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Yj(t),s=Yj(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ym(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ce]:new me([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Qj{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=mI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=mI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=_I(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _I(e,this._root).map(t=>t.value)}}function mI(n,e){if(n===e.value)return e;for(const t of e.children){const r=mI(n,t);if(r)return r}return null}function _I(n,e){if(n===e.value)return[e];for(const t of e.children){const r=_I(n,t);if(r.length)return r.unshift(e),r}return[]}class vs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function El(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Zj extends Qj{constructor(e,t){super(e),this.snapshot=t,yI(this,e)}toString(){return this.snapshot.toString()}}function Xj(n,e){const t=function ade(n,e){const o=new vm([],{},{},"",{},ce,e,null,n.root,-1,{});return new tH("",new vs(o,[]))}(n,e),r=new sn([new rh("",{})]),i=new sn({}),s=new sn({}),o=new sn({}),a=new sn(""),u=new Tl(r,i,o,a,s,ce,e,t.root);return u.snapshot=t.root,new Zj(new vs(u,[]),t)}class Tl{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Y(e=>Dl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Y(e=>Dl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eH(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function ude(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class vm{constructor(e,t,r,i,s,o,a,u,l,c,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tH extends Qj{constructor(e,t){super(t),this.url=e,yI(this,t)}toString(){return nH(this._root)}}function yI(n,e){e.value._routerState=n,e.children.forEach(t=>yI(n,t))}function nH(n){const e=n.children.length>0?` { ${n.children.map(nH).join(", ")} } `:"";return`${n.value}${e}`}function vI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Li(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Li(e.params,t.params)||n.params.next(t.params),function Gce(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Li(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Li(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bI(n,e){const t=Li(n.params,e.params)&&function Yce(n,e){return pa(n,e)&&n.every((t,r)=>Li(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||bI(n.parent,e.parent))}function sh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function cde(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return sh(n,r,i);return sh(n,r)})}(n,e,t);return new vs(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>sh(n,a)),o}}const r=function dde(n){return new Tl(new sn(n.url),new sn(n.params),new sn(n.queryParams),new sn(n.fragment),new sn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>sh(n,s));return new vs(r,i)}}function bm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function oh(n){return"object"==typeof n&&null!=n&&n.outlets}function wI(n,e,t,r,i){let s={};return r&&vn(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new fa(t.root===n?e:rH(t.root,n,e),s,i)}function rH(n,e,t){const r={};return vn(n.children,(i,s)=>{r[s]=i===e?t:rH(i,e,t)}),new me(n.segments,r)}class iH{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&bm(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(oh);if(i&&i!==Uj(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class DI{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function sH(n,e,t){if(n||(n=new me([],{})),0===n.segments.length&&n.hasChildren())return wm(n,e,t);const r=function _de(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(oh(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!aH(u,l,o))return s;r+=2}else{if(!aH(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new me(n.segments.slice(0,r.pathIndex),{});return s.children[ce]=new me(n.segments.slice(r.pathIndex),n.children),wm(s,0,i)}return r.match&&0===i.length?new me(n.segments,{}):r.match&&!n.hasChildren()?EI(n,e,t):r.match?wm(n,0,i):EI(n,e,t)}function wm(n,e,t){if(0===t.length)return new me(n.segments,{});{const r=function mde(n){return oh(n[0])?n[0].outlets:{[ce]:n}}(t),i={};return vn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=sH(n.children[o],e,s))}),vn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new me(n.segments,i)}}function EI(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(oh(s)){const u=yde(s.outlets);return new me(r,u)}if(0===i&&bm(t[0])){r.push(new rh(n.segments[e].path,oH(t[0]))),i++;continue}const o=oh(s)?s.outlets[ce]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&bm(a)?(r.push(new rh(o,oH(a))),i+=2):(r.push(new rh(o,{})),i++)}return new me(r,{})}function yde(n){const e={};return vn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=EI(new me([],{}),0,t))}),e}function oH(n){const e={};return vn(n,(t,r)=>e[r]=`${t}`),e}function aH(n,e,t){return n==t.path&&Li(e,t.parameters)}class bde{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=El(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),vn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=El(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=El(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=El(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Uce(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Vce(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(vI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),vI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function wde(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class TI{constructor(e,t){this.routes=e,this.module=t}}function no(n){return"function"==typeof n}function ga(n){return n instanceof fa}const ah=Symbol("INITIAL_VALUE");function uh(){return Dr(n=>function vC(...n){const e=Ml(n),t=vh(n),{args:r,keys:i}=uB(n);if(0===r.length)return Rt([],e);const s=new Me(function Wse(n,e,t=Bi){return r=>{cB(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)cB(e,()=>{const l=Rt(n[u],e);let c=!1;l.subscribe(qe(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>lB(i,o):Bi));return t?s.pipe(mC(t)):s}(n.map(e=>e.pipe(ut(1),function Hg(...n){const e=Ml(n);return at((t,r)=>{(e?hl(n,t,e):hl(n,t)).subscribe(r)})}(ah)))).pipe(Mj((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==ah?i:(s===ah&&(r=!0),r||!1!==s&&o!==t.length-1&&!ga(s)?i:s),e)},ah),Gt(e=>e!==ah),Y(e=>ga(e)?e:!0===e),ut(1)))}class Ade{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new lh,this.attachRef=null}}class lh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ade,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let uH=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new se,this.deactivateEvents=new se,this.attachEvents=new se,this.detachEvents=new se,this.name=s||ce,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new Sde(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(v(lh),v(Xr),v(cu),function po(n){return function TG(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(MA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(kt(),n)}("name"),v(ti))},n.\u0275dir=M({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Sde{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Tl?this.route:e===lh?this.childContexts:this.parent.get(e,t)}}let lH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=pi({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Di(0,"router-outlet")},directives:[uH],encapsulation:2}),n})();function cH(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Nde(r,Mde(e,r))}}function Nde(n,e){n.children&&cH(n.children,e)}function Mde(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function CI(n){const e=n.children&&n.children.map(CI),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=lH),t}function jr(n){return n.outlet||ce}function dH(n,e){const t=n.filter(r=>jr(r)===e);return t.push(...n.filter(r=>jr(r)!==e)),t}const hH={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dm(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},hH):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||$ce)(t,n,e);if(!s)return Object.assign({},hH);const o={};vn(s.posParams,(u,l)=>{o[l]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Em(n,e,t,r,i="corrected"){if(t.length>0&&function Rde(n,e,t){return t.some(r=>Tm(n,e,r)&&jr(r)!==ce)}(n,t,r)){const o=new me(e,function Ode(n,e,t,r){const i={};i[ce]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&jr(s)!==ce){const o=new me([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[jr(s)]=o}return i}(n,e,r,new me(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function kde(n,e,t){return t.some(r=>Tm(n,e,r))}(n,t,r)){const o=new me(n.segments,function xde(n,e,t,r,i,s){const o={};for(const a of r)if(Tm(n,t,a)&&!i[jr(a)]){const u=new me([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[jr(a)]=u}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new me(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Tm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function fH(n,e,t,r){return!!(jr(n)===r||r!==ce&&Tm(e,t,n))&&("**"===n.path||Dm(e,n,t).matched)}function pH(n,e,t){return 0===e.length&&!n.children[t]}class Cm{constructor(e){this.segmentGroup=e||null}}class gH{constructor(e){this.urlTree=e}}function ch(n){return Vd(new Cm(n))}function mH(n){return Vd(new gH(n))}function Pde(n){return Vd(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class Vde{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Ji)}apply(){const e=Em(this.urlTree.root,[],[],this.config).segmentGroup,t=new me(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ce).pipe(Y(s=>this.createUrlTree(II(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(to(s=>{if(s instanceof gH)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Cm?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ce).pipe(Y(i=>this.createUrlTree(II(i),e.queryParams,e.fragment))).pipe(to(i=>{throw i instanceof Cm?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new me([],{[ce]:e}):e;return new fa(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Y(s=>new me([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Rt(i).pipe(th(s=>{const o=r.children[s],a=dH(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Y(u=>({segment:u,outlet:s})))}),Mj((s,o)=>(s[o.outlet]=o.segment,s),{}),function Nce(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gt((i,s)=>n(i,s,r)):Bi,hI(1),t?Oj(e):xj(()=>new fm))}())}expandSegment(e,t,r,i,s,o){return Rt(r).pipe(th(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(to(l=>{if(l instanceof Cm)return z(null);throw l}))),wl(a=>!!a),to((a,u)=>{if(a instanceof fm||"EmptyError"===a.name)return pH(t,i,s)?z(new me([],{})):ch(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return fH(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):ch(t):ch(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mH(s):this.lineralizeSegments(r,s).pipe(Tt(o=>{const a=new me(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=Dm(t,i,s);if(!a)return ch(t);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?mH(d):this.lineralizeSegments(i,d).pipe(Tt(h=>this.expandSegment(e,t,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?z(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Y(d=>(r._loadedConfig=d,new me(i,{})))):z(new me(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=Dm(t,r,i);return o?this.getChildConfig(e,r,i).pipe(Tt(c=>{const d=c.module,h=c.routes,{segmentGroup:f,slicedSegments:p}=Em(t,a,u,h),m=new me(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(Y(T=>new me(a,T)));if(0===h.length&&0===p.length)return z(new me(a,{}));const y=jr(r)===s;return this.expandSegment(d,m,h,p,y?ce:s,!0).pipe(Y(_=>new me(a.concat(_.segments),_.children)))})):ch(t)}getChildConfig(e,t,r){return t.children?z(new TI(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?z(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Tt(i=>i?this.configLoader.load(e.injector,t).pipe(Y(s=>(t._loadedConfig=s,s))):function Fde(n){return Vd(pI(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):z(new TI([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return z(!0);const s=i.map(o=>{const a=e.get(o);let u;if(function Ede(n){return n&&no(n.canLoad)}(a))u=a.canLoad(t,r);else{if(!no(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}return Vi(u)});return z(s).pipe(uh(),ln(o=>{if(!ga(o))return;const a=pI(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Y(o=>!0===o))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return z(r);if(i.numberOfChildren>1||!i.children[ce])return Pde(e.redirectTo);i=i.children[ce]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new fa(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return vn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return vn(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new me(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function II(n){const e={};for(const r of Object.keys(n.children)){const s=II(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Bde(n){if(1===n.numberOfChildren&&n.children[ce]){const e=n.children[ce];return new me(n.segments.concat(e.segments),e.children)}return n}(new me(n.segments,e))}class _H{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Im{constructor(e,t){this.component=e,this.route=t}}function jde(n,e,t){const r=n._root;return dh(r,e?e._root:null,t,[r.value])}function Am(n,e,t){const r=function $de(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function dh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=El(e);return n.children.forEach(o=>{(function Gde(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function Wde(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!pa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pa(n.url,e.url)||!Li(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bI(n,e)||!Li(n.queryParams,e.queryParams);default:return!bI(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _H(r)):(s.data=o.data,s._resolvedData=o._resolvedData),dh(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Im(a.outlet.component,o))}else o&&hh(e,a,i),i.canActivateChecks.push(new _H(r)),dh(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),vn(s,(o,a)=>hh(o,t.getContext(a),i)),i}function hh(n,e,t){const r=El(n),i=n.value;vn(r,(s,o)=>{hh(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Im(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class ehe{}function yH(n){return new Me(e=>e.error(n))}class nhe{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Em(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ce);if(null===t)return null;const r=new vm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ce,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vs(r,t),s=new tH(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=eH(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=dH(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=vH(r);return function rhe(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return pH(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!fH(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?Uj(r).parameters:{};s=new vm(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DH(e),jr(e),e.component,e,bH(t),wH(t)+r.length,EH(e))}else{const f=Dm(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new vm(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DH(e),jr(e),e.component,e,bH(t),wH(t)+o.length,EH(e))}const u=function ihe(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Em(t,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const f=this.processChildren(u,l);return null===f?null:[new vs(s,f)]}if(0===u.length&&0===c.length)return[new vs(s,[])];const d=jr(e)===i,h=this.processSegment(u,l,c,d?ce:i);return null===h?null:[new vs(s,h)]}}function she(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vH(n){const e=[],t=new Set;for(const r of n){if(!she(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=vH(r.children);e.push(new vs(r.value,i))}return e.filter(r=>!t.has(r))}function bH(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function wH(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function DH(n){return n.data||{}}function EH(n){return n.resolve||{}}function TH(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function AI(n){return Dr(e=>{const t=n(e);return t?Rt(t).pipe(Y(()=>e)):z(e)})}class fhe extends class hhe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const SI=new ee("ROUTES");class CH{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(Y(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new TI(Bj(o.injector.get(SI,void 0,J.Self|J.Optional)).map(CI),o)}),to(s=>{throw t._loader$=void 0,s}));return t._loader$=new X2(i,()=>new We).pipe(Z2()),t._loader$}loadModuleFactory(e){return Vi(e()).pipe(Tt(t=>t instanceof Nx?z(t):Rt(this.compiler.compileModuleAsync(t))))}}class ghe{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function mhe(n){throw n}function _he(n,e,t){return e.parse("/")}function IH(n,e){return z(null)}const yhe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vhe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Er=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new We,this.errorHandler=mhe,this.malformedUriErrorHandler=_he,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:IH,afterPreactivation:IH},this.urlHandlingStrategy=new ghe,this.routeReuseStrategy=new fhe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Ji),this.console=o.get(dO);const d=o.get(ke);this.isNgZoneEnabled=d instanceof ke&&ke.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function Wce(){return new fa(new me([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new CH(o,a,h=>this.triggerEvent(new kj(h)),h=>this.triggerEvent(new Pj(h))),this.routerState=Xj(this.currentUrlTree,this.rootComponentType),this.transitions=new sn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Gt(i=>0!==i.id),Y(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Dr(i=>{let s=!1,o=!1;return z(i).pipe(ln(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dr(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return AH(a.source)&&(this.browserUrlTree=a.extractedUrl),z(a).pipe(Dr(d=>{const h=this.transitions.getValue();return r.next(new fI(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Hr:Promise.resolve(d)}),function Ude(n,e,t,r){return Dr(i=>function Lde(n,e,t,r,i){return new Vde(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(Y(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ln(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function ohe(n,e,t,r,i){return Tt(s=>function the(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new nhe(n,e,t,r,i,s).recognize();return null===o?yH(new ehe):z(o)}catch(o){return yH(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(Y(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),ln(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Oce(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:y}=a,b=new fI(h,this.serializeUrl(f),p,m);r.next(b);const _=Xj(f,this.rootComponentType).snapshot;return z(Object.assign(Object.assign({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:Object.assign(Object.assign({},y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Hr}),AI(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ln(a=>{const u=new Rce(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),Y(a=>Object.assign(Object.assign({},a),{guards:jde(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function qde(n,e){return Tt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?z(Object.assign(Object.assign({},t),{guardsResult:!0})):function zde(n,e,t,r){return Rt(n).pipe(Tt(i=>function Xde(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?z(s.map(a=>{const u=Am(a,e,i);let l;if(function Ide(n){return n&&no(n.canDeactivate)}(u))l=Vi(u.canDeactivate(n,e,t,r));else{if(!no(u))throw new Error("Invalid CanDeactivate guard");l=Vi(u(n,e,t,r))}return l.pipe(wl())})).pipe(uh()):z(!0)}(i.component,i.route,t,e,r)),wl(i=>!0!==i,!0))}(o,r,i,n).pipe(Tt(a=>a&&function Dde(n){return"boolean"==typeof n}(a)?function Kde(n,e,t,r){return Rt(e).pipe(th(i=>hl(function Jde(n,e){return null!==n&&e&&e(new Lce(n)),z(!0)}(i.route.parent,r),function Yde(n,e){return null!==n&&e&&e(new Bce(n)),z(!0)}(i.route,r),function Zde(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Hde(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Bg(()=>z(o.guards.map(u=>{const l=Am(u,o.node,t);let c;if(function Cde(n){return n&&no(n.canActivateChild)}(l))c=Vi(l.canActivateChild(r,n));else{if(!no(l))throw new Error("Invalid CanActivateChild guard");c=Vi(l(r,n))}return c.pipe(wl())})).pipe(uh())));return z(s).pipe(uh())}(n,i.path,t),function Qde(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return z(!0);const i=r.map(s=>Bg(()=>{const o=Am(s,e,t);let a;if(function Tde(n){return n&&no(n.canActivate)}(o))a=Vi(o.canActivate(e,n));else{if(!no(o))throw new Error("Invalid CanActivate guard");a=Vi(o(e,n))}return a.pipe(wl())}));return z(i).pipe(uh())}(n,i.route,t))),wl(i=>!0!==i,!0))}(r,s,n,e):z(a)),Y(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ln(a=>{if(ga(a.guardsResult)){const l=pI(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new kce(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Gt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),AI(a=>{if(a.guards.canActivateChecks.length)return z(a).pipe(ln(u=>{const l=new Pce(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),Dr(u=>{let l=!1;return z(u).pipe(function ahe(n,e){return Tt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return z(t);let s=0;return Rt(i).pipe(th(o=>function uhe(n,e,t,r){return function lhe(n,e,t,r){const i=TH(n);if(0===i.length)return z({});const s={};return Rt(i).pipe(Tt(o=>function che(n,e,t,r){const i=Am(n,e,r);return Vi(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(ln(a=>{s[o]=a}))),hI(1),Tt(()=>TH(s).length===i.length?z(s):Hr))}(n._resolve,n,e,r).pipe(Y(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),eH(n,t).resolve),null)))}(o.route,r,n,e)),ln(()=>s++),hI(1),Tt(o=>s===i.length?z(t):Hr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ln({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),ln(u=>{const l=new Fce(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),AI(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Y(a=>{const u=function lde(n,e,t){const r=sh(n,e._root,t?t._root:void 0);return new Zj(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),ln(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Y(r=>(new bde(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ln({next(){s=!0},complete(){s=!0}}),function Mce(n){return at((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),to(a=>{if(o=!0,function Hce(n){return n&&n[Lj]}(a)){const u=ga(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new Rj(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),u?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||AH(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new xce(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return Hr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){cH(t),this.config=t.map(CI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function hde(n,e,t,r,i){if(0===t.length)return wI(e.root,e.root,e,r,i);const s=function fde(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new iH(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return vn(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new iH(t,e,r)}(t);if(s.toRoot())return wI(e.root,new me([],{}),e,r,i);const o=function pde(n,e,t){if(n.isAbsolute)return new DI(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new DI(s,s===e.root,0)}const r=bm(n.commands[0])?0:1;return function gde(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new DI(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?wm(o.segmentGroup,o.index,s.commands):sH(o.segmentGroup,o.index,s.commands);return wI(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,d,null!=c?c:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ga(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function bhe(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},yhe):!1===r?Object.assign({},vhe):r,ga(t))return Hj(this.currentUrlTree,t,i);const s=this.parseUrl(t);return Hj(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new nh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let l,c,d;o?(l=o.resolve,c=o.reject,d=o.promise):d=new Promise((p,m)=>{l=p,c=m});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Rj(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Sy()},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function AH(n){return"imperative"!==n}class SH{}class NH{preload(e,t){return z(null)}}let MH=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new CH(i,r,u=>t.triggerEvent(new kj(u)),u=>t.triggerEvent(new Pj(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Gt(t=>t instanceof nh),th(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Ji);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return Rt(i).pipe(Nl(),Y(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?z(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Tt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(k(Er),k(hO),k(dt),k(SH))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})(),xI=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fj&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Fj(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Sy()},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();const ma=new ee("ROUTER_CONFIGURATION"),xH=new ee("ROUTER_FORROOT_GUARD"),The=[Cv,{provide:qj,useClass:zj},{provide:Er,useFactory:function Nhe(n,e,t,r,i,s,o={},a,u){const l=new Er(null,n,e,t,r,i,Bj(s));return a&&(l.urlHandlingStrategy=a),u&&(l.routeReuseStrategy=u),function Mhe(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(c=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[qj,lh,Cv,dt,hO,SI,ma,[class phe{},new Ft],[class dhe{},new Ft]]},lh,{provide:Tl,useFactory:function xhe(n){return n.routerState.root},deps:[Er]},MH,NH,class Ehe{preload(e,t){return t().pipe(to(()=>z(null)))}},{provide:ma,useValue:{enableTracing:!1}}];function Che(){return new _O("Router",Er)}let OH=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[The,RH(t),{provide:xH,useFactory:She,deps:[[Er,new Ft,new ql]]},{provide:ma,useValue:r||{}},{provide:gu,useFactory:Ahe,deps:[wo,[new zh(Tv),new Ft],ma]},{provide:xI,useFactory:Ihe,deps:[Er,Z6,ma]},{provide:SH,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:NH},{provide:_O,multi:!0,useFactory:Che},[OI,{provide:If,multi:!0,useFactory:Ohe,deps:[OI]},{provide:kH,useFactory:Rhe,deps:[OI]},{provide:cO,multi:!0,useExisting:kH}]]}}static forChild(t){return{ngModule:n,providers:[RH(t)]}}}return n.\u0275fac=function(t){return new(t||n)(k(xH,8),k(Er,8))},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({}),n})();function Ihe(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new xI(n,e,t)}function Ahe(n,e,t={}){return t.useHash?new F4(n,e):new LO(n,e)}function She(n){return"guarded"}function RH(n){return[{provide:NG,multi:!0,useValue:n},{provide:SI,multi:!0,useValue:n}]}let OI=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new We}appInitializer(){return this.injector.get(R4,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Er),o=this.injector.get(ma);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?z(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ma),i=this.injector.get(MH),s=this.injector.get(xI),o=this.injector.get(Er),a=this.injector.get(yc);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(k(dt))},n.\u0275prov=H({token:n,factory:n.\u0275fac}),n})();function Ohe(n){return n.appInitializer.bind(n)}function Rhe(n){return n.bootstrapListener.bind(n)}const kH=new ee("Router Initializer"),Phe=[];let Fhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n}),n.\u0275inj=Ce({imports:[[OH.forRoot(Phe)],OH]}),n})(),Lhe=(()=>{class n{constructor(t){this.firestore=t}getItemDoc(t){return J2(this.firestore,"items",t)}getItems(){const t=Y2(this.firestore,"items");return K2(t)}getItem(t){const r=J2(this.firestore,"items",t);return lse(r)}queryItems(t){const r=Y2(this.firestore,"items"),i=hse(r,gse("name","==",t));return K2(i)}createItem(t,r){fse(t,{name:r})}updateItem(t,r){pse(t,{name:r})}deleteItem(t){cse(t)}}return n.\u0275fac=function(t){return new(t||n)(k(Vg))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vhe=(()=>{class n{constructor(t){this.auth=t}EmailSignUp(t,r){var i=this;return g(function*(){const s=yield wee(i.auth,t,r);yield Cee(s.user,{displayName:s.user.displayName}),yield Eee(s.user)})()}EmailSignIn(t,r){var i=this;return g(function*(){return yield Tee(i.auth,t,r)})()}GetCurrentUser(){var t=this;return g(function*(){return t.auth.currentUser})()}}return n.\u0275fac=function(t){return new(t||n)(k(Cp))},n.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bhe=(()=>{class n{constructor(t,r){this.firebaseService=t,this.authService=r,this.title="angular-firebase",this.user={email:"",password:""},this.name="",this.items=t.getItems()}SignUp(){var t=this;return g(function*(){yield t.authService.EmailSignUp(t.user.email,t.user.password)})()}SignIn(){var t=this;return g(function*(){let r=!1;try{yield t.authService.EmailSignIn(t.user.email,t.user.password),r=!0}catch(i){console.error(i)}r?(console.log(t.authService.GetCurrentUser()),alert("Sign-In success.")):alert("Sign-In fail")})()}create(){const t=this.firebaseService.getItemDoc("test");this.firebaseService.createItem(t,this.name)}update(){const t=this.firebaseService.getItemDoc("test");this.firebaseService.updateItem(t,this.name)}delete(){const t=this.firebaseService.getItemDoc("test");this.firebaseService.deleteItem(t)}}return n.\u0275fac=function(t){return new(t||n)(v(Lhe),v(Vhe))},n.\u0275cmp=pi({type:n,selectors:[["app-root"]],decls:64,vars:8,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","#",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["href","#","tabindex","-1","aria-disabled","true",1,"nav-link","disabled"],[1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success"],[1,"container"],["type","text","name","email","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-primary",3,"click"],["type","text","name","name","placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-warning",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(U(0,"html",0)(1,"head"),Di(2,"meta",1)(3,"meta",2)(4,"meta",3),U(5,"title"),yt(6,"Document"),$()(),U(7,"body")(8,"nav",4)(9,"div",5)(10,"a",6),yt(11,"Navbar"),$(),U(12,"button",7),Di(13,"span",8),$(),U(14,"div",9)(15,"ul",10)(16,"li",11)(17,"a",12),yt(18,"Home"),$()(),U(19,"li",11)(20,"a",13),yt(21,"Link"),$()(),U(22,"li",14)(23,"a",15),yt(24," Dropdown "),$(),U(25,"ul",16)(26,"li")(27,"a",17),yt(28,"Action"),$()(),U(29,"li")(30,"a",17),yt(31,"Another action"),$()(),U(32,"li"),Di(33,"hr",18),$(),U(34,"li")(35,"a",17),yt(36,"Something else here"),$()()()(),U(37,"li",11)(38,"a",19),yt(39,"Disabled"),$()()(),U(40,"form",20),Di(41,"input",21),U(42,"button",22),yt(43,"Search"),$()()()()(),yt(44),Yy(45,"json"),Yy(46,"async"),U(47,"div",23)(48,"form")(49,"input",24),he("ngModelChange",function(s){return r.user.email=s}),$(),U(50,"input",25),he("ngModelChange",function(s){return r.user.password=s}),$(),U(51,"button",26),he("click",function(){return r.SignUp()}),yt(52,"Sign-up"),$(),U(53,"button",27),he("click",function(){return r.SignIn()}),yt(54,"Sign-in"),$()(),Di(55,"hr"),U(56,"form")(57,"input",28),he("ngModelChange",function(s){return r.name=s}),$(),U(58,"button",26),he("click",function(){return r.create()}),yt(59,"Create"),$(),U(60,"button",29),he("click",function(){return r.update()}),yt(61,"Update"),$(),U(62,"button",30),he("click",function(){return r.delete()}),yt(63,"Delete"),$()()()()()),2&t&&(le(44),au(" ",Jy(45,4,Jy(46,6,r.items))," "),le(5),pe("ngModel",r.user.email),le(1),pe("ngModel",r.user.password),le(7),pe("ngModel",r.name))},directives:[aI,ZB,LB,Xg,$g,FB,LC],pipes:[QO,JO],styles:[""]}),n})(),Uhe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ae({type:n,bootstrap:[Bhe]}),n.\u0275inj=Ce({providers:[],imports:[[I7,Fhe,yU,Lse.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),Ice,WJ(()=>qJ(dI_firebase)),use(()=>dse()),bee(()=>Dee())]]}),n})();(function h4(){EO=!1})(),T7().bootstrapModule(Uhe).catch(n=>console.error(n))},940:function(gh,mh){!function(io){"use strict";function oe(L){return Array.prototype.slice.call(L)}function ba(L){return new Promise(function(ae,Ie){L.onsuccess=function(){ae(L.result)},L.onerror=function(){Ie(L.error)}})}function Ds(L,ae,Ie){var Ne,ye=new Promise(function(Fn,oo){ba(Ne=L[ae].apply(L,Ie)).then(Fn,oo)});return ye.request=Ne,ye}function wa(L,ae,Ie){var Ne=Ds(L,ae,Ie);return Ne.then(function(ye){if(ye)return new hi(ye,Ne.request)})}function Et(L,ae,Ie){Ie.forEach(function(Ne){Object.defineProperty(L.prototype,Ne,{get:function(){return this[ae][Ne]},set:function(ye){this[ae][Ne]=ye}})})}function Da(L,ae,Ie,Ne){Ne.forEach(function(ye){ye in Ie.prototype&&(L.prototype[ye]=function(){return Ds(this[ae],ye,arguments)})})}function so(L,ae,Ie,Ne){Ne.forEach(function(ye){ye in Ie.prototype&&(L.prototype[ye]=function(){return this[ae][ye].apply(this[ae],arguments)})})}function Al(L,ae,Ie,Ne){Ne.forEach(function(ye){ye in Ie.prototype&&(L.prototype[ye]=function(){return wa(this[ae],ye,arguments)})})}function Pn(L){this._index=L}function hi(L,ae){this._cursor=L,this._request=ae}function ar(L){this._store=L}function Tr(L){this._tx=L,this.complete=new Promise(function(ae,Ie){L.oncomplete=function(){ae()},L.onerror=function(){Ie(L.error)},L.onabort=function(){Ie(L.error)}})}function Ea(L,ae,Ie){this._db=L,this.oldVersion=ae,this.transaction=new Tr(Ie)}function Ta(L){this._db=L}Et(Pn,"_index",["name","keyPath","multiEntry","unique"]),Da(Pn,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Al(Pn,"_index",IDBIndex,["openCursor","openKeyCursor"]),Et(hi,"_cursor",["direction","key","primaryKey","value"]),Da(hi,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(L){L in IDBCursor.prototype&&(hi.prototype[L]=function(){var ae=this,Ie=arguments;return Promise.resolve().then(function(){return ae._cursor[L].apply(ae._cursor,Ie),ba(ae._request).then(function(Ne){if(Ne)return new hi(Ne,ae._request)})})})}),ar.prototype.createIndex=function(){return new Pn(this._store.createIndex.apply(this._store,arguments))},ar.prototype.index=function(){return new Pn(this._store.index.apply(this._store,arguments))},Et(ar,"_store",["name","keyPath","indexNames","autoIncrement"]),Da(ar,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Al(ar,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),so(ar,"_store",IDBObjectStore,["deleteIndex"]),Tr.prototype.objectStore=function(){return new ar(this._tx.objectStore.apply(this._tx,arguments))},Et(Tr,"_tx",["objectStoreNames","mode"]),so(Tr,"_tx",IDBTransaction,["abort"]),Ea.prototype.createObjectStore=function(){return new ar(this._db.createObjectStore.apply(this._db,arguments))},Et(Ea,"_db",["name","version","objectStoreNames"]),so(Ea,"_db",IDBDatabase,["deleteObjectStore","close"]),Ta.prototype.transaction=function(){return new Tr(this._db.transaction.apply(this._db,arguments))},Et(Ta,"_db",["name","version","objectStoreNames"]),so(Ta,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(L){[ar,Pn].forEach(function(ae){L in ae.prototype&&(ae.prototype[L.replace("open","iterate")]=function(){var Ie=oe(arguments),Ne=Ie[Ie.length-1],ye=this._store||this._index,Fn=ye[L].apply(ye,Ie.slice(0,-1));Fn.onsuccess=function(){Ne(Fn.result)}})})}),[Pn,ar].forEach(function(L){L.prototype.getAll||(L.prototype.getAll=function(ae,Ie){var Ne=this,ye=[];return new Promise(function(Fn){Ne.iterateCursor(ae,function(oo){oo?(ye.push(oo.value),void 0===Ie||ye.length!=Ie?oo.continue():Fn(ye)):Fn(ye)})})})}),io.openDb=function Rm(L,ae,Ie){var Ne=Ds(indexedDB,"open",[L,ae]),ye=Ne.request;return ye&&(ye.onupgradeneeded=function(Fn){Ie&&Ie(new Ea(ye.result,Fn.oldVersion,ye.transaction))}),Ne.then(function(Fn){return new Ta(Fn)})},io.deleteDb=function Sl(L){return Ds(indexedDB,"deleteDatabase",[L])},Object.defineProperty(io,"__esModule",{value:!0})}(mh)}},gh=>{gh(gh.s=384)}]);